<!-- ==========================================================
Lightflow âˆ®27 â€” FINAL STABLE (DAWN MICRO)
â‘  HEAD / STYLE  (ì•ˆì •/ê°€ë…/ë¬´ê´‘ ê³¨ë“œ/ë°°ê²½/ê·¸ë¦¬ë“œ/ëª¨ë‹¬/ë¼ì´íŠ¸ë°•ìŠ¤)
========================================================== -->
<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#070A14" />
  <meta name="format-detection" content="telephone=no,address=no,email=no" />

  <title>ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE âˆ®27 Â· Lightflow</title>
  <meta name="description" content="LIGHTFLOW Â· LIGHT Â· MEMORY Â· BEING â€” ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE" />

  <link rel="canonical" href="https://dungzak.art/" />

  <!-- OG / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE Â· Lightflow âˆ®27" />
  <meta property="og:description" content="LIGHTFLOW Â· LIGHT Â· MEMORY Â· BEING" />
  <meta property="og:url" content="https://dungzak.art/" />
  <!-- í•„ìš” ì‹œ ëŒ€í‘œ ì´ë¯¸ì§€ ì§€ì •: /images/og.jpg ê°™ì€ íŒŒì¼ì´ ìˆì„ ë•Œë§Œ ì‚¬ìš© -->
  <!-- <meta property="og:image" content="https://dungzak.art/images/og.jpg" /> -->
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Google Translate bar ì°¨ë‹¨ -->
  <meta name="google" content="notranslate" />
  <meta name="googlebot" content="notranslate" />
  <style>
    /* =========================================================
       Base / Reset
    ========================================================= */
    :root{
      --bg0:#050812;
      --bg1:#070A14;
      --bg2:#0A1022;

      --gold:#D7B86A;
      --gold2:#E9D59B;
      --blue:#79A7FF;

      --ink:#EDE3C9;
      --muted:rgba(237,227,201,.72);
      --muted2:rgba(237,227,201,.55);

      --card:rgba(255,255,255,.035);
      --card2:rgba(255,255,255,.055);
      --line:rgba(215,184,106,.22);
      --line2:rgba(121,167,255,.18);

      --shadow: 0 16px 40px rgba(0,0,0,.45);
      --r:18px;

      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bot: env(safe-area-inset-bottom, 0px);
      --safe-left: env(safe-area-inset-left, 0px);
      --safe-right: env(safe-area-inset-right, 0px);

      --maxw: 1120px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:
        radial-gradient(1200px 700px at 50% 0%, rgba(215,184,106,.10), rgba(121,167,255,.06) 40%, rgba(0,0,0,0) 72%),
        linear-gradient(180deg, var(--bg1), var(--bg0) 65%, #03040A);
      color:var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      letter-spacing:.2px;
      overflow-x:hidden;
      padding-left: calc(var(--safe-left));
      padding-right: calc(var(--safe-right));
    }

    a{ color:var(--gold2); text-decoration:none; }
    a:hover{ text-decoration:underline; }
    img{ max-width:100%; display:block; }

    /* =========================================================
       Language visibility
    ========================================================= */
    .ko,.en{ display:block; }
    body.korean .en{ display:none !important; }
    body.english .ko{ display:none !important; }
    body.hybrid .ko,
    body.hybrid .en{ display:block !important; }

    /* =========================================================
       Waves canvas
    ========================================================= */
    #waves{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:-2;
      pointer-events:none;
      opacity:1;
    }

    /* =========================================================
       Header / Nav
    ========================================================= */
    header{
      position:sticky;
      top:0;
      z-index:20;
      padding-top: calc(14px + var(--safe-top));
      padding-bottom: 12px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(5,8,18,.86), rgba(5,8,18,.58));
      border-bottom:1px solid rgba(215,184,106,.16);
    }

    header .brand,
    header .brand-sub{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 0 18px;
    }

    header .brand{
      font-weight:800;
      color:var(--gold2);
      letter-spacing:.7px;
      text-shadow:none; /* ë¹›ë²ˆì§ ë°©ì§€ */
      font-size: 15px;
      line-height: 1.25;
    }

    header .brand-sub{
      margin-top:6px;
      font-size:12px;
      letter-spacing:.35px;
      color:rgba(237,227,201,.68);
    }

    nav.primary{
      max-width: var(--maxw);
      margin: 12px auto 0;
      padding: 0 18px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    nav.primary button{
      appearance:none;
      border:1px solid rgba(215,184,106,.28);
      background: rgba(255,255,255,.03);
      color:var(--gold2);
      padding:10px 12px;
      border-radius: 999px;
      font-weight:700;
      font-size:13px;
      cursor:pointer;
      transition: transform .06s ease, background .18s ease, border-color .18s ease;
      min-height: 40px; /* í„°ì¹˜ì˜ì—­ */
    }
    nav.primary button:hover{
      background: rgba(215,184,106,.08);
      border-color: rgba(215,184,106,.42);
    }
    nav.primary button.active{
      background: rgba(215,184,106,.12);
      border-color: rgba(215,184,106,.55);
    }
    nav.primary button:active{ transform: translateY(1px); }
    nav.primary button:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    .lang{
      max-width: var(--maxw);
      margin: 10px auto 0;
      padding: 0 18px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .lang button{
      appearance:none;
      border:1px solid rgba(121,167,255,.22);
      background: rgba(255,255,255,.03);
      color:rgba(237,227,201,.9);
      padding:8px 12px;
      border-radius: 999px;
      font-weight:800;
      font-size:12px;
      cursor:pointer;
      min-height: 38px;
    }
    .lang button.active{
      border-color: rgba(215,184,106,.55);
      background: rgba(215,184,106,.10);
      color: var(--gold2);
    }
    .lang button:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    /* =========================================================
       Main layout
    ========================================================= */
    main{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 18px 18px calc(26px + var(--safe-bot));
    }

    section{
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.04);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    /* =========================================================
       POEM
    ========================================================= */
    .hero{
      padding: 18px 18px 20px;
      position:relative;
    }
    .hero h1{
      margin:0;
      font-size: 20px;
      letter-spacing:.4px;
      color: var(--gold2);
      text-shadow:none;
    }
    .poemwrap{
      margin-top:14px;
      padding: 14px 14px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border: 1px solid rgba(215,184,106,.12);
    }
    .poem p{ margin:10px 0; line-height:1.7; color:rgba(237,227,201,.86); }

    /* =========================================================
       WORKS
    ========================================================= */
    #works{ padding: 18px; }
    #works h2{ margin:0; color:var(--gold2); text-shadow:none; }
    .tabs{
      margin-top:14px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .tabs .tab{
      appearance:none;
      border:1px solid rgba(215,184,106,.20);
      background: rgba(255,255,255,.02);
      color:rgba(237,227,201,.88);
      border-radius: 999px;
      padding:9px 12px;
      font-weight:800;
      font-size:12px;
      cursor:pointer;
      min-height: 38px;
    }
    .tabs .tab.active{
      border-color: rgba(215,184,106,.55);
      background: rgba(215,184,106,.10);
      color: var(--gold2);
    }
    .tabs .tab:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    .tabpanel{ display:none; margin-top:16px; }
    .tabpanel.active{ display:block; }

    .w-grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 980px){
      .w-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
    }
    @media (max-width: 680px){
      .w-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }

    .w-card{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border:1px solid rgba(255,255,255,.05);
      border-radius: 16px;
      overflow:hidden;
      cursor:pointer;
      transition: transform .10s ease, border-color .16s ease, background .16s ease;
    }
    .w-card:hover{
      transform: translateY(-1px);
      border-color: rgba(215,184,106,.26);
      background: rgba(215,184,106,.05);
    }
    .w-thumb{
      width:100%;
      aspect-ratio: 4/5;
      object-fit: cover;
      background: rgba(0,0,0,.18);
    }
    .w-meta{
      padding: 10px 10px 12px;
      border-top:1px solid rgba(255,255,255,.045);
    }
    .w-title{
      font-weight:900;
      color:rgba(237,227,201,.92);
      line-height:1.35;
      font-size: 13px;
    }
    .w-title .ko,
    .w-title .en{ margin:0; }
    .w-sub{
      margin-top:6px;
      font-size: 12px;
      color: rgba(237,227,201,.68);
      line-height:1.45;
      white-space: pre-line;
    }
    .w-msg{
      padding: 16px;
      border-radius: 14px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.05);
      color: rgba(237,227,201,.85);
    }
    .w-msg small{ display:block; margin-top:6px; color: rgba(237,227,201,.58); }

    /* =========================================================
       REPORTS
    ========================================================= */
    #reports{ padding:18px; }
    #reports h2{ margin:0; color:var(--gold2); text-shadow:none; }
    .reports-omega{ margin-top:14px; }

    .r-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      padding: 10px 10px;
      border-radius: 14px;
      background: rgba(255,255,255,.02);
      border: 1px solid rgba(255,255,255,.05);
    }
    .r-tabs{ display:flex; gap:8px; flex-wrap:wrap; }
    .r-tab{
      appearance:none;
      border:1px solid rgba(121,167,255,.18);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.85);
      border-radius: 999px;
      padding:8px 12px;
      font-weight:800;
      font-size:12px;
      cursor:pointer;
      min-height: 38px;
    }
    .r-tab.is-active{
      border-color: rgba(215,184,106,.55);
      background: rgba(215,184,106,.10);
      color: var(--gold2);
    }
    .r-toggle{
      appearance:none;
      border:1px solid rgba(215,184,106,.28);
      background: rgba(215,184,106,.08);
      color: var(--gold2);
      border-radius: 999px;
      padding:8px 12px;
      font-weight:900;
      cursor:pointer;
      min-height: 38px;
    }

    .r-grid{
      margin-top: 12px;
      display:none;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 980px){
      .r-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
    @media (max-width: 680px){
      .r-grid{ grid-template-columns: 1fr; }
    }

    .r-item{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border:1px solid rgba(255,255,255,.05);
      border-radius: 16px;
      padding: 12px 12px;
      cursor:pointer;
      transition: transform .10s ease, border-color .16s ease, background .16s ease;
      white-space: pre-line;
    }
    .r-item:hover{
      transform: translateY(-1px);
      border-color: rgba(215,184,106,.26);
      background: rgba(215,184,106,.05);
    }
    .r-item .t{
      font-weight:900;
      color: rgba(237,227,201,.92);
      line-height:1.35;
    }
    .r-item .m{
      margin-top:6px;
      font-size:12px;
      color: rgba(237,227,201,.60);
    }
    .r-item .s{
      margin-top:10px;
      font-size:12px;
      color: rgba(237,227,201,.74);
      line-height:1.55;
      white-space: pre-line;
    }

    .r-viewer{
      display:none;
      margin-top: 14px;
      padding: 14px 14px;
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.05);
      box-shadow: var(--shadow);
    }
    .rv-title{
      font-weight:900;
      color: var(--gold2);
      font-size: 15px;
      line-height:1.35;
    }
    .rv-meta{
      margin-top:6px;
      font-size:12px;
      color: rgba(237,227,201,.62);
    }
    .rv-summary,
    .rv-body{
      margin-top:12px;
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.05);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.85);
      line-height:1.65;
      white-space: pre-wrap;
      word-break: break-word;
      overflow:auto;
      max-height: 60vh;
    }

    /* =========================================================
       BIO MODAL
    ========================================================= */
    #bio-modal[hidden]{ display:none !important; }
    #bio-modal{
      position: fixed;
      inset:0;
      z-index: 50;
    }
    .bio-backdrop{
      position:absolute;
      inset:0;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    .bio-card{
      position:relative;
      max-width: 980px;
      width: calc(100% - 28px);
      margin: calc(18px + var(--safe-top)) auto calc(18px + var(--safe-bot));
      background: linear-gradient(180deg, rgba(10,16,34,.92), rgba(5,8,18,.92));
      border:1px solid rgba(215,184,106,.18);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .bio-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 14px 14px;
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .bio-head h2{
      margin:0;
      color: var(--gold2);
      text-shadow:none;
      font-size: 15px;
    }
    .bio-lang{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .bio-lang .lang{
      appearance:none;
      border:1px solid rgba(121,167,255,.18);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.85);
      border-radius: 999px;
      padding:8px 12px;
      font-weight:900;
      font-size:12px;
      cursor:pointer;
      min-height: 36px;
    }
    .bio-lang .lang.active{
      border-color: rgba(215,184,106,.55);
      background: rgba(215,184,106,.10);
      color: var(--gold2);
    }
    .bio-close{
      appearance:none;
      border:1px solid rgba(215,184,106,.28);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      width: 40px;
      height: 40px;
      border-radius: 12px;
      cursor:pointer;
      font-size: 18px;
      font-weight:900;
    }

    .expo-kicker{
      width:100%;
      text-align:left;
      appearance:none;
      border:0;
      border-bottom:1px solid rgba(255,255,255,.05);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.9);
      padding: 12px 14px;
      font-weight:900;
      cursor:pointer;
    }

    .slide-wrap{
      max-height: 0px;
      overflow:hidden;
      transition: max-height .35s ease;
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .slide-wrap[data-open="true"]{
      max-height: 1400px; /* ì¶©ë¶„íˆ í¬ê²Œ */
    }
    .bio-body{
      padding: 14px 14px;
      color: rgba(237,227,201,.86);
      line-height: 1.7;
    }
    .bio-body p{ margin: 10px 0; }
    .bio-body strong{ color: var(--gold2); }

    /* =========================================================
       LIGHTBOX
    ========================================================= */
    #lightbox{
      position: fixed;
      inset:0;
      z-index: 60;
      display:none;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    #lightbox.is-open{ display:block; }
    .lb-stage{
      position:absolute;
      inset: 14px 14px calc(14px + var(--safe-bot)) 14px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap: 12px;
      padding-top: calc(var(--safe-top));
    }
    #lbImg{
      max-width: min(980px, 96vw);
      max-height: min(72vh, 760px);
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.08);
      box-shadow: var(--shadow);
      background: rgba(0,0,0,.25);
      object-fit: contain;
    }
    .lb-caption{
      width: min(980px, 96vw);
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.06);
      background: rgba(5,8,18,.62);
      color: rgba(237,227,201,.86);
      white-space: pre-wrap;
      line-height:1.65;
    }
    .lb-close{
      position:absolute;
      top: calc(14px + var(--safe-top));
      right: calc(14px + var(--safe-right));
      width: 42px;
      height: 42px;
      border-radius: 14px;
      appearance:none;
      border:1px solid rgba(215,184,106,.28);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      font-size: 18px;
      font-weight: 900;
      cursor:pointer;
    }

    /* =========================================================
       FFT + Controls
    ========================================================= */
    #fftBar{
      position: fixed;
      left: 0;
      right: 0;
      bottom: calc(0px + var(--safe-bot));
      height: 3px;
      z-index: 70;
      background: rgba(255,255,255,.06);
      pointer-events:none;
    }
    #fftBar span{
      display:block;
      height:100%;
      width:0%;
      background: rgba(215,184,106,.55);
      transition: width .08s linear;
    }

    #ctrl{
      position: fixed;
      right: calc(14px + var(--safe-right));
      bottom: calc(14px + var(--safe-bot) + 6px);
      z-index: 71;
      display:flex;
      gap:10px;
    }
    .ctrlbtn{
      width: 44px;
      height: 44px;
      border-radius: 16px;
      appearance:none;
      border: 1px solid rgba(215,184,106,.26);
      background: rgba(5,8,18,.55);
      color: var(--gold2);
      font-size: 18px;
      cursor:pointer;
      box-shadow: 0 12px 28px rgba(0,0,0,.35);
    }
    .ctrlbtn[disabled]{
      opacity:.5;
      cursor:not-allowed;
    }

    /* =========================================================
       Footer (ë§í¬ ë²„íŠ¼ê¸‰)
    ========================================================= */
    footer{
      max-width: var(--maxw);
      margin: 18px auto 0;
      padding: 14px 18px calc(16px + var(--safe-bot));
      border-top:1px solid rgba(215,184,106,.14);
      background: linear-gradient(180deg, rgba(5,8,18,.10), rgba(0,0,0,0));
      border-radius: 18px;
    }
    footer .links{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    footer .links a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-height: 44px;
      padding: 0 14px;
      border-radius: 999px;
      border:1px solid rgba(215,184,106,.28);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      font-weight: 900;
      letter-spacing:.2px;
      text-decoration:none;
    }
    footer .links a:hover{
      background: rgba(215,184,106,.10);
      border-color: rgba(215,184,106,.55);
      text-decoration:none;
    }
    footer .links a:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    footer small{
      display:block;
      margin-top: 10px;
      color: rgba(237,227,201,.62);
      letter-spacing:.2px;
    }

    /* =========================================================
       Reduced motion
    ========================================================= */
    @media (prefers-reduced-motion: reduce){
      *{ scroll-behavior:auto !important; transition:none !important; animation:none !important; }
      #fftBar span{ transition:none !important; }
    }
  </style>
</head>

<!-- ==========================================================
Lightflow âˆ®27 â€” FINAL STABLE (DAWN MICRO)
â‘¡ BODY / HTML  (ì‚¬ìš©ì ì›ë¬¸ 100% ìœ ì§€)
========================================================== -->
<body class="korean">
  <canvas id="waves" aria-hidden="true"></canvas>

  <header>
    <div class="brand">ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE âˆ®27</div>
    <div class="brand-sub">LIGHTFLOW Â· LIGHT Â· MEMORY Â· BEING</div>

    <nav class="primary" aria-label="Primary">
      <button type="button" data-target="poem" class="active" aria-current="page">Poem</button>
      <button type="button" data-target="works">Works</button>
      <button type="button" data-target="reports">Reports</button>
      <button type="button" id="tab-bio">Artist Bio</button>
    </nav>

    <div class="lang" aria-label="Language">
      <button type="button" id="koBtn" class="active">KR</button>
      <button type="button" id="enBtn">EN</button>
      <button type="button" id="hyBtn">KR+EN</button>
    </div>
  </header>

  <main>
    <!-- 1) POEM -->
    <section id="poem" class="hero">
      <h1 class="ko">ë¹› Â· ê¸°ì–µ Â· ì¡´ì¬</h1>
      <h1 class="en">Light Â· Memory Â· Being</h1>

      <div class="poemwrap">
        <p class="ko" style="font-weight:700">ã€ˆíŒŒë¦¬ì˜ ì„¼ëŠê°•ã€‰</p>
        <p class="en" style="font-weight:700">ã€ˆThe Seine of Parisã€‰</p>
        <p class="ko" style="opacity:.85;margin-top:4px">ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE</p>
        <p class="en" style="opacity:.85;margin-top:4px">DUNGZAK CESTLAVIE</p>

        <div class="poem">
          <p class="ko">ì„¼ëŠê°• ë‹¤ë¦¬ ì•„ë˜, ë…¸íŠ¸ë¥´ë‹´ ì„±ë‹¹ì˜ ì´›ë¶ˆì´ ì¼œì§ˆ ë¬´ë µâ€”</p>
          <p class="en">Beneath the bridge of the Seine, as the candles of Notre-Dame begin to glowâ€”</p>

          <p class="ko">ì†Œë°•í•œ ê¿ˆë“¤ì„ ì•ˆê³  ì‚¬ëŠ” ì‚¬ëŒë“¤ì´ ëª¨ì—¬ ì¶¤ì¶˜ë‹¤.</p>
          <p class="en">People who live with humble dreams gather to dance.</p>

          <p class="ko">ë¹™ê¸€ë¹™ê¸€ ëŒì•„ê°€ë©° ë‚´ë”›ëŠ” ë°œê±¸ìŒì˜ í™”ìŒ ìœ„ë¡œ,</p>
          <p class="en">Their circling steps form harmonies upon the rhythm of their feet,</p>

          <p class="ko">ë°”ì´ì˜¬ë¦°ì´ ìƒˆíŒŒë—ê³  ìƒ›ë…¸ë‘ì˜ ë¹›ì„ í©ë¿Œë¦¬ë©° ì›ƒëŠ”ë‹¤.</p>
          <p class="en">As violins scatter blue and golden light, laughing in brilliance.</p>

          <p class="ko">ê¿ˆê¾¸ëŠ” ì—¬ì¸ë“¤ê³¼ ê¿ˆê¾¸ëŠ” ë‚¨ì„±ë“¤ì´ ì†ì„ ì¡ê³ ,</p>
          <p class="en">Dreaming women and dreaming men clasp hands,</p>

          <p class="ko">ì‚¬ëŒì˜ í–¥ê¸°ë¥¼ ë§¡ìœ¼ë©° ì¬ë¹ ë¥¸ ìŒë¥ ì— ëª¸ì„ ë§¡ê¸´ë‹¤.</p>
          <p class="en">Breathing the scent of humanity, surrendering to the swift rhythm.</p>

          <p class="ko">ì•„ë‹´ê³¼ ì´ë¸Œì˜ ë³„ìêµ­ì´ ëˆˆë¬¼ë°©ìš¸ì²˜ëŸ¼ í˜ëŸ¬ë‚´ë¦¬ëŠ” ë‚˜ë¬´,</p>
          <p class="en">A tree where Adam and Eveâ€™s star-traces drip like tears,</p>

          <p class="ko">ê·¸ í’ê²½ ì†ì—ì„œ ì´ˆìŠ¹ë‹¬ì€ ì–´ì—¬ìœ í•˜ì–€ ë¯¸ì†Œë¥¼ í˜ë¦°ë‹¤.</p>
          <p class="en">In that scene, the crescent moon releases a tender white smile.</p>

          <p class="ko">ìƒ¤ë½, ìƒ¤ë½â€” ì¶¤ì‚¬ìœ„ì˜ ë¦¬ë“¬ì´ í™•ì¥ë ìˆ˜ë¡,</p>
          <p class="en">Sharak, sharakâ€” as the rhythm of dance expands,</p>

          <p class="ko">êµ¬ê²½í•˜ë˜ ì´ë“¤ë§ˆì € ì–´ê¹¨ì™€ í—ˆë¦¬ë¥¼ ë“¤ì©ì´ë©°,</p>
          <p class="en">Even the onlookers begin to sway their shoulders and waists,</p>

          <p class="ko">ì‚¬ë‘ì˜ ì…ë§ì¶¤ì„ ì˜ì‹í•œë‹¤.</p>
          <p class="en">Becoming aware of loveâ€™s gentle kiss.</p>

          <p class="ko">í˜ëŸ¬ê° ì†ì— í¬ê°œì§„ ìˆœê°„, ê·¸ë“¤ì€ ì˜í˜¼ì˜ ë°•ì œê°€ ë˜ì–´,</p>
          <p class="en">Within the flowing overlap of time, they become taxidermies of the soul,</p>

          <p class="ko">ë©ˆì¶¤ ì†ì— ì˜ì›ì„ ìƒˆê¸´ë‹¤.</p>
          <p class="en">inscribing eternity into stillness.</p>
        </div>
      </div>
    </section>

    <!-- 2) WORKS -->
    <section id="works" style="display:none">
      <h2 class="ko">ì‘í’ˆ ì•„ì¹´ì´ë¸Œ</h2>
      <h2 class="en">Artworks</h2>

      <div class="tabs" role="tablist">
        <button type="button" class="tab active" data-panel="pray">â…  ìš°ë¦¬ë¥¼ ìœ„í•´ ê¸°ë„í•´ ì£¼ì„¸ìš” Â· Pray for Us</button>
        <button type="button" class="tab" data-panel="human">â…¡ ì¸ê°„ Â· Human Being</button>
        <button type="button" class="tab" data-panel="rebirth">â…¢ ì •ì‹ ì˜ ì¬íƒ„ìƒ Â· Rebirth of Mind</button>
        <button type="button" class="tab" data-panel="exist">â…£ ì¡´ì¬ì˜ íšŒë³µ Â· Restoration of Being</button>
        <button type="button" class="tab" data-panel="cosmos">â…¤ ë¹›ì˜ ì´ˆì˜ì‹ Â· Metaconsciousness of Light</button>
      </div>

      <div id="panel-pray" class="tabpanel active"></div>
      <div id="panel-human" class="tabpanel"></div>
      <div id="panel-rebirth" class="tabpanel"></div>
      <div id="panel-exist" class="tabpanel"></div>
      <div id="panel-cosmos" class="tabpanel"></div>
    </section>

    <!-- 3) REPORTS -->
    <section id="reports" style="display:none">
      <h2 class="ko">ë¯¸í•™ ë³´ê³ ì„œ (DCAR Series)</h2>
      <h2 class="en">Aesthetic Reports (DCAR Series)</h2>

      <div class="reports-omega">
        <div class="r-head">
          <div class="r-tabs">
            <button type="button" class="r-tab is-active" data-r="all">All</button>
            <button type="button" class="r-tab" data-r="theory">Theory</button>
            <button type="button" class="r-tab" data-r="archive">Archive</button>
            <button type="button" class="r-tab" data-r="practice">Practice</button>
          </div>
          <button type="button" id="reportsToggle" class="r-toggle" aria-expanded="false">
            Open Reports
          </button>
        </div>

        <div id="reportGrid" class="r-grid"></div>
        <div id="reportViewer" class="r-viewer" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <!-- ARTIST BIO MODAL (ì›ë¬¸ ìœ ì§€) -->
  <div id="bio-modal" hidden>
    <div class="bio-backdrop"></div>

    <div class="bio-card" role="dialog" aria-modal="true" aria-labelledby="bio-title">
      <div class="bio-head">
        <h2 id="bio-title" class="ko">ì‘ê°€ ì†Œê°œ</h2>
        <h2 class="en">Artist Bio</h2>

        <div class="bio-lang">
          <button class="lang active" data-bio-lang="kr" aria-pressed="true">KR</button>
          <button class="lang" data-bio-lang="en" aria-pressed="false">EN</button>
        </div>

        <button class="bio-close" aria-label="Close">âœ•</button>
      </div>

      <button class="expo-kicker" id="expoToggle" aria-expanded="false">
        <span class="ko">ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE Â· êµ­ë‚´ì™¸ ê°œì¸ì „ 29íšŒ â–¾</span>
        <span class="en">DUNGZAK CESTLAVIE Â· 29 solo exhibitions worldwide â–¾</span>
      </button>

      <div class="slide-wrap" id="expoSlide" data-open="false">
        <div class="bio-body ko">
          <p><strong>êµ­ë‚´ ì£¼ìš”ì „ì‹œ</strong></p>
          <p>2026 ê¹€ì •ìˆ™ ê°¤ëŸ¬ë¦¬, ì¸ì²œ, ëŒ€í•œë¯¼êµ­</p>
          <p>2025 êµ¬êµ¬ê°¤ëŸ¬ë¦¬ ëª©ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2023, 2024 êµ¬êµ¬ê°¤ëŸ¬ë¦¬ ëª©ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2023 ì•„íŠ¸í”ŒëŸ¬ìŠ¤ ê°¤ëŸ¬ë¦¬ ì¸ì‚¬ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2019, 2022 í•´ì–‘ ì—ë„ˆì§€ ì •ì› í•œë‚¨ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2015 NC ê°¤ëŸ¬ë¦¬, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2014 ê°¤ëŸ¬ë¦¬ ê³¨ëª©, ì´íƒœì›, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2013 í”„ë¼ë¯¸ìŠ¤ ëœë“œ, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2009 ì•„íŠ¸ ê°¤ëŸ¬ë¦¬ ìœ , ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2005 íš¡ì„± ë¬¸í™”ê´€, ê°•ì›ë„, ëŒ€í•œë¯¼êµ­</p>
          <p>2003 ìŠ¤í˜ì´ìŠ¤ í‚¤ì¹œ, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2003 í™ëŒ€ ë†€ì´í„° ì‚¬ê³„ ì•¼ì™¸ ì „ì‹œ, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2000 ê°¤ëŸ¬ë¦¬ ì†Œí˜¸, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2000 ì„¸ì›ë°±í™”ì , ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <br><p><strong>êµ­ì™¸ ì£¼ìš”ì „ì‹œ</strong></p>
          <p>2016 Berlin Mitte Live Concert Bar, ë² ë¥¼ë¦°, ë…ì¼</p>
          <p>2015 ëª¨ìŠ¤í¬ë°” êµ­ì œê³µí•­ ã€ì‚¶ê³¼ ì˜ˆìˆ ì˜ ê°„ê²©ã€, ëª¨ìŠ¤í¬ë°”, ëŸ¬ì‹œì•„</p>
          <p>2014 í˜¸ì°Œë¯¼ ì¤‘ì•™ ê²½ì°°ì„œ, ì¦‰í¥ í¼í¬ë¨¼ìŠ¤ & ì „ì‹œ, ë² íŠ¸ë‚¨</p>
          <p>2011 Open Art in Amsterdam, ë„¤ëœë€ë“œ</p>
          <p>2006 Linka Gallery, ì•”ìŠ¤í…Œë¥´ë‹´, ë„¤ëœë€ë“œ</p>
          <p>2005 Lune Cafe, ëª½íŒŒë¥´ë‚˜ìŠ¤, íŒŒë¦¬, í”„ë‘ìŠ¤</p>
          <p>2005 ë£¨ë¸Œë¥´ ë°•ë¬¼ê´€ ì™¸ë²½ ì „ì‹œ, íŒŒë¦¬, í”„ë‘ìŠ¤</p>
          <br><p><strong>ê·¸ ì™¸ ì „ì‹œ</strong></p>
          <p>2025 ê·¸ë¦¼ë”°ë¼ ê±·ëŠ” ë„ì‹œ ìµì‚°, ìµì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2025 ê°¤ëŸ¬ë¦¬5 ì „êµ­ ì´ˆëŒ€ì „, ì¸ì²œ, ëŒ€í•œë¯¼êµ­</p>
          <p>2024, 2025 êµ¬êµ¬ê°¤ëŸ¬ë¦¬ ì†¡ë…„ ì„ ë¬¼ì „, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2022 ê¹€ì˜ìš°Â·ë“±ì‘ 2ì¸ì „, ì•„ë¥´í…œ ê°¤ëŸ¬ë¦¬, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2004 ê´‘ì£¼ë¹„ì—”ë‚ ë ˆ â€œThe Stageâ€, ê´‘ì£¼, ëŒ€í•œë¯¼êµ­</p>
          <p>2004 í•˜ëŒ€ë¦¬ ìˆ²ì† ë¯¸ìˆ ì œ â€œì˜ˆìˆ ì˜ íœ´ê°€â€, íš¡ì„±êµ°, ëŒ€í•œë¯¼êµ­</p>
          <p>2000 JosÃ© DelgadoÂ·ë“±ì‘ 2ì¸ì „, ì„œë©´ ë©”íŠ¸ë¡œ ë¯¸ìˆ ê´€, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <br><p><strong>ì†Œì¥</strong></p>
          <p>ë² ë¥¼ë¦° ì‹œì²­; í›”ë³¼íŠ¸ ë³‘ì›; ë…¸íŠ¸ë¥´ë‹´ ëŒ€ì„±ë‹¹(íŒŒë¦¬); íŒŒë¦¬ ì •ì¹˜ëŒ€í•™; ë°”ë¥´ìƒ¤ë°” êµ­ë¦½ ì˜ë£Œì›; ì¼ë³¸ ë„ì¿„ êµíšŒ; ë² íŠ¸ë‚¨ í˜¸ì°Œë¯¼ ì¤‘ì•™ ê²½ì°°ì„œ; ë„¤ëœë€ë“œ ì•”ìŠ¤í…Œë¥´ë‹´ ë°˜ ê³ í ë¯¸ìˆ ê´€(í¬íŠ¸í´ë¦¬ì˜¤); ë¯¸êµ­ ë‰´ìš• í˜„ëŒ€ ë¯¸ìˆ ê´€(í¬íŠ¸í´ë¦¬ì˜¤); ë©”ë¦¬ì¸  ì¦ê¶Œ; êµ­ë‚´ì™¸ ê°œì¸ ì†Œì¥ì ë‹¤ìˆ˜</p>
          <br><p><strong>ì €ì„œ</strong></p>
          <p>ã€Š1 ëˆˆë¬¼ì€ ì ˆëŒ€ ë©ˆì¶”ì§€ ì•ŠëŠ”ë‹¤ â€” ì˜ˆìˆ ê°€ì˜ ì±…ë¬´ì™€ ì¸ê°„ ìš•ë§ã€‹(2022)</p>
          <p>ã€Šì˜ˆìˆ , ê·¸ ëì—†ëŠ” ì‚¬ë‘ã€‹(2024)</p>
        </div>

        <div class="bio-body en">
          <p><strong>Major Exhibitions in Korea</strong></p>
          <p>2026 Kim Jeongsuk Gallery, Incheon, Republic of Korea</p>
          <p>2025 Gugu Gallery Mokdong, Seoul, Republic of Korea</p>
          <p>2023, 2024 Gugu Gallery Mokdong, Seoul, Republic of Korea</p>
          <p>2023 Art Plus Gallery Insadong, Seoul, Republic of Korea</p>
          <p>2019, 2022 Ocean Energy Garden, Hannam-dong, Seoul, Republic of Korea</p>
          <p>2015 NC Gallery, Busan, Republic of Korea</p>
          <p>2014 Gallery Golmok, Itaewon, Seoul, Republic of Korea</p>
          <p>2013 Promise Land, Busan, Republic of Korea</p>
          <p>2009 Art Gallery You, Busan, Republic of Korea</p>
          <p>2005 Hoengseong Cultural Center, Gangwon-do, Republic of Korea</p>
          <p>2003 Space Kitchen, Seoul, Republic of Korea</p>
          <p>2003 Seasonal Outdoor Project & Exhibition, Hongdae Playground, Seoul, Republic of Korea</p>
          <p>2000 Gallery Soho, Busan, Republic of Korea</p>
          <p>2000 Sewon Department Store, Busan, Republic of Korea</p>
          <br><p><strong>Major International Exhibitions</strong></p>
          <p>2016 Berlin Mitte Live Concert Bar, Berlin, Germany</p>
          <p>2015 Moscow International Airport, â€œThe Distance Between Life and Artâ€, Moscow, Russia</p>
          <p>2014 Improvised performance & exhibition, Ho Chi Minh City Central Police Building, Vietnam</p>
          <p>2011 Open Art in Amsterdam, Netherlands</p>
          <p>2006 Linka Gallery, Amsterdam, Netherlands</p>
          <p>2005 Lune Cafe, Montparnasse, Paris, France</p>
          <p>2005 Exterior Wall Exhibition, Louvre Museum, Paris, France</p>
          <br><p><strong>Selected Other Exhibitions</strong></p>
          <p>2025 Walking with Art in Iksan, Republic of Korea</p>
          <p>2025 Gallery 5 National Invitational Exhibition, Incheon, Republic of Korea</p>
          <p>2024, 2025 Gugu Gallery Year-End Gift Exhibition, Seoul, Republic of Korea</p>
          <p>2022 Two-person Exhibition (Kim Young-woo &amp; DUNGZAK CESTLAVIE), Artem Gallery, Seoul</p>
          <p>2004 Gwangju Biennale â€œThe Stageâ€, Gwangju, Republic of Korea</p>
          <p>2004 Summer Forest Art Festival â€œArt Vacationâ€, Hadaeri, Hoengseong-gun, Republic of Korea</p>
          <p>2000 Two-person Exhibition (JosÃ© Delgado &amp; DUNGZAK CESTLAVIE), Seomyeon Metro Art Museum, Busan, Republic of Korea</p>
          <br><p><strong>Collections</strong></p>
          <p>Berlin City Hall, Germany; Humboldt Hospital, Germany; Notre-Dame Cathedral, Paris, France; Sciences Po, Paris, France; National Medical Institute, Warsaw, Poland;
Church in Tokyo, Japan; Ho Chi Minh City Central Police Department, Vietnam; Van Gogh Museum Amsterdam, Netherlands (Portfolio Collection); Museum of Modern Art, New York, USA (Portfolio Collection);
Meritz Securities Co., Ltd., Republic of Korea;
Numerous private collections worldwide.</p>
          <p><strong>Publications</strong></p>
          <p><em>1 Tears Never Stop</em> â€” The Artistâ€™s Duty and Human Desire (2022)</p>
          <p><em>Art, the Endless Love</em> (2024)</p>
        </div>
      </div>

      <div class="bio-body ko">
        <p>ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIEëŠ” â€˜ë¹› Â· ê¸°ì–µ Â· ì¡´ì¬â€™ë¼ëŠ” ì„¸ ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì˜ˆìˆ ì˜ ê·¼ì›ì„ íƒêµ¬í•˜ëŠ” í•œêµ­ í˜„ëŒ€ ì˜ˆìˆ ê°€ë‹¤.</p>
        <p>ê·¸ì˜ íšŒí™”ëŠ” í•œ ì¸ê°„ì´ ê²ªì–´ë‚¸ ê°ì •ì˜ ì”í–¥, ìƒì²˜ë¥¼ í†µê³¼í•˜ë©° ë‚¨ëŠ” ë¹›ì˜ ê¸°ì›, ê·¸ë¦¬ê³  ì‚¬ë¼ì§ê³¼ ë‹¤ì‹œ íƒœì–´ë‚¨ì´ ë°˜ë³µë˜ëŠ” ì¡´ì¬ì˜ ìˆœí™˜ì„ ê¸°ë¡í•œë‹¤. ë“±ì‘ì˜ í™”ë©´ì—ëŠ” ê¸°ë„Â·í”ì Â·ìˆ¨ê²° ê°™ì€ ì •ì„œì  ì¸µìœ„ê°€ ì¼œì¼œì´ ë‚¨ì•„ ìˆìœ¼ë©°, ì´ëŠ” ë‹¨ìˆœí•œ í˜•ìƒì´ë‚˜ ìƒ‰ì±„ë¥¼ ë„˜ì–´ â€˜ê°ì •ì˜ ìƒë¬¼í•™ì  í”ì â€™ê³¼ â€˜ê¸°ì–µì˜ ì¡´ì—„â€™ì„ ì‘ì‹œí•˜ëŠ” ë¯¸í•™ìœ¼ë¡œ í™•ì¥ëœë‹¤.</p>
        <p>ì„œìš¸ì„ ê¸°ë°˜ìœ¼ë¡œ ë² ë¥¼ë¦°, íŒŒë¦¬, ì•”ìŠ¤í…Œë¥´ë‹´, ë°”ë¥´ìƒ¤ë°”, ëª¨ìŠ¤í¬ë°” ë“±ì§€ì—ì„œ íšŒí™”ì™€ ë‹¤ë§¤ì²´ í”„ë¡œì íŠ¸ë¥¼ ì„ ë³´ì—¬ ì™”ìœ¼ë©°, íšŒí™”Â·í…ìŠ¤íŠ¸Â·ì‚¬ìš´ë“œÂ·ì˜ìƒÂ·ì•„ì¹´ì´ë¸Œë¥¼ í†µí•©í•´ â€˜ë¹›ì˜ ìœ¤ë¦¬â€™ì™€ â€˜ì¡´ì¬ ê°ì‘ì˜ ë¯¸í•™â€™ì„ êµ¬ì¶•í•´ì™”ë‹¤.</p>
        <p>ë“±ì‘ì˜ ì‘í’ˆì€ ê¸°ë„ë¬¸ì´ì ê¸°ë¡ì´ë©°, ìƒì²˜ ì´í›„ì— ë‚¨ëŠ” ë”°ëœ»í•¨ê³¼ ì§€ì›Œì§€ì§€ ì•ŠëŠ” ê¸°ì–µì˜ ì§€ì†, ê·¸ë¦¬ê³  ì¸ê°„ ì¡´ì—„ì— ëŒ€í•œ ì¡°ìš©í•œ ì„ ì–¸ì´ë‹¤. ê·¸ì˜ ì˜ˆìˆ  ì„¸ê³„ëŠ” â€˜ê³ í†µ ì´í›„ì˜ ë¹›â€™, â€˜ê¸°ì–µì´ ìŠ¤ìŠ¤ë¡œë¥¼ ë³µì›í•˜ëŠ” ìˆœê°„â€™, â€˜ì¡´ì¬ê°€ ë‹¤ì‹œ ê¹¨ì–´ë‚˜ëŠ” í˜¸í¡â€™ì„ ì¤‘ì‹¬ìœ¼ë¡œ í™•ì¥ëœë‹¤.</p>
      </div>

      <div class="bio-body en">
        <p>DUNGZAK CESTLAVIE is a Korean contemporary artist whose practice centers on the triad â€œLight Â· Memory Â· Being.â€</p>
        <p>His paintings trace emotional residues, the genesis of light passing through wounds, and cycles of disappearance and rebirth. Beyond image or color, his work expands into an ethics of light and the dignity of memory.</p>
        <p>Based in Seoul, he has developed painting and multi-media projects across Berlin, Paris, Amsterdam, Warsaw, and Moscow, integrating text, sound, video, and archival structures.</p>
        <p>Each work is both prayer and record: a quiet declaration of human dignity, the warmth that follows wounding, and the breath by which being reawakens.</p>
      </div>
    </div>
  </div>

  <div id="lightbox" aria-hidden="true">
    <div class="lb-stage">
      <img id="lbImg" alt="">
      <div id="lbCap" class="lb-caption"></div>
    </div>
    <button id="lbClose" class="lb-close">âœ•</button>
  </div>

  <div id="fftBar"><span></span></div>
  <div id="ctrl">
    <button id="soundBtn" class="ctrlbtn">âœ¨</button>
    <button id="soundStopBtn" class="ctrlbtn" disabled>ğŸ”‡</button>
  </div>

  <footer>
    <div class="links">
      <a href="https://flickr.com/photos/dungzak" target="_blank" rel="noopener">Flickr</a>
      <a href="https://instagram.com/dungzakcestlavie" target="_blank" rel="noopener">Instagram</a>
      <a href="https://youtube.com/@dungzakcestlavie" target="_blank" rel="noopener">MUSIC UNIVERSE</a>
      <a href="https://naver.me/x95dk3l1" target="_blank" rel="noopener">Naver Info</a>
      <a href="mailto:dungzakcestlavie@gmail.com">Email</a>
    </div>

    <small class="ko">Â©ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE</small>
    <small class="en">Â©DUNGZAK CESTLAVIE</small>
  </footer>

<script>
(() => {
  "use strict";

  /* =========================================================
     BASIC HELPERS
  ========================================================= */
  function queryOne(selector, root) {
    return (root || document).querySelector(selector);
  }

  function queryAll(selector, root) {
    return Array.from((root || document).querySelectorAll(selector));
  }

  function clampNumber(value, min, max) {
    return Math.max(min, Math.min(max, value));
  }

  function safeString(value) {
    return value == null ? "" : String(value);
  }

  function isReducedMotionPreferred() {
    return Boolean(window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches);
  }

  function toAbsolutePath(path) {
    const p = safeString(path).trim();
    if (!p) return "";
    if (/^https?:\/\//i.test(p)) return p;
    return p.startsWith("/") ? p : ("/" + p);
  }

  function escapeHtml(text) {
    return String(text ?? "")
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#39;");
  }

  function getLanguageMode() {
    if (document.body.classList.contains("english")) return "EN";
    if (document.body.classList.contains("hybrid")) return "KR+EN";
    return "KR";
  }

  function setLanguageMode(mode) {
    document.body.classList.remove("korean", "english", "hybrid");

    if (mode === "EN") {
      document.body.classList.add("english");
    } else if (mode === "KR+EN") {
      document.body.classList.add("hybrid");
    } else {
      document.body.classList.add("korean");
      mode = "KR";
    }

    const koreanButton = queryOne("#koBtn");
    const englishButton = queryOne("#enBtn");
    const hybridButton = queryOne("#hyBtn");

    if (koreanButton) koreanButton.classList.toggle("active", mode === "KR");
    if (englishButton) englishButton.classList.toggle("active", mode === "EN");
    if (hybridButton) hybridButton.classList.toggle("active", mode === "KR+EN");

    try {
      localStorage.setItem("LF_LANG", mode);
    } catch (error) {}

    BIO.syncToGlobal();
    if (LIGHTBOX.isOpen()) {
      LIGHTBOX.refreshCaption();
    }
    REPORTS.refreshSummaryTextOnly();     // ì¹´ë“œ summary ë°˜ì‘
    WORKS.refreshCurrentPanelRender();    // Works íƒ€ì´í‹€/ì„œë¸Œë¼ì¸ ë°˜ì‘
  }

  function restoreLanguageMode() {
    let stored = "KR";
    try {
      stored = localStorage.getItem("LF_LANG") || "KR";
    } catch (error) {}

    if (!["KR", "EN", "KR+EN"].includes(stored)) stored = "KR";
    setLanguageMode(stored);
  }

  /* =========================================================
     PRIMARY NAVIGATION (Poem / Works / Reports / Bio)
  ========================================================= */
  function bindPrimaryNavigation() {
    const navButtons = queryAll("nav.primary button");
    const mainSections = queryAll("main > section");

    async function showSection(sectionId) {
      mainSections.forEach((section) => {
        section.style.display = section.id === sectionId ? "" : "none";
      });

      navButtons.forEach((button) => {
        const target = button.dataset.target;
        const isActive = target === sectionId;

        button.classList.toggle("active", isActive);
        if (isActive) {
          button.setAttribute("aria-current", "page");
        } else {
          button.removeAttribute("aria-current");
        }
      });

      if (sectionId === "works") {
        await WORKS.ensureLoaded();
        await WORKS.ensureRenderedCurrentPanel();
      }

      if (sectionId === "reports") {
        await REPORTS.ensureLoaded();
        REPORTS.forceOpen();
      }
    }

    navButtons.forEach((button) => {
      const target = button.dataset.target;
      if (!target) return;
      button.addEventListener("click", () => showSection(target));
    });

    const bioTabButton = queryOne("#tab-bio");
    if (bioTabButton) {
      bioTabButton.addEventListener("click", () => BIO.open());
    }

    showSection("poem");
  }

  function bindLanguageButtons() {
    const koreanButton = queryOne("#koBtn");
    const englishButton = queryOne("#enBtn");
    const hybridButton = queryOne("#hyBtn");

    if (koreanButton) koreanButton.addEventListener("click", () => setLanguageMode("KR"));
    if (englishButton) englishButton.addEventListener("click", () => setLanguageMode("EN"));
    if (hybridButton) hybridButton.addEventListener("click", () => setLanguageMode("KR+EN"));
  }

  /* =========================================================
     WORKS (JSON -> CARDS -> LIGHTBOX)
     - DZ ID í™”ë©´ ë…¸ì¶œ ì œê±°
     - ì–¸ì–´ ì „í™˜ ë°˜ì‘
  ========================================================= */
  const WORKS = {
    loaded: false,
    worksArray: [],
    panels: { pray: [], human: [], rebirth: [], exist: [], cosmos: [] },
    renderedPanels: new Set(),
    currentPanel: "pray",

    async ensureLoaded() {
      if (this.loaded) return;

      const url = "/data/works.json?ts=" + Date.now();
      let json;

      try {
        const response = await fetch(url, { cache: "no-store" });
        if (!response.ok) throw new Error("works.json fetch failed");
        json = await response.json();
      } catch (error) {
        this.loaded = true;
        this.showErrorAllPanels("Works data not found.", url);
        return;
      }

      let array = [];
      if (Array.isArray(json)) array = json;
      else if (Array.isArray(json.works)) array = json.works;
      else if (json && typeof json === "object" && json.sections) {
        Object.values(json.sections).forEach((value) => {
          if (Array.isArray(value)) array.push(...value);
        });
      }

      this.worksArray = array.map(this.normalizeWorkObject);
      this.splitByPanel();
      this.loaded = true;
    },

    normalizeWorkObject(work) {
      const id = safeString(work.id || work.ID || work.code || work.work_id || "");
      const sectionId = Number(work.section_id ?? work.sectionId ?? work.section ?? work.section_no ?? 0);

      const titleKorean = safeString(work.title_kr ?? work.titleKr ?? work.title_kor ?? work.titleKR ?? "");
      const titleEnglish = safeString(work.title_en ?? work.titleEn ?? work.title_eng ?? work.titleEN ?? "");

      const materialKorean = safeString(work.material_kr ?? work.materialKr ?? "");
      const materialEnglish = safeString(work.material_en ?? work.materialEn ?? "");
      const sizeKorean = safeString(work.size_kr ?? work.sizeKr ?? "");
      const sizeEnglish = safeString(work.size_en ?? work.sizeEn ?? "");
      const year = safeString(work.year ?? work.date ?? "");

      const image = toAbsolutePath(work.image || work.img || work.standard || work.src || "");
      const zoom = toAbsolutePath(work.zoom || work.zoom_image || work.hires || work.large || work.image_zoom || "");

      return {
        id: id,
        section_id: sectionId,
        title_kr: titleKorean,
        title_en: titleEnglish,
        material_kr: materialKorean,
        material_en: materialEnglish,
        size_kr: sizeKorean,
        size_en: sizeEnglish,
        year: year,
        image: image,
        zoom: zoom || image
      };
    },

    splitByPanel() {
      this.panels = { pray: [], human: [], rebirth: [], exist: [], cosmos: [] };

      this.worksArray.forEach((work) => {
        if (work.section_id === 1) this.panels.pray.push(work);
        else if (work.section_id === 2) this.panels.human.push(work);
        else if (work.section_id === 3) this.panels.rebirth.push(work);
        else if (work.section_id === 4) this.panels.exist.push(work);
        else if (work.section_id === 5) this.panels.cosmos.push(work);
      });
    },

    getPanelElement(panelKey) {
      return queryOne("#panel-" + panelKey);
    },

    getList(panelKey) {
      return this.panels[panelKey] || [];
    },

    createCardHtml(work, index, panelKey) {
      const mode = getLanguageMode();

      const titleKorean = work.title_kr || "";
      const titleEnglish = work.title_en || "";

      const subKorean = [work.material_kr, work.size_kr, work.year].filter(Boolean).join(" Â· ");
      const subEnglish = [work.material_en, work.size_en, work.year].filter(Boolean).join(" Â· ");

      let titleBlock = "";
      if (mode === "KR") {
        titleBlock = escapeHtml(titleKorean || titleEnglish);
      } else if (mode === "EN") {
        titleBlock = escapeHtml(titleEnglish || titleKorean);
      } else {
        const partKorean = titleKorean ? `<div class="ko">${escapeHtml(titleKorean)}</div>` : "";
        const partEnglish = titleEnglish ? `<div class="en">${escapeHtml(titleEnglish)}</div>` : "";
        titleBlock = `${partKorean}${partEnglish}` || escapeHtml(titleKorean || titleEnglish);
      }

      const subLineRaw = mode === "EN" ? (subEnglish || subKorean) : (subKorean || subEnglish);
      const subLine = escapeHtml(subLineRaw || "");

      return `
        <article class="w-card" data-panel="${panelKey}" data-i="${index}">
          <img class="w-thumb" loading="lazy" src="${work.image}" alt="">
          <div class="w-meta">
            <div class="w-id" style="display:none">${escapeHtml(work.id)}</div>
            <div class="w-title">${titleBlock}</div>
            ${subLine ? `<div class="w-sub">${subLine}</div>` : ""}
          </div>
        </article>
      `;
    },

    async renderPanel(panelKey) {
      await this.ensureLoaded();

      const panelElement = this.getPanelElement(panelKey);
      if (!panelElement) return;

      const list = this.getList(panelKey);

      if (!list.length) {
        panelElement.innerHTML = `
          <div class="w-msg">
            Works are empty.
            <small>Expected: /data/works.json</small>
          </div>
        `;
        return;
      }

      panelElement.innerHTML = `
        <div class="w-grid">
          ${list.map((work, index) => this.createCardHtml(work, index, panelKey)).join("")}
        </div>
      `;

      queryAll(".w-card", panelElement).forEach((card) => {
        card.addEventListener("click", () => {
          const index = Number(card.dataset.i);
          LIGHTBOX.open(panelKey, index);
        });
      });

      this.renderedPanels.add(panelKey);
    },

    async ensureRenderedCurrentPanel() {
      if (!this.renderedPanels.has(this.currentPanel)) {
        await this.renderPanel(this.currentPanel);
      } else {
        await this.renderPanel(this.currentPanel);
      }
    },

    refreshCurrentPanelRender() {
      if (!this.renderedPanels.has(this.currentPanel)) return;
      this.renderPanel(this.currentPanel);
    },

    showErrorAllPanels(message, path) {
      ["pray", "human", "rebirth", "exist", "cosmos"].forEach((panelKey) => {
        const panelElement = this.getPanelElement(panelKey);
        if (!panelElement) return;

        panelElement.innerHTML = `
          <div class="w-msg">
            ${escapeHtml(message)}
            <small>${escapeHtml(path)}</small>
          </div>
        `;
      });
    }
  };

  function bindWorksTabs() {
    const tabs = queryAll(".tabs .tab");
    const tabPanels = queryAll(".tabpanel");

    async function activate(panelKey) {
      tabs.forEach((tab) => tab.classList.toggle("active", tab.dataset.panel === panelKey));
      tabPanels.forEach((panel) => panel.classList.toggle("active", panel.id === ("panel-" + panelKey)));

      WORKS.currentPanel = panelKey;
      await WORKS.ensureRenderedCurrentPanel();
    }

    tabs.forEach((tab) => tab.addEventListener("click", () => activate(tab.dataset.panel)));
    activate("pray");
  }

  /* =========================================================
     LIGHTBOX
     - DZ ID ìº¡ì…˜ ì œê±°
     - KR/EN ë¶„ë¦¬ í‘œê¸°
  ========================================================= */
  const LIGHTBOX = {
    panelKey: "pray",
    index: 0,
    openState: false,

    isOpen() {
      return this.openState;
    },

    open(panelKey, index) {
      this.panelKey = panelKey;
      this.index = index;

      const box = queryOne("#lightbox");
      if (!box) return;

      box.classList.add("is-open");
      box.setAttribute("aria-hidden", "false");
      this.openState = true;

      this.render();
      document.addEventListener("keydown", this.onKeyDown, { passive: false });
    },

    close() {
      const box = queryOne("#lightbox");
      if (!box) return;

      box.classList.remove("is-open");
      box.setAttribute("aria-hidden", "true");
      this.openState = false;

      document.removeEventListener("keydown", this.onKeyDown);
    },

    onKeyDown(event) {
      if (!LIGHTBOX.openState) return;

      if (event.key === "Escape") {
        event.preventDefault();
        LIGHTBOX.close();
      } else if (event.key === "ArrowLeft") {
        event.preventDefault();
        LIGHTBOX.step(-1);
      } else if (event.key === "ArrowRight") {
        event.preventDefault();
        LIGHTBOX.step(+1);
      }
    },

    step(direction) {
      const list = WORKS.getList(this.panelKey);
      if (!list.length) return;

      this.index = (this.index + direction + list.length) % list.length;
      this.render();
    },

    render() {
      const work = WORKS.getList(this.panelKey)[this.index];
      if (!work) return;

      const image = queryOne("#lbImg");
      const caption = queryOne("#lbCap");

      if (image) image.src = work.zoom || work.image;
      if (caption) caption.textContent = this.composeCaption(work);
    },

    refreshCaption() {
      const work = WORKS.getList(this.panelKey)[this.index];
      if (!work) return;

      const caption = queryOne("#lbCap");
      if (caption) caption.textContent = this.composeCaption(work);
    },

    composeCaption(work) {
      const mode = getLanguageMode();

      const titleKorean = work.title_kr || work.title_en || "";
      const titleEnglish = work.title_en || work.title_kr || "";

      const metaKorean = [work.material_kr, work.size_kr, work.year].filter(Boolean).join(" Â· ");
      const metaEnglish = [work.material_en, work.size_en, work.year].filter(Boolean).join(" Â· ");

      if (mode === "KR") {
        return [titleKorean, metaKorean].filter(Boolean).join("\n");
      }

      if (mode === "EN") {
        return [titleEnglish, metaEnglish].filter(Boolean).join("\n");
      }

      const lines = [];
      if (titleKorean || metaKorean) {
        lines.push("KR:");
        if (titleKorean) lines.push(titleKorean);
        if (metaKorean) lines.push(metaKorean);
      }
      if (titleEnglish || metaEnglish) {
        if (lines.length) lines.push("");
        lines.push("EN:");
        if (titleEnglish) lines.push(titleEnglish);
        if (metaEnglish) lines.push(metaEnglish);
      }
      return lines.join("\n").trim();
    }
  };

  function bindLightbox() {
    const closeButton = queryOne("#lbClose");
    if (closeButton) closeButton.addEventListener("click", () => LIGHTBOX.close());

    const box = queryOne("#lightbox");
    if (box) {
      box.addEventListener("click", (event) => {
        const stage = queryOne(".lb-stage");
        if (stage && stage.contains(event.target)) return;
        LIGHTBOX.close();
      });
    }
  }

  /* =========================================================
     BIO MODAL
  ========================================================= */
  const BIO = {
    open() {
      const modal = queryOne("#bio-modal");
      if (!modal) return;
      modal.hidden = false;
      this.syncToGlobal();
    },

    close() {
      const modal = queryOne("#bio-modal");
      if (!modal) return;
      modal.hidden = true;
    },

    setModalLanguage(mode) {
      const modal = queryOne("#bio-modal");
      if (!modal) return;

      const koreanBodies = queryAll(".bio-body.ko", modal);
      const englishBodies = queryAll(".bio-body.en", modal);

      if (mode === "en") {
        koreanBodies.forEach((element) => (element.style.display = "none"));
        englishBodies.forEach((element) => (element.style.display = "block"));
      } else if (mode === "both") {
        koreanBodies.forEach((element) => (element.style.display = "block"));
        englishBodies.forEach((element) => (element.style.display = "block"));
      } else {
        koreanBodies.forEach((element) => (element.style.display = "block"));
        englishBodies.forEach((element) => (element.style.display = "none"));
      }

      const buttonKorean = queryOne('.bio-lang .lang[data-bio-lang="kr"]', modal);
      const buttonEnglish = queryOne('.bio-lang .lang[data-bio-lang="en"]', modal);

      if (buttonKorean && buttonEnglish) {
        buttonKorean.classList.toggle("active", mode !== "en");
        buttonEnglish.classList.toggle("active", mode === "en");
        buttonKorean.setAttribute("aria-pressed", String(mode !== "en"));
        buttonEnglish.setAttribute("aria-pressed", String(mode === "en"));
      }
    },

    syncToGlobal() {
      const global = getLanguageMode();
      if (global === "EN") this.setModalLanguage("en");
      else if (global === "KR+EN") this.setModalLanguage("both");
      else this.setModalLanguage("kr");
    }
  };

  function bindBio() {
    const closeButton = queryOne(".bio-close");
    const backdrop = queryOne(".bio-backdrop");

    if (closeButton) closeButton.addEventListener("click", () => BIO.close());
    if (backdrop) backdrop.addEventListener("click", () => BIO.close());

    const modal = queryOne("#bio-modal");
    if (modal) {
      const languageButtons = queryAll(".bio-lang .lang", modal);
      languageButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const selected = button.dataset.bioLang;
          if (selected === "en") BIO.setModalLanguage("en");
          else BIO.setModalLanguage("kr");
        });
      });
    }

    const expoToggleButton = queryOne("#expoToggle");
    if (expoToggleButton) {
      expoToggleButton.addEventListener("click", () => {
        const slide = queryOne("#expoSlide");
        const button = queryOne("#expoToggle");
        if (!slide || !button) return;

        const open = slide.dataset.open === "true";
        slide.dataset.open = open ? "false" : "true";
        button.setAttribute("aria-expanded", open ? "false" : "true");
      });
    }
  }

  /* =========================================================
     REPORTS
     - ì¹´ë“œ summaryëŠ” KR/EN/KR+ENì— ì¦‰ì‹œ ë°˜ì‘
     - í´ë¦­ ì‹œ: ìƒˆ ì°½/ìƒˆ íƒ­ìœ¼ë¡œ "ì „ì²´ë³´ê¸°" ë¬¸ì„œë¥¼ ì—´ê³ ,
       í•˜ë‹¨ì— ì‘ì€ download ë§í¬ë¥¼ ì œê³µ
  ========================================================= */
  const REPORTS = {
    loaded: false,
    open: false,
    currentFilter: "all",
    raw: [],
    mdCache: new Map(),      // absolute md path -> text
    lastOpened: null,        // ë§ˆì§€ë§‰ìœ¼ë¡œ ì—´ë¦° report (ì–¸ì–´ ë°”ë€Œë©´ summary ì¹´ë“œë§Œ ê°±ì‹ )

    async ensureLoaded() {
      if (this.loaded) return;

      const url = "/data/reports.json?ts=" + Date.now();
      let json;

      try {
        const response = await fetch(url, { cache: "no-store" });
        if (!response.ok) throw new Error("reports.json fetch failed");
        json = await response.json();
      } catch (error) {
        this.loaded = true;
        this.showError("Reports data not found.", url);
        return;
      }

      let array = [];
      if (Array.isArray(json)) array = json;
      else if (Array.isArray(json.reports)) array = json.reports;

      this.raw = array.map(this.normalizeReportObject);
      this.loaded = true;
      this.renderGrid();
    },

    normalizeReportObject(item) {
      const id = safeString(item.id || item.code || item.report_id || item.dcar || "");
      const slug = safeString(item.slug || item.id || "");
      const year = safeString(item.year || item.date || "");
      const category = safeString(item.category || item.type || item.tag || "archive").toLowerCase();

      const titleKorean = safeString(item.title_ko ?? item.title_kr ?? item.titleKr ?? item.title ?? "");
      const titleEnglish = safeString(item.title_en ?? item.titleEn ?? "");

      const summaryKorean = safeString(item.summary_ko ?? item.summaryKr ?? item.summary_kr ?? "");
      const summaryEnglish = safeString(item.summary_en ?? item.summaryEn ?? "");

      const mdPath = safeString(item.md_path ?? item.md ?? item.path ?? "");

      return {
        id: id,
        slug: slug,
        year: year,
        category: category,
        title_ko: titleKorean,
        title_en: titleEnglish,
        summary_ko: summaryKorean,
        summary_en: summaryEnglish,
        md_path: mdPath
      };
    },

    forceOpen() {
      this.open = true;

      const grid = queryOne("#reportGrid");
      const toggleButton = queryOne("#reportsToggle");

      if (grid) grid.style.display = "grid";
      if (toggleButton) {
        toggleButton.setAttribute("aria-expanded", "true");
        toggleButton.textContent = "Close Reports";
      }

      this.renderGrid();
    },

    toggleOpen() {
      this.open = !this.open;

      const grid = queryOne("#reportGrid");
      const toggleButton = queryOne("#reportsToggle");

      if (grid) grid.style.display = this.open ? "grid" : "none";
      if (toggleButton) {
        toggleButton.setAttribute("aria-expanded", this.open ? "true" : "false");
        toggleButton.textContent = this.open ? "Close Reports" : "Open Reports";
      }
    },

    setFilter(filter) {
      this.currentFilter = filter || "all";
      queryAll(".r-tab").forEach((button) => {
        button.classList.toggle("is-active", button.dataset.r === this.currentFilter);
      });
      this.renderGrid();
    },

    getFilteredList() {
      const filter = this.currentFilter;
      if (filter === "all") return this.raw;
      return this.raw.filter((report) => safeString(report.category).includes(filter));
    },

    pickTitle(report) {
      const mode = getLanguageMode();

      if (mode === "EN") return report.title_en || report.title_ko || report.id;
      if (mode === "KR+EN") {
        const korean = (report.title_ko || "").trim();
        const english = (report.title_en || "").trim();
        return [korean, english].filter(Boolean).join(" / ") || report.id;
      }
      return report.title_ko || report.title_en || report.id;
    },

    pickSummary(report) {
      const mode = getLanguageMode();

      if (mode === "EN") return report.summary_en || report.summary_ko || "";
      if (mode === "KR+EN") {
        const korean = (report.summary_ko || "").trim();
        const english = (report.summary_en || "").trim();
        return [korean, english].filter(Boolean).join("\n\n");
      }
      return report.summary_ko || report.summary_en || "";
    },

    metaLine(report) {
      const yearText = report.year ? (" Â· " + report.year) : "";
      const head = report.id || "";
      return head + yearText;
    },

    cardHtml(report, index) {
      const title = escapeHtml(this.pickTitle(report));
      const meta = escapeHtml(this.metaLine(report));

      const mode = getLanguageMode();
      let summaryText = "";

      if (mode === "KR") summaryText = report.summary_ko || report.summary_en || "";
      else if (mode === "EN") summaryText = report.summary_en || report.summary_ko || "";
      else {
        const korean = report.summary_ko ? `KR: ${report.summary_ko}` : "";
        const english = report.summary_en ? `EN: ${report.summary_en}` : "";
        summaryText = [korean, english].filter(Boolean).join("\n");
      }

      const summary = escapeHtml(summaryText);

      return `
        <div class="r-item" data-i="${index}">
          <div class="t">${title}</div>
          <div class="m">${meta}</div>
          ${summary ? `<div class="s">${summary}</div>` : ""}
        </div>
      `;
    },

    renderGrid() {
      const grid = queryOne("#reportGrid");
      if (!grid) return;

      if (!this.loaded) {
        if (this.open) {
          grid.style.display = "grid";
          grid.innerHTML = `<div class="w-msg" style="grid-column:1/-1">Loading reportsâ€¦</div>`;
        }
        return;
      }

      if (!this.open) {
        grid.style.display = "none";
        return;
      }

      const list = this.getFilteredList();
      if (!list.length) {
        grid.style.display = "grid";
        grid.innerHTML = `<div class="w-msg" style="grid-column:1/-1">No reports.</div>`;
        return;
      }

      grid.style.display = "grid";
      grid.innerHTML = list.map((report, index) => this.cardHtml(report, index)).join("");

      queryAll(".r-item", grid).forEach((itemElement) => {
        itemElement.addEventListener("click", async () => {
          const index = Number(itemElement.dataset.i);
          const report = this.getFilteredList()[index];
          if (report) {
            this.lastOpened = report;
            await this.openInNewWindow(report);
          }
        });
      });
    },

    refreshSummaryTextOnly() {
      // ì–¸ì–´ ë³€ê²½ ì‹œ: ì¹´ë“œì˜ title/summaryê°€ ì¦‰ì‹œ ë°”ë€Œë„ë¡ ê·¸ë¦¬ë“œë§Œ ê°±ì‹ 
      if (!this.loaded) return;
      if (!this.open) return;
      this.renderGrid();
    },

    async fetchMarkdownText(mdPath) {
      const clean = safeString(mdPath).trim();
      if (!clean) return "";

      const absolute = toAbsolutePath(clean);
      if (!absolute) return "";

      if (this.mdCache.has(absolute)) return this.mdCache.get(absolute);

      try {
        const response = await fetch(absolute + "?ts=" + Date.now(), { cache: "no-store" });
        if (!response.ok) throw new Error("markdown fetch failed");
        const text = await response.text();
        this.mdCache.set(absolute, text);
        return text;
      } catch (error) {
        this.mdCache.set(absolute, "");
        return "";
      }
    },

    makeDownloadFileName(report) {
      const base = report.id || report.slug || "DCAR";
      return base.replaceAll(" ", "_") + ".txt";
    },

    buildReportWindowHtml(report, summary, markdownText) {
      const title = this.pickTitle(report);
      const meta = this.metaLine(report);

      const safeTitle = escapeHtml(title);
      const safeMeta = escapeHtml(meta);

      const safeSummary = summary ? escapeHtml(summary) : "";
      const safeBody = markdownText ? escapeHtml(markdownText.trim()) : "";

      const fileName = this.makeDownloadFileName(report);
      const fileNameSafe = escapeHtml(fileName);

      // download: ì›ë¬¸ md_pathê°€ ìˆìœ¼ë©´ ë§í¬ ì œê³µ, ì—†ìœ¼ë©´ í…ìŠ¤íŠ¸ ë‹¤ìš´ë¡œë“œ ì œê³µ(Blob)
      const rawMdPath = safeString(report.md_path).trim();
      const absoluteMdPath = rawMdPath ? toAbsolutePath(rawMdPath) : "";

      // ìƒˆ ì°½ ë¬¸ì„œ: ì‹¬í”Œ + ë‹¤í¬ + ì‘ì€ download ë§í¬(í•˜ë‹¨)
      return `
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="color-scheme" content="dark light">
  <title>${safeTitle}</title>
  <style>
    :root{
      --bg:#070A14;
      --fg:#EDE3C9;
      --muted:rgba(237,227,201,.72);
      --gold:rgba(215,184,106,.95);
      --line:rgba(215,184,106,.22);
      --card:rgba(255,255,255,.04);
      --shadow: 0 10px 40px rgba(0,0,0,.55);
    }
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1100px 700px at 50% 0%, rgba(215,184,106,.08), transparent 60%),
                  radial-gradient(1200px 900px at 30% 40%, rgba(121,167,255,.06), transparent 60%),
                  var(--bg);
      color:var(--fg);
      font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
      line-height:1.55;
      letter-spacing:.2px;
    }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 28px 18px 40px;
    }
    .title{
      font-size: 22px;
      font-weight: 800;
      color: var(--gold);
      letter-spacing:.4px;
    }
    .meta{
      margin-top: 6px;
      font-size: 13px;
      color: var(--muted);
    }
    .block{
      margin-top: 18px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 16px 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    pre{
      margin:0;
      white-space: pre-wrap;
      word-break: break-word;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 13px;
      color: rgba(237,227,201,.92);
    }
    .download{
      margin-top: 18px;
      font-size: 12px;
      color: var(--muted);
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
    }
    .download a{
      color: var(--gold);
      text-decoration: none;
      border-bottom: 1px solid rgba(215,184,106,.35);
      padding-bottom: 2px;
    }
    .download a:hover{ border-bottom-color: rgba(215,184,106,.7) }
    .note{
      font-size: 12px;
      color: rgba(237,227,201,.68);
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">${safeTitle}</div>
    <div class="meta">${safeMeta}</div>

    ${safeSummary ? `
    <div class="block">
      <pre>${safeSummary}</pre>
    </div>` : ""}

    ${safeBody ? `
    <div class="block">
      <pre>${safeBody}</pre>
    </div>` : `
    <div class="note">No full text was found. (If you use md_path in reports.json, the original text will appear here.)</div>
    `}

    <div class="download">
      <span>download:</span>
      ${absoluteMdPath
        ? `<a href="${escapeHtml(absoluteMdPath)}" download>original file</a>`
        : `<a href="#" id="downloadText">${fileNameSafe}</a>`
      }
    </div>
  </div>

  ${absoluteMdPath ? "" : `
  <script>
    (function(){
      var button = document.getElementById("downloadText");
      if (!button) return;

      var content = ${JSON.stringify(markdownText || summary || "")};
      var fileName = ${JSON.stringify(fileName)};

      button.addEventListener("click", function(ev){
        ev.preventDefault();
        try{
          var blob = new Blob([content], { type: "text/plain;charset=utf-8" });
          var url = URL.createObjectURL(blob);

          var a = document.createElement("a");
          a.href = url;
          a.download = fileName;
          document.body.appendChild(a);
          a.click();
          a.remove();

          setTimeout(function(){ URL.revokeObjectURL(url); }, 1500);
        }catch(e){}
      });
    })();
  </script>`}
</body>
</html>
      `;
    },

    async openInNewWindow(report) {
      const summary = this.pickSummary(report);
      const markdownText = await this.fetchMarkdownText(report.md_path);

      const html = this.buildReportWindowHtml(report, summary, markdownText);

      // ìƒˆ ì°½/ìƒˆ íƒ­
      const newWindow = window.open("", "_blank", "noopener");
      if (!newWindow) {
        // íŒì—… ì°¨ë‹¨ ì‹œ: ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” UIë¥¼ ê¹¨ì§€ ì•Šìœ¼ë©´ì„œ fallback
        alert("Popup blocked. Please allow popups to open the report in a new tab.");
        return;
      }

      newWindow.document.open();
      newWindow.document.write(html);
      newWindow.document.close();
    },

    showError(message, path) {
      const grid = queryOne("#reportGrid");
      const viewer = queryOne("#reportViewer");

      if (grid) {
        grid.style.display = "grid";
        grid.innerHTML = `
          <div class="w-msg" style="grid-column:1/-1">
            ${escapeHtml(message)}
            <small>${escapeHtml(path)}</small>
          </div>
        `;
      }

      // BODYì—ëŠ” viewerê°€ ì¡´ì¬í•˜ì§€ë§Œ, ìµœì¢… ë™ì‘ì€ ìƒˆ ì°½ì´ë¯€ë¡œ viewerëŠ” ìˆ¨ê¹€ ì²˜ë¦¬ ìœ ì§€
      if (viewer) viewer.style.display = "none";
    }
  };

  function bindReports() {
    const toggleButton = queryOne("#reportsToggle");
    if (toggleButton) toggleButton.addEventListener("click", () => REPORTS.toggleOpen());

    queryAll(".r-tab").forEach((button) => {
      button.addEventListener("click", () => REPORTS.setFilter(button.dataset.r || "all"));
    });

    const grid = queryOne("#reportGrid");
    if (grid) grid.style.display = "none";

    const viewer = queryOne("#reportViewer");
    if (viewer) viewer.style.display = "none";
  }

  /* =========================================================
     SOUND
  ========================================================= */
  const SOUND = {
    audioContext: null,
    masterGain: null,
    analyserNode: null,
    animationId: 0,
    started: false,

    start() {
      if (this.started) return;
      this.started = true;

      const AudioContextClass = window.AudioContext || window.webkitAudioContext;
      if (!AudioContextClass) {
        this.started = false;
        return;
      }

      const audioContext = new AudioContextClass();
      this.audioContext = audioContext;

      const masterGain = audioContext.createGain();
      masterGain.gain.value = 0.0;

      const lowpass = audioContext.createBiquadFilter();
      lowpass.type = "lowpass";
      lowpass.frequency.value = 900;
      lowpass.Q.value = 0.7;

      const oscillatorOne = audioContext.createOscillator();
      const oscillatorTwo = audioContext.createOscillator();
      oscillatorOne.type = "sine";
      oscillatorTwo.type = "sine";
      oscillatorOne.frequency.value = 132;
      oscillatorTwo.frequency.value = 198;

      const gainOne = audioContext.createGain();
      const gainTwo = audioContext.createGain();
      gainOne.gain.value = 0.18;
      gainTwo.gain.value = 0.14;

      const lfo = audioContext.createOscillator();
      lfo.type = "sine";
      lfo.frequency.value = 0.08;

      const lfoGain = audioContext.createGain();
      lfoGain.gain.value = 0.08;

      lfo.connect(lfoGain);
      lfoGain.connect(gainOne.gain);

      oscillatorOne.connect(gainOne);
      oscillatorTwo.connect(gainTwo);

      gainOne.connect(lowpass);
      gainTwo.connect(lowpass);

      const delay = audioContext.createDelay();
      delay.delayTime.value = 0.26;

      const feedback = audioContext.createGain();
      feedback.gain.value = 0.18;

      delay.connect(feedback);
      feedback.connect(delay);

      lowpass.connect(delay);
      delay.connect(masterGain);

      const direct = audioContext.createGain();
      direct.gain.value = 0.35;
      lowpass.connect(direct);
      direct.connect(masterGain);

      const analyser = audioContext.createAnalyser();
      analyser.fftSize = 1024;

      masterGain.connect(analyser);
      analyser.connect(audioContext.destination);

      this.masterGain = masterGain;
      this.analyserNode = analyser;

      oscillatorOne.start();
      oscillatorTwo.start();
      lfo.start();

      const now = audioContext.currentTime;
      masterGain.gain.cancelScheduledValues(now);
      masterGain.gain.setValueAtTime(0.0, now);
      masterGain.gain.linearRampToValueAtTime(0.55, now + 1.2);

      document.body.classList.add("sound-on");

      const soundButton = queryOne("#soundBtn");
      const stopButton = queryOne("#soundStopBtn");
      if (soundButton) soundButton.setAttribute("disabled", "disabled");
      if (stopButton) stopButton.removeAttribute("disabled");

      this.loopFft();
    },

    stop() {
      if (!this.started) return;
      this.started = false;

      const audioContext = this.audioContext;
      if (audioContext && this.masterGain) {
        const now = audioContext.currentTime;
        this.masterGain.gain.cancelScheduledValues(now);
        this.masterGain.gain.setValueAtTime(this.masterGain.gain.value, now);
        this.masterGain.gain.linearRampToValueAtTime(0.0, now + 0.6);
      }

      window.cancelAnimationFrame(this.animationId);
      this.animationId = 0;

      setTimeout(() => {
        try {
          if (this.audioContext) this.audioContext.close();
        } catch (error) {}

        this.audioContext = null;
        this.masterGain = null;
        this.analyserNode = null;

        const bar = queryOne("#fftBar span");
        if (bar) bar.style.width = "0%";

        document.body.classList.remove("sound-on");

        const soundButton = queryOne("#soundBtn");
        const stopButton = queryOne("#soundStopBtn");
        if (soundButton) soundButton.removeAttribute("disabled");
        if (stopButton) stopButton.setAttribute("disabled", "disabled");
      }, 700);
    },

    loopFft() {
      const bar = queryOne("#fftBar span");
      if (!bar || !this.analyserNode) {
        this.animationId = requestAnimationFrame(() => this.loopFft());
        return;
      }

      const analyser = this.analyserNode;
      const data = new Uint8Array(analyser.frequencyBinCount);
      analyser.getByteFrequencyData(data);

      let sum = 0;
      for (let i = 0; i < data.length; i++) {
        sum += data[i] * data[i];
      }
      const rms = Math.sqrt(sum / data.length) / 255;
      const width = clampNumber(Math.round(rms * 100), 0, 100);

      bar.style.width = width + "%";
      this.animationId = requestAnimationFrame(() => this.loopFft());
    }
  };

  function bindSound() {
    const startButton = queryOne("#soundBtn");
    const stopButton = queryOne("#soundStopBtn");

    if (startButton) {
      startButton.addEventListener("click", async () => {
        SOUND.start();
        try {
          if (SOUND.audioContext && SOUND.audioContext.state === "suspended") {
            await SOUND.audioContext.resume();
          }
        } catch (error) {}
      });
    }

    if (stopButton) {
      stopButton.addEventListener("click", () => SOUND.stop());
    }
  }

  /* =========================================================
     WAVES BACKGROUND
  ========================================================= */
  const WAVES = {
    canvas: null,
    context: null,
    width: 0,
    height: 0,
    time: 0,
    animationId: 0,

    init() {
      this.canvas = queryOne("#waves");
      if (!this.canvas) return;

      this.context = this.canvas.getContext("2d", { alpha: true });
      this.resize();

      window.addEventListener("resize", () => this.resize(), { passive: true });

      if (isReducedMotionPreferred()) {
        this.drawStatic();
        return;
      }

      this.loop();
    },

    resize() {
      if (!this.canvas) return;

      const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      this.width = Math.floor(window.innerWidth * dpr);
      this.height = Math.floor(window.innerHeight * dpr);

      this.canvas.width = this.width;
      this.canvas.height = this.height;

      this.canvas.style.width = "100%";
      this.canvas.style.height = "100%";
    },

    drawStatic() {
      const context = this.context;
      if (!context) return;

      context.clearRect(0, 0, this.width, this.height);

      const gradient = context.createRadialGradient(
        this.width * 0.5, this.height * 0.05, 0,
        this.width * 0.5, this.height * 0.05, this.height * 0.95
      );

      gradient.addColorStop(0, "rgba(215,184,106,0.06)");
      gradient.addColorStop(0.35, "rgba(121,167,255,0.04)");
      gradient.addColorStop(1, "rgba(0,0,0,0)");

      context.fillStyle = gradient;
      context.fillRect(0, 0, this.width, this.height);
    },

    loop() {
      this.time += 0.008;
      this.render();
      this.animationId = requestAnimationFrame(() => this.loop());
    },

    render() {
      const context = this.context;
      if (!context) return;

      context.clearRect(0, 0, this.width, this.height);

      const gradient = context.createRadialGradient(
        this.width * 0.5, this.height * 0.06, 0,
        this.width * 0.5, this.height * 0.06, this.height * 1.1
      );

      gradient.addColorStop(0, "rgba(215,184,106,0.055)");
      gradient.addColorStop(0.38, "rgba(121,167,255,0.045)");
      gradient.addColorStop(1, "rgba(0,0,0,0)");

      context.fillStyle = gradient;
      context.fillRect(0, 0, this.width, this.height);

      const layers = [
        { amplitude: 16, speed: 0.55, alpha: 0.055, lineWidth: 2 },
        { amplitude: 24, speed: 0.38, alpha: 0.045, lineWidth: 2 },
        { amplitude: 34, speed: 0.22, alpha: 0.038, lineWidth: 2 }
      ];

      for (let layerIndex = 0; layerIndex < layers.length; layerIndex++) {
        const layer = layers[layerIndex];
        const amplitude = layer.amplitude;
        const speed = layer.speed;
        const alpha = layer.alpha;
        const lineWidth = layer.lineWidth;

        context.beginPath();

        const baseY = this.height * (0.24 + layerIndex * 0.12);
        for (let x = 0; x <= this.width; x += 18) {
          const normalizedX = x / this.width;
          const y =
            baseY +
            Math.sin(normalizedX * 10 + this.time * speed * 3.2 + layerIndex) * amplitude +
            Math.sin(normalizedX * 4 + this.time * speed * 2.1 + layerIndex * 2) * (amplitude * 0.45);

          if (x === 0) context.moveTo(x, y);
          else context.lineTo(x, y);
        }

        context.strokeStyle = `rgba(215,184,106,${alpha})`;
        context.lineWidth = lineWidth;
        context.stroke();
      }

      context.fillStyle = "rgba(237,227,201,0.015)";
      for (let i = 0; i < 120; i++) {
        const x = Math.random() * this.width;
        const y = Math.random() * this.height;
        context.fillRect(x, y, 1, 1);
      }
    }
  };

  /* =========================================================
     GLOBAL BIND
  ========================================================= */
  function bindGlobalEscape() {
    document.addEventListener("keydown", (event) => {
      if (event.key !== "Escape") return;

      const modal = queryOne("#bio-modal");
      if (modal && modal.hidden === false) {
        BIO.close();
      }
    });
  }

  function preloadForStability() {
    WORKS.ensureLoaded().catch(() => {});
    REPORTS.ensureLoaded().catch(() => {});
  }

  function bindAll() {
    restoreLanguageMode();
    bindLanguageButtons();
    bindPrimaryNavigation();

    bindWorksTabs();
    bindLightbox();
    bindBio();
    bindReports();
    bindSound();

    WAVES.init();
    bindGlobalEscape();

    preloadForStability();

    REPORTS.setFilter("all");
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", bindAll);
  } else {
    bindAll();
  }
})();
</script>