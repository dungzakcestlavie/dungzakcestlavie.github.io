<!doctype html>
<html lang="ko" translate="no">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>등작 燈酌 DUNGZAK CESTLAVIE — Lightflow Ω.9</title>
<meta name="description" content="빛 · 기억 · 존재 — Light · Memory · Being — 등작 燈酌 DUNGZAK CESTLAVIE" />
<meta name="google" content="notranslate" />
<meta name="googlebot" content="notranslate" />
<meta name="theme-color" content="#070c1a" />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='86'>✨</text></svg>'>

<style>
:root{--bg:#070c1a;--fg:#eaf0ff;--gold:#e6c777;--muted:#a8b7e8;--panel:#0f1630;--line:#1b2652;--max:1180px;--shadow:0 12px 28px rgba(0,0,0,.35)}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--fg);font:16px/1.65 system-ui,-apple-system,"Noto Sans KR",sans-serif;overflow-x:hidden}
.ko,.en{display:block} body.korean .en{display:none} body.english .ko{display:none} body.hybrid .ko,body.hybrid .en{display:block}
section{display:none} main>section.active{display:block}

/* 배경 캔버스 */
#waves,#trail{position:fixed;inset:0;pointer-events:none}
#waves{z-index:0;opacity:.52} #trail{z-index:1;opacity:.82;mix-blend-mode:screen}

/* 헤더 */
header{position:sticky;top:0;z-index:10;padding:12px 14px;background:linear-gradient(180deg,rgba(10,14,30,.9),rgba(10,14,30,.7));backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.07)}
.brand{color:var(--gold);font-weight:900;text-align:center;font-size:clamp(18px,4.6vw,24px)}
nav.primary{display:flex;gap:10px;justify-content:center;margin-top:10px;flex-wrap:wrap}
nav.primary button{all:unset;cursor:pointer;padding:7px 14px;border-radius:12px;font-weight:800;color:var(--fg);border:1px solid transparent}
nav.primary button.active,nav.primary button:hover{background:linear-gradient(180deg,#fae9b8,#e6c777);color:#0a1230;border-color:#d9c16a;box-shadow:0 0 14px rgba(230,199,119,.3)}
.lang{display:flex;gap:8px;justify-content:center;margin-top:8px}
.lang button{all:unset;cursor:pointer;padding:6px 12px;border-radius:12px;border:1px solid #35406b;color:#dfe8ff}
.lang button.active,.lang button:hover{background:#151d3a;color:var(--gold);border-color:#4a5585;box-shadow:0 0 10px rgba(230,199,119,.25)}

main{position:relative;z-index:2}
section{max-width:var(--max);margin:auto;padding:56px 16px}
h1,h2{color:var(--gold)}
.hero{text-align:center}

/* Poem */
.poemwrap{background:rgba(16,22,48,.3);border:1px solid #1f2640;border-radius:14px;padding:18px;box-shadow:var(--shadow);max-width:860px;margin:12px auto 0}
.poem p{margin:8px 0}

/* Sound controls (C안) */
.audio-bar{display:flex;gap:10px;margin-top:12px;align-items:center;justify-content:center}
.ctrlbtn{width:42px;height:42px;cursor:pointer;border-radius:50%;border:1px solid rgba(230,199,119,.45);background:radial-gradient(circle at 30% 30%,rgba(255,240,180,.45),rgba(12,19,48,.7));box-shadow:0 0 12px rgba(230,199,119,.25);display:grid;place-items:center}
.ctrlbtn[disabled]{opacity:.5;cursor:not-allowed}
.ctrlbtn svg{width:22px;height:22px;fill:none;stroke:#0b1020;stroke-width:1.8}
#fftBar{height:6px;background:#233;border-radius:8px;margin-top:8px;overflow:hidden;width:180px}
#fftBar span{display:block;height:100%;background:linear-gradient(90deg,#b7d4ff,#f7da91);width:0}

/* Works */
.tabs{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0 14px;justify-content:center}
.tab{cursor:pointer;background:#10183a;border-radius:999px;padding:8px 14px;border:1px solid var(--line);color:#cbd9ff;font-size:.95rem;white-space:nowrap}
.tab.active{background:linear-gradient(180deg,#f9e8aa,#e6c777);color:#0a1230;border-color:#d9c16a}
.tabpanel{display:none}.tabpanel.active{display:block}
.grid{display:grid;gap:10px;grid-template-columns:repeat(2,1fr)}
@media(min-width:1000px){.grid{grid-template-columns:repeat(4,1fr)}}
.card{background:var(--panel);border:1px solid var(--line);border-radius:10px;overflow:hidden;opacity:0;transform:translateY(8px);transition:opacity .45s,transform .45s}
.card.visible{opacity:1;transform:translateY(0)} .card img{width:100%;aspect-ratio:1/1;object-fit:cover;display:block}

/* Lightbox */
#lightbox{position:fixed;inset:0;background:rgba(0,0,0,.88);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .2s;z-index:30}
#lightbox.on{opacity:1;pointer-events:auto}
.lb-stage{position:relative;max-width:95vw;max-height:90vh;border:2px solid var(--gold);border-radius:12px;overflow:hidden;background:#000}
#lbImg{max-width:100%;max-height:90vh;cursor:zoom-in;transform:translate(0,0) scale(1);transition:transform .2s}
.lb-caption{position:absolute;left:0;right:0;bottom:0;background:linear-gradient(180deg,transparent,#000b);color:#cfe0ff;padding:8px 12px;font-size:.9rem}
.lb-arrow{position:absolute;top:50%;transform:translateY(-50%);width:46px;height:46px;border-radius:50%;background:rgba(18,24,48,.6);border:1px solid rgba(230,199,119,.4);color:#fff;display:grid;place-items:center;cursor:pointer}
.lb-prev{left:8px}.lb-next{right:8px}
.lb-close{position:absolute;top:-50px;right:0;width:40px;height:40px;border-radius:50%;background:rgba(18,24,48,.6);border:1px solid rgba(230,199,119,.4);color:#fff;cursor:pointer}
.lb-meta{position:absolute;top:-50px;left:0;color:#cfe0ff;font-size:.85rem;opacity:.85}

/* Reports */
.r-head{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px}
.r-tabs{display:flex;gap:8px}
.r-tab{cursor:pointer;border:1px solid #2a366b;background:#0e1840;color:#dfe7ff;border-radius:10px;padding:8px 12px;font-weight:700}
.r-tab.is-active{outline:2px solid #6aa3ff;background:#132252}
.r-grid{display:grid;gap:12px}
@media(min-width:680px){.r-grid{grid-template-columns:repeat(2,1fr)}}
@media(min-width:1024px){.r-grid{grid-template-columns:repeat(3,1fr)}}
.r-card{border:1px solid #243169;background:linear-gradient(180deg,#0d1534,#0b1128);border-radius:14px;overflow:hidden}
.r-card .r-in{padding:14px 14px 12px}
.r-title{margin:2px 0 6px;font-size:16px;color:#eaf0ff;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.r-sub{margin:0 0 10px;font-size:13px;color:#a9b7e8}
.r-meta{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:10px 0 8px}
.r-badge{font-size:11px;border:1px solid #345;padding:2px 7px;border-radius:999px;background:#0c183b;color:#cfe0ff}
.r-badge.pdf{border-color:#7b6322;background:#1c1830;color:#f2db9a}
.r-body{font-size:14px;color:#d6e1ff;opacity:.95;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.r-actions{display:flex;gap:8px;margin-top:12px}
.r-actions a,.r-actions button{all:unset;cursor:pointer;border:1px solid #2a366b;background:#0e1840;color:#dfe7ff;border-radius:10px;padding:8px 12px;font-weight:700}
.r-actions a:hover,.r-actions button:hover{background:#15265a}

/* Footer */
footer{border-top:1px solid rgba(255,255,255,.07);background:#0a1024;padding:52px 12px 100px;text-align:center}
.links{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-bottom:20px}
.linkbtn{padding:6px 10px;border-radius:10px;border:1px solid rgba(230,199,119,.3);display:inline-flex;gap:6px;align-items:center;color:#cfe0ff;text-decoration:none}
.ico{width:16px;height:16px;fill:#f5e3a0}
.linkbtn:hover{border-color:rgba(230,199,119,.5);color:#fff;box-shadow:0 0 10px rgba(230,199,119,.25)}

/* Bio modal/slide */
#bio-modal[hidden]{display:none} #bio-modal{position:fixed;inset:0;z-index:9999}
.bio-backdrop{position:absolute;inset:0;background:rgba(6,10,24,.62);backdrop-filter:saturate(1.1) blur(6px)}
.bio-card{position:relative;margin:4vh auto;width:min(960px,94vw);max-height:90vh;overflow:auto;background:linear-gradient(180deg,#0a1022,#0b132a);color:#eaeef7;border:1px solid rgba(255,215,120,.2);border-radius:16px;padding:14px 16px 20px;box-shadow:0 14px 48px rgba(0,0,0,.5)}
.bio-head{display:flex;align-items:center;gap:10px;position:sticky;top:0;padding:8px 2px 10px;background:linear-gradient(180deg,rgba(10,16,34,.98),rgba(10,16,34,.90))}
.bio-head h2{margin:0;font-size:1.2rem}
.bio-lang{margin-left:auto;display:flex;gap:6px}
.bio-lang .lang{border:1px solid rgba(255,215,120,.35);background:transparent;color:#f2dca6;padding:6px 10px;border-radius:10px;cursor:pointer}
.bio-lang .lang.active{box-shadow:0 0 8px rgba(255,215,120,.55)}
.bio-close{border:0;background:transparent;color:#fff;font-size:1.1rem;padding:6px 8px;cursor:pointer}
.bio-body p{line-height:1.62}
.expo-kicker{display:block;width:100%;text-align:left;margin:.25rem 0 1rem;border:1px dashed rgba(255,215,120,.28);border-radius:10px;background:transparent;color:#f9e6b7;padding:.6rem .75rem;cursor:pointer}
.slide-wrap{overflow:hidden;transition:max-height .45s ease;max-height:0}
.slide-wrap[data-open="true"]{max-height:4000px}

/* 구글 번역 막기 */
.goog-te-banner-frame,.goog-te-balloon-frame,#goog-gt-tt{display:none!important} body{top:0!important}
</style>
</head>
<body class="korean">
<canvas id="waves" aria-hidden="true"></canvas>
<canvas id="trail" aria-hidden="true"></canvas>

<header>
  <div class="brand">DUNGZAK CESTLAVIE · Lightflow Ω.9</div>
  <nav class="primary" aria-label="Primary">
    <button data-target="poem" class="active">Poem</button>
    <button data-target="works">Works</button>
    <button data-target="reports">Reports</button>
    <button id="tab-bio">Artist Bio</button>
  </nav>
  <div class="lang" aria-label="Language">
    <button id="koBtn" class="active">KR</button>
    <button id="enBtn">EN</button>
    <button id="hyBtn">KR+EN</button>
  </div>
</header>

<main>
  <!-- POEM -->
  <section id="poem" class="hero active">
    <h1 class="ko">빛 · 기억 · 존재</h1>
    <h1 class="en">Light · Memory · Being</h1>
    <div class="poemwrap">
      <p class="ko" style="font-weight:700">〈파리의 센느강〉</p>
      <p class="en" style="font-weight:700">〈The Seine of Paris〉</p>
      <p class="ko" style="opacity:.85;margin-top:4px">등작 燈酌 DUNGZAK CESTLAVIE</p>
      <p class="en" style="opacity:.85;margin-top:4px">DUNGZAK CESTLAVIE</p>
      <div class="poem">
        <p class="ko">센느강 다리 아래, 노트르담 성당의 촛불이 켜질 무렵—</p><p class="en">Beneath the bridge of the Seine, as the candles of Notre-Dame begin to glow—</p>
        <p class="ko">소박한 꿈들을 안고 사는 사람들이 모여 춤춘다.</p><p class="en">People who live with humble dreams gather to dance.</p>
        <p class="ko">빙글빙글 돌아가며 내딛는 발걸음의 화음 위로,</p><p class="en">Their circling steps form harmonies upon the rhythm of their feet,</p>
        <p class="ko">바이올린이 새파랗고 샛노랑의 빛을 흩뿌리며 웃는다.</p><p class="en">As violins scatter blue and golden light, laughing in brilliance.</p>
        <p class="ko">꿈꾸는 여인들과 꿈꾸는 남성들이 손을 잡고,</p><p class="en">Dreaming women and dreaming men clasp hands,</p>
        <p class="ko">사람의 향기를 맡으며 재빠른 음률에 몸을 맡긴다.</p><p class="en">Breathing the scent of humanity, surrendering to the swift rhythm.</p>
        <p class="ko">아담과 이브의 별자국이 눈물방울처럼 흘러내리는 나무,</p><p class="en">A tree where Adam and Eve’s star-traces drip like tears,</p>
        <p class="ko">그 풍경 속에서 초승달은 어여쁜 하얀 미소를 흘린다.</p><p class="en">In that scene, the crescent moon releases a tender white smile.</p>
        <p class="ko">샤락, 샤락— 춤사위의 리듬이 확장될수록,</p><p class="en">Sharak, sharak— as the rhythm of dance expands,</p>
        <p class="ko">구경하던 이들마저 어깨와 허리를 들썩이며,</p><p class="en">Even the onlookers begin to sway their shoulders and waists,</p>
        <p class="ko">사랑의 입맞춤을 의식한다.</p><p class="en">Becoming aware of love’s gentle kiss.</p>
        <p class="ko">흘러감 속에 포개진 순간, 그들은 영혼의 박제가 되어, 멈춤 속에 영원을 새긴다.</p>
        <p class="en">Within the flowing overlap of time, they become taxidermies of the soul, inscribing eternity into stillness.</p>
      </div>

      <!-- Ambient sound -->
      <div class="audio-bar" aria-label="Ambient sound controls">
        <button class="ctrlbtn" id="soundBtn" aria-label="Play ambient">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M4 10v4h4l5 5V5l-5 5H4z"></path>
            <path d="M16 8c1.8 1.2 1.8 6.8 0 8" stroke-linecap="round"></path>
            <path d="M18 5c3 2 3 12 0 14" stroke-linecap="round"></path>
          </svg>
        </button>
        <button class="ctrlbtn" id="soundStopBtn" aria-label="Stop ambient" disabled>
          <svg viewBox="0 0 24 24" aria-hidden="true"><rect x="7" y="7" width="10" height="10" rx="2"></rect></svg>
        </button>
        <div id="fftBar" aria-hidden="true"><span></span></div>
      </div>
    </div>
  </section>

  <!-- WORKS -->
  <section id="works">
    <h2 class="ko">작품 아카이브</h2><h2 class="en">Artworks</h2>
    <div class="tabs" role="tablist" aria-label="Art Sections">
      <button class="tab active" data-panel="pray">Ⅰ 빛과 기억 · Light &amp; Memory</button>
      <button class="tab" data-panel="human">Ⅱ 인간 기도 · Human Prayer</button>
      <button class="tab" data-panel="rebirth">Ⅲ 정신의 재탄생 · Rebirth of Mind</button>
      <button class="tab" data-panel="exist">Ⅳ 존재의 회복 · Restoration of Being</button>
      <button class="tab" data-panel="cosmos">Ⅴ 빛의 초의식 · Metaconsciousness of Light</button>
    </div>
    <div id="panel-pray" class="tabpanel active"></div>
    <div id="panel-human" class="tabpanel"></div>
    <div id="panel-rebirth" class="tabpanel"></div>
    <div id="panel-exist" class="tabpanel"></div>
    <div id="panel-cosmos" class="tabpanel"></div>
  </section>

  <!-- LIGHTBOX -->
  <div id="lightbox" aria-hidden="true">
    <div class="lb-stage">
      <img id="lbImg" alt="Artwork view">
      <div class="lb-caption" id="lbCap"></div>
      <button class="lb-arrow lb-prev" id="lbPrev" aria-label="Previous">◀</button>
      <button class="lb-arrow lb-next" id="lbNext" aria-label="Next">▶</button>
    </div>
    <button class="lb-close" id="lbClose" aria-label="Close">✕</button>
    <div class="lb-meta" id="lbMeta"></div>
  </div>

  <!-- REPORTS -->
  <section id="reports">
    <h2 class="ko">미학 보고서 (DCAR Series)</h2><h2 class="en">Aesthetic Reports (DCAR Series)</h2>
    <div class="r-head">
      <div class="r-tabs">
        <button class="r-tab is-active" data-r="all">All</button>
        <button class="r-tab" data-r="theory">Theory</button>
        <button class="r-tab" data-r="archive">Archive</button>
        <button class="r-tab" data-r="practice">Practice</button>
      </div>
      <button class="r-tab" id="reportsToggle" data-r="toggle" aria-expanded="true">Close</button>
    </div>
    <div class="r-grid" id="reportGrid"></div>
  </section>

  <!-- ARTIST BIO -->
  <section id="bio">
    <h2 class="ko">작가 소개</h2><h2 class="en">Artist Bio</h2>

    <button class="expo-kicker" id="expoToggle" aria-expanded="false">
      <span class="ko">국내외 개인전 28회 ▾</span>
      <span class="en">28 solo exhibitions worldwide ▾</span>
    </button>

    <div class="bio-body ko">
      <p><strong>등작 燈酌 DUNGZAK CESTLAVIE</strong>는 빛, 기억, 존재의 기원을 탐구하는 한국 현대예술가다. 회화·텍스트·사운드·아카이브를 결합하며 서울을 기반으로 베를린·파리·암스테르담·바르샤바·모스크바에서 프로젝트를 전개한다. 저서: <strong>1 눈물은 절대 멈추지 않는다_예술가의 책무와 인간 욕망</strong>(2022), <strong>예술, 그 끝없는 사랑</strong>(2024).</p>
    </div>
    <div class="bio-body en">
      <p><strong>DUNGZAK CESTLAVIE</strong> is a Korean contemporary artist exploring the origins of light, memory, and being. Publications: <strong>1 Tears Never Cease — The Artist’s Duty and Human Desire</strong> (2022); <strong>Art, the Endless Love</strong> (2024).</p>
    </div>

    <div class="slide-wrap" id="expoSlide" data-open="false" aria-hidden="true">
      <div class="bio-body ko"><p>상세 전시·소장·저서 목록은 여기 펼침.</p></div>
      <div class="bio-body en"><p>Detailed exhibitions, collections, publications listed here.</p></div>
    </div>
  </section>
</main>

<footer>
  <div class="links">
    <a class="linkbtn" href="https://flickr.com/photos/dungzak" target="_blank" rel="noopener">
      <svg class="ico" viewBox="0 0 24 24"><circle cx="8" cy="12" r="5"/><circle cx="18" cy="12" r="5"/></svg> Flickr
    </a>
    <a class="linkbtn" href="https://instagram.com/dungzakcestlavie" target="_blank" rel="noopener">
      <svg class="ico" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="5"/><circle cx="12" cy="12" r="4"/><circle cx="18" cy="6" r="1.3"/></svg> Instagram
    </a>
    <a class="linkbtn" href="https://youtube.com/@dungzakcestlavie" target="_blank" rel="noopener">
      <svg class="ico" viewBox="0 0 24 24"><path d="M22 12s0-4-1-5-5-1-9-1-8 0-9 1-1 5-1 5 0 4 1 5 5 1 9 1 8 0 9-1 1-5 1-5Z"/><path d="M10 8l6 4-6 4V8z" fill="#0b1020"/></svg> YouTube
    </a>
    <a class="linkbtn" href="https://people.search.naver.com/search.naver?where=nexearch&sm=tab_etc&query=%EB%93%B1%EC%9E%91" target="_blank" rel="noopener">
      <svg class="ico" viewBox="0 0 24 24"><path d="M4 4h5l5 7V4h6v16h-5l-5-7v7H4z"/></svg> Naver Info
    </a>
    <a class="linkbtn" href="mailto:dungzakcestlavie@gmail.com">
      <svg class="ico" viewBox="0 0 24 24"><path d="M3 6h18v12H3z"/><path d="M3 7l9 7 9-7" fill="#0b1020"/></svg> Email
    </a>
  </div>
  <small class="ko">© 2025 등작 燈酌 DUNGZAK CESTLAVIE</small>
  <small class="en">© 2025 DUNGZAK CESTLAVIE</small>
</footer>

<!-- ===================== SCRIPTS ===================== -->
<script>
const $$=(q,sc)=>Array.from((sc||document).querySelectorAll(q)); const $=(q,sc)=>(sc||document).querySelector(q);

/* Language */
(function(){
  const body=document.body, koBtn=$('#koBtn'), enBtn=$('#enBtn'), hyBtn=$('#hyBtn');
  function setSiteLang(lang){body.classList.remove('korean','english','hybrid');body.classList.add(lang==='ko'?'korean':lang==='en'?'english':'hybrid');[koBtn,enBtn,hyBtn].forEach(b=>b&&b.classList.remove('active'));({ko:koBtn,en:enBtn,hy:hyBtn}[lang]?.classList.add('active'));localStorage.setItem('dz_site_lang',lang);document.dispatchEvent(new CustomEvent('dz-lang-change',{detail:lang}))}
  koBtn.onclick=()=>setSiteLang('ko'); enBtn.onclick=()=>setSiteLang('en'); hyBtn.onclick=()=>setSiteLang('hy'); setSiteLang(localStorage.getItem('dz_site_lang')||'ko');
})();

/* Primary nav */
(function(){
  const sections=['poem','works','reports','bio'];
  function show(id){sections.forEach(s=>{const el=document.getElementById(s); if(el) el.classList.toggle('active',s===id)});}
  $$('nav.primary button[data-target]').forEach(b=>b.addEventListener('click',()=>show(b.dataset.target)));
  show('poem');
  $('#tab-bio')?.addEventListener('click',()=>document.getElementById('bio').scrollIntoView({behavior:'smooth'}));
})();

/* Background waves */
(function(){
  const cv=$('#waves'), ctx=cv.getContext('2d'); let W=innerWidth,H=innerHeight; function rs(){W=innerWidth;H=innerHeight;cv.width=W;cv.height=H} rs(); addEventListener('resize',rs);
  let t=0; (function loop(){ctx.clearRect(0,0,W,H); for(let k=0;k<3;k++){ctx.beginPath(); for(let x=0;x<=W;x++){const y=H*0.35+k*42+Math.sin(x*0.008+t*0.02+k)* (12+k*8); x?ctx.lineTo(x,y):ctx.moveTo(x,y)} const g=ctx.createLinearGradient(0,0,0,H); g.addColorStop(0,'rgba(120,160,255,.08)'); g.addColorStop(1,'rgba(230,199,119,.12)'); ctx.strokeStyle=g; ctx.lineWidth=1.6; ctx.stroke()} t+=1; requestAnimationFrame(loop)})();
})();

/* Golden trail */
(function(){
  const cv=$('#trail'), ctx=cv.getContext('2d'); function rs(){cv.width=innerWidth;cv.height=innerHeight} rs(); addEventListener('resize',rs);
  const sparks=[]; addEventListener('pointermove',e=>{for(let i=0;i<6;i++) sparks.push({x:e.clientX,y:e.clientY,vx:(Math.random()-0.5)*1.6,vy:(Math.random()-0.5)*1.6,life:1,size:1.2+Math.random()*2})});
  (function loop(){ctx.fillStyle='rgba(0,0,0,.08)';ctx.fillRect(0,0,cv.width,cv.height); for(let i=sparks.length-1;i>=0;i--){const s=sparks[i]; s.x+=s.vx; s.y+=s.vy; s.life-=.02; if(s.life<=0){sparks.splice(i,1);continue} ctx.beginPath(); ctx.arc(s.x,s.y,s.size,0,Math.PI*2); ctx.fillStyle=`rgba(250,220,150,${.45*s.life})`; ctx.shadowColor='rgba(230,199,119,.6)'; ctx.shadowBlur=14; ctx.fill()} requestAnimationFrame(loop)})();
})();

/* Works 5×20 (더미 경로 /works/{panel}/01.jpg … 20.jpg) */
(function(){
  const panels={pray:$('#panel-pray'),human:$('#panel-human'),rebirth:$('#panel-rebirth'),exist:$('#panel-exist'),cosmos:$('#panel-cosmos')};
  Object.keys(panels).forEach(key=>{
    const host=panels[key]; let html='<div class="grid">';
    for(let i=1;i<=20;i++){const n=String(i).padStart(2,'0'); const src=`/works/${key}/${n}.jpg`;
      html+=`<figure class="card witem" data-big="${src}" data-cap="${key} ${n}"><img loading="lazy" decoding="async" src="${src}" alt="${key} ${n}"></figure>`;
    }
    html+='</div>'; host.innerHTML=html;
  });
  $$('.tabs .tab').forEach(b=>b.addEventListener('click',()=>{ $$('.tabs .tab').forEach(x=>x.classList.remove('active')); b.classList.add('active'); $$('.tabpanel').forEach(p=>p.classList.remove('active')); $('#panel-'+b.dataset.panel).classList.add('active'); }));
  // 페이드인
  $$('.witem').forEach((it)=>{ const io=new IntersectionObserver(([en])=>{ if(en.isIntersecting){ it.classList.add('visible'); io.disconnect(); } },{threshold:.2}); io.observe(it); });
})();

/* Lightbox */
(function(){
  const lb=$('#lightbox'),img=$('#lbImg'),cap=$('#lbCap'),prev=$('#lbPrev'),next=$('#lbNext'),close=$('#lbClose'),meta=$('#lbMeta');
  let items=[],idx=0,zoom=1,ox=0,oy=0,drag=false,sx=0,sy=0;
  function gather(){items=Array.from(document.querySelectorAll('.witem')).map(el=>({z:el.dataset.big,cap:el.dataset.cap,el}))}
  function openAt(i){if(!items.length)return; idx=(i+items.length)%items.length; img.src=items[idx].z; cap.textContent=items[idx].cap; meta.textContent=`${idx+1} / ${items.length}`; zoom=1;ox=oy=0;apply(); lb.classList.add('on'); lb.setAttribute('aria-hidden','false')}
  function apply(){img.style.transform=`translate(${ox}px,${oy}px) scale(${zoom})`; img.style.cursor=zoom>1?'grab':'zoom-in'}
  function hide(){lb.classList.remove('on'); lb.setAttribute('aria-hidden','true')}
  document.addEventListener('click',e=>{const card=e.target.closest('.witem'); if(!card)return; gather(); openAt(items.findIndex(x=>x.el===card))});
  prev.addEventListener('click',()=>openAt(idx-1)); next.addEventListener('click',()=>openAt(idx+1)); close.addEventListener('click',hide);
  lb.addEventListener('click',e=>{if(e.target===lb) hide()});
  lb.addEventListener('wheel',e=>{if(!lb.classList.contains('on'))return; e.preventDefault(); const d=e.deltaY>0?.9:1.1, pz=zoom; zoom=Math.min(5,Math.max(1,zoom*d)); if(zoom===1){ox=oy=0}else{const r=img.getBoundingClientRect(); const cx=e.clientX-r.left-r.width/2-ox; const cy=e.clientY-r.top-r.height/2-oy; ox-=cx*(zoom/pz-1); oy-=cy*(zoom/pz-1)} apply();},{passive:false});
  img.addEventListener('mousedown',e=>{if(zoom===1)return; drag=true; sx=e.clientX-ox; sy=e.clientY-oy; img.style.cursor='grabbing'}); 
  window.addEventListener('mousemove',e=>{if(!drag)return; ox=e.clientX-sx; oy=e.clientY-sy; apply()}); 
  window.addEventListener('mouseup',()=>{drag=false; if(zoom>1) img.style.cursor='grab'});
  window.addEventListener('keydown',e=>{if(!lb.classList.contains('on'))return; if(e.key==='Escape')hide(); else if(e.key==='ArrowLeft')openAt(idx-1); else if(e.key==='ArrowRight')openAt(idx+1)});
})();

/* Reports DCAR 1–9 (캡션은 나중에 수정) */
(function(){
  const grid=$('#reportGrid');
  const items=[
    {id:"DCAR-01-2025",cat:"theory",title_kr:"존재의 회복(초판)",title_en:"The Restoration of Being (First Ed.)",file:"/reports/DCAR01.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-02-2025",cat:"theory",title_kr:"빛의 기억학",title_en:"Mnemonics of Light",file:"/reports/DCAR02.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-03-2025",cat:"practice",title_kr:"정신의 재탄생",title_en:"Rebirth of Mind",file:"/reports/DCAR03.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-04-2025",cat:"archive",title_kr:"Lightflow 기록",title_en:"Lightflow Archive",file:"/reports/DCAR04.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-05-2025",cat:"theory",title_kr:"신경-정서 진동",title_en:"Neuro-Affective Tremor",file:"/reports/DCAR05.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-06-2025",cat:"practice",title_kr:"작업 방법론",title_en:"Methods of Making",file:"/reports/DCAR06.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-07-2025",cat:"archive",title_kr:"전시 자료집",title_en:"Exhibition Dossier",file:"/reports/DCAR07.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-08-2025",cat:"theory",title_kr:"기억의 존엄",title_en:"Dignity of Memory",file:"/reports/DCAR08.pdf",caption:"캡션: 나중에 편집"},
    {id:"DCAR-09-2025",cat:"theory",title_kr:"해체 이후의 회화 — 존재 감응의 귀환",title_en:"After Deconstruction — Return of Affective Being",file:"/reports/DCAR09.pdf",caption:"캡션: 나중에 편집"}
  ];
  function render(list){grid.innerHTML=list.map(r=>`
    <article class="r-card"><div class="r-in">
      <div class="r-title"><span class="ko">${r.title_kr}</span> · <span class="en">${r.title_en}</span></div>
      <div class="r-sub">${r.id}</div>
      <div class="r-meta"><span class="r-badge">${r.cat}</span><span class="r-badge pdf">PDF</span></div>
      <div class="r-body">${r.caption}</div>
      <div class="r-actions"><a href="${r.file}" target="_blank" rel="noopener">Open PDF</a></div>
    </div></article>`).join('')}
  render(items);
  $$('.r-tab').forEach(t=>t.addEventListener('click',()=>{
    const f=t.dataset.r;
    if(f==='toggle'){const open=$('#reports').classList.contains('active'); t.textContent=open?'Open':'Close'; $('#reports').classList.toggle('active'); return;}
    $$('.r-tab').forEach(x=>x.classList.remove('is-active')); t.classList.add('is-active');
    render(f==='all'?items:items.filter(x=>x.cat===f));
  }));
})();

/* Bio slide */
(function(){
  const btn=$('#expoToggle'), slide=$('#expoSlide');
  btn.addEventListener('click',()=>{const open=slide.getAttribute('data-open')==='true'; slide.setAttribute('data-open',open?'false':'true'); slide.setAttribute('aria-hidden',open?'true':'false')});
})();

/* Ambient synth */
(function(){
  const btn=$('#soundBtn'), stopBtn=$('#soundStopBtn'), bar=$('#fftBar span'); let ac=null,on=false,analyser=null,raf=null,nodes=null;
  async function ensure(){if(!ac){const C=window.AudioContext||window.webkitAudioContext; ac=new C({latencyHint:'interactive'})} if(ac.state==='suspended') await ac.resume()}
  function G(v){const g=ac.createGain();g.gain.value=v;return g} function O(t,f){const o=ac.createOscillator();o.type=t;o.frequency.value=f;return o}
  function ir(len=1.6,decay=2.6){const sr=ac.sampleRate,n=Math.floor(sr*len),buf=ac.createBuffer(2,n,sr);for(let c=0;c<2;c++){const d=buf.getChannelData(c);for(let i=0;i<n;i++) d[i]=(Math.random()*2-1)*Math.pow(1-i/n,decay)}return buf}
  function draw(){if(!analyser){raf=requestAnimationFrame(draw);return}const a=new Uint8Array(analyser.frequencyBinCount);analyser.getByteTimeDomainData(a);let avg=0;for(let i=0;i<a.length;i++)avg+=Math.abs(a[i]-128);avg/=a.length;bar.style.width=Math.min(100,Math.max(8,avg*1.8))+'%';raf=requestAnimationFrame(draw)}
  async function start(){ if(on) return; await ensure(); const base=G(.12),sub=G(.05),mid=G(.06),shim=G(.012),pan=ac.createStereoPanner();
    const low=O('sine',62),low2=O('sine',124),floor=O('sine',31),ch1=O('sine',432),ch2=O('sine',528);
    const lp=ac.createBiquadFilter(); lp.type='lowpass'; lp.frequency.value=880; lp.Q.value=.8;
    const bp=ac.createBiquadFilter(); bp.type='bandpass'; bp.frequency.value=120; bp.Q.value=.7;
    const conv=ac.createConvolver(); conv.buffer=ir(); const wet=G(.25),dry=G(.85);
    low.connect(base).connect(bp).connect(lp); low2.connect(mid).connect(bp); floor.connect(sub).connect(bp); ch1.connect(shim).connect(lp); ch2.connect(shim).connect(lp);
    lp.connect(dry).connect(pan).connect(ac.destination); lp.connect(wet).connect(conv).connect(pan).connect(ac.destination); bp.connect(dry).connect(pan); bp.connect(wet).connect(conv);
    analyser=ac.createAnalyser(); analyser.fftSize=512; pan.connect(analyser);
    [low,low2,floor,ch1,ch2].forEach(o=>o.start());
    nodes={low,low2,floor,ch1,ch2,base,sub,mid,shim,lp,bp,conv,wet,dry,pan}; on=true; btn.disabled=true; stopBtn.disabled=false; draw(); }
  function stop(){ if(!on) return; const {low,low2,floor,ch1,ch2,base,sub,mid,shim}=nodes, t=ac.currentTime;
    [base.gain,sub.gain,mid.gain,shim.gain].forEach(g=>{try{g.cancelScheduledValues(0);g.exponentialRampToValueAtTime(0.0001,t+1.2)}catch{}}); setTimeout(()=>{[low,low2,floor,ch1,ch2].forEach(o=>{try{o.stop()}catch{}})},1300);
    on=false; btn.disabled=false; stopBtn.disabled=true; cancelAnimationFrame(raf); bar.style.width='0'; }
  btn.addEventListener('click',start); stopBtn.addEventListener('click',stop);
  window.addEventListener('touchend',async()=>{try{await ensure()}catch{}},{once:true});
  window.addEventListener('click',async()=>{try{await ensure()}catch{}},{once:true});
})();
</script>
</body>
</html>
