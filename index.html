<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>등작 燈酌 DUNGZAK CESTLAVIE — Lightflow Ω.2</title>
<meta name="description" content="〈파리의 센느강〉· Bio(한/영) · Works(5섹션×20작 / 모바일 2×2 · 데스크톱 4×5) · DCAR 1–8 · 파동 색감 감정선 · 라이트트레일 · 사운드(버튼) · Pause/Resume.">
<link rel="canonical" href="https://dungzak.art/">
<meta property="og:type" content="website">
<meta property="og:title" content="DUNGZAK CESTLAVIE — Lightflow Ω.2">
<meta property="og:description" content="100 Works · Aesthetic Reports 1–8 · Reactive Lightwaves & Trail · Play-to-Start Warm Pulse Sound">
<meta property="og:url" content="https://dungzak.art/">
<meta property="og:image" content="https://dungzak.art/og.jpg">
<meta name="theme-color" content="#030b1a">
<link rel="icon" href="/favicon.ico">
<style>
:root{
  --gold:#f3c969; --light:#b7ccff; --muted:#9fb0d8; --ink:#0b1030;
  --panel:#081025; --panel2:#0c1330; --max:1200px; --h:60px;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Noto Sans KR',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:radial-gradient(circle at 50% 40%,#030b1a,#000);
  color:#e6ecff; overflow-x:hidden; line-height:1.65;
}

/* Light layers */
canvas#waves{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.35}
canvas#trail{position:fixed;inset:0;z-index:1;pointer-events:none;opacity:.55;mix-blend-mode:screen}

/* Header */
header{
  position:fixed; top:0; left:0; right:0; height:var(--h); z-index:5;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; color:var(--light);
  background:rgba(3,10,26,.45); backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,.05);
}
header .logo{font-weight:700;letter-spacing:.2px}
header nav{display:flex;align-items:center;gap:10px}
header nav a{color:var(--light);text-decoration:none;font-size:.92rem;padding:6px 8px;border-radius:8px}
header nav a:hover{color:var(--gold);background:rgba(255,255,255,.05)}
#langToggle{cursor:pointer;font-weight:800}

/* Sections */
main{position:relative; z-index:2}
section{padding:calc(var(--h) + 28px) 16px 70px; max-width:var(--max); margin:auto}
h1,h2,h3{color:var(--gold)}
.sub{color:var(--light)}
.lang-section{display:none}
body.korean .ko{display:block}
body.english .en{display:block}

/* Hero / Poem */
.hero{min-height:90vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:12px}
.poem{max-width:800px;text-align:left}
.poem p{margin:4px 0}

/* Bio */
.bio{display:grid;grid-template-columns:1fr;gap:12px;text-align:left}
.bio p{color:var(--light)}

/* Works */
#works h2{margin-bottom:12px}
.tabs{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:16px}
.tab{
  padding:9px 14px; border-radius:20px; cursor:pointer;
  border:1px solid #222; background:var(--panel2); color:var(--light);
  font-size:.9rem; transition:all .25s ease;
}
.tab.active{background:linear-gradient(180deg,var(--gold),#e5d79d);color:#0a0f2c;border-color:#d6b65f}
.tabpanel{display:none;animation:fade .35s}
.tabpanel.active{display:block}
@keyframes fade{from{opacity:0}to{opacity:1}}

/* Grid: 모바일 2×2, 데스크톱 4×5 (20작품) */
.art-grid{
  display:grid; grid-template-columns:repeat(2,1fr); gap:10px;
  grid-auto-rows:1fr;
}
@media(min-width:1024px){
  .art-grid{grid-template-columns:repeat(4,1fr); grid-auto-rows:1fr}
}
.card{
  position:relative; background:var(--panel2); border:1px solid #121a3b;
  border-radius:8px; overflow:hidden; transition:transform .25s;
}
.card:hover{transform:translateY(-2px)}
.card img{width:100%;display:block;aspect-ratio:1/1;object-fit:cover;filter:brightness(1.03)}
/* hover/tap caption */
.caption{
  position:absolute;left:0;right:0;bottom:0;
  background:linear-gradient(180deg,rgba(12,19,48,0),rgba(12,19,48,.85));
  color:#e9efff;font-size:.82rem;padding:10px 12px;transform:translateY(100%);
  transition:transform .25s; pointer-events:none;
}
.card:focus .caption,.card:hover .caption{transform:translateY(0)}
.meta{padding:8px 10px;font-size:.86rem;color:var(--muted)}
.meta b{color:#e9efff}

/* Reports (accordion) */
.accordion{display:grid;gap:8px}
.acc-item{background:var(--panel2);border:1px solid #121a3b;border-radius:10px;overflow:hidden}
.acc-head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;cursor:pointer}
.acc-body{max-height:0;overflow:hidden;padding:0 14px;transition:max-height .35s ease}
.acc-item.open .acc-body{max-height:360px;padding-bottom:12px}
.acc-item h4{color:#e9efff;font-weight:600}
.acc-item.open h4{color:var(--gold)}

/* Lightbox */
#lightbox{
  position:fixed;inset:0;display:flex;justify-content:center;align-items:center;
  background:rgba(0,0,0,.88);opacity:0;pointer-events:none;transition:.28s;z-index:10
}
#lightbox.open{opacity:1;pointer-events:auto}
#lightbox img{max-width:92vw;max-height:88vh;border:2px solid var(--gold);border-radius:10px;transform:scale(.96);transition:.28s}
#lightbox.open img{transform:scale(1)}
.lb-btn,.lb-close{
  position:fixed;background:rgba(15,20,40,.6);color:#fff;border:1px solid #333;border-radius:50%;
  width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none;z-index:12
}
.lb-prev{left:14px;top:50%;transform:translateY(-50%)}
.lb-next{right:14px;top:50%;transform:translateY(-50%)}
.lb-close{top:16px;right:16px}
.lb-cap{
  position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
  background:rgba(8,16,40,.7); border:1px solid #223; border-radius:10px;
  font-size:.88rem; padding:8px 12px; color:#e9efff; z-index:12; max-width:92vw;
  text-align:center;
}

/* Footer */
footer{border-top:1px solid #0e1434;background:#030b1a;text-align:center;padding:40px 12px}
.social a{margin:0 8px;color:#b7ccff;font-size:1.4rem;text-decoration:none}
.social a:hover{color:#f3c969;text-shadow:0 0 8px rgba(243,201,105,.6)}
footer small{display:block;color:#9fb0d8;margin-top:8px}

/* Controls */
#ctrl{position:fixed;right:14px;bottom:14px;z-index:15;display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
.ctrlbtn{background:rgba(12,19,48,.75);border:1px solid #223;border-radius:26px;color:#e9efff;padding:8px 12px;font-size:.9rem;cursor:pointer}
.ctrlbtn:hover{background:rgba(12,19,48,.95)}
.ctrlbtn[disabled]{opacity:.45;cursor:not-allowed}

/* Motion accessibility */
@media (prefers-reduced-motion: reduce){canvas#waves,canvas#trail{display:none}}
</style>
</head>
<body class="korean">

<!-- Light layers -->
<canvas id="waves" aria-hidden="true"></canvas>
<canvas id="trail" aria-hidden="true"></canvas>

<header>
  <div class="logo">등작 燈酌 DUNGZAK CESTLAVIE</div>
  <nav>
    <a href="#poem">Poem</a>
    <a href="#bio">Bio</a>
    <a href="#works">Works</a>
    <a href="#reports">Reports</a>
    <span id="langToggle" title="한국어/English">🇰🇷 / 🇬🇧</span>
  </nav>
</header>

<main>
  <!-- Hero / Poem -->
  <section class="hero" id="poem">
    <div class="lang-section ko">
      <h1>〈파리의 센느강〉</h1>
      <p class="sub">등작 燈酌 DUNGZAK CESTLAVIE</p>
      <div class="poem">
        <p>센느강 다리 아래, 노트르담 성당의 촛불이 켜질 무렵—</p>
        <p>소박한 꿈들을 안고 사는 사람들이 모여 춤춘다.</p>
        <p>빙글빙글 돌아가며 내딛는 발걸음의 화음 위로,</p>
        <p>바이올린이 새파랗고 샛노랑의 빛을 흩뿌리며 웃는다.</p>
        <p>꿈꾸는 여인들과 꿈꾸는 남성들이 손을 잡고,</p>
        <p>사람의 향기를 맡으며 재빠른 음률에 몸을 맡긴다.</p>
        <p>아담과 이브의 별자국이 눈물방울처럼 흘러내리는 나무,</p>
        <p>그 풍경 속에서 초승달은 어여쁜 하얀 미소를 흘린다.</p>
        <p>샤락, 샤락— 춤사위의 리듬이 확장될수록,</p>
        <p>구경하던 이들마저 어깨와 허리를 들썩이며, 사랑의 입맞춤을 의식한다.</p>
        <p>흘러감 속에 포개진 순간, 그들은 영혼의 박제가 되어, 멈춤 속에 영원을 새긴다.</p>
      </div>
    </div>
    <div class="lang-section en">
      <h1>The Seine of Paris</h1>
      <p class="sub">DUNGZAK CESTLAVIE</p>
      <div class="poem">
        <p>Beneath the bridge of the Seine, as the candles of Notre-Dame begin to glow—</p>
        <p>People who live with humble dreams gather to dance.</p>
        <p>Their circling steps form harmonies upon the rhythm of their feet,</p>
        <p>As violins scatter blue and golden light, laughing in brilliance.</p>
        <p>Dreaming women and men clasp hands, breathing the scent of humanity, surrendering to the swift rhythm.</p>
        <p>Sharak, sharak— the rhythm expands; even onlookers sway, becoming aware of love’s gentle kiss.</p>
        <p>Within the flowing overlap of time, they become taxidermies of the soul, inscribing eternity into stillness.</p>
      </div>
    </div>
  </section>

  <!-- Bio -->
  <section id="bio">
    <div class="lang-section ko bio">
      <h2>등작 燈酌 DUNGZAK CESTLAVIE — 작가 소개</h2>
      <p>빛의 철학과 인간의 감정을 화폭에 담는 현대 예술가. 기억과 존재의 흐름 속 ‘빛의 언어’를 탐구한다. 파리·베를린·서울을 오가며 회화·시·미학 보고서를 통해 예술이 존재의 회복과 정신의 재탄생을 돕는 기도임을 증명한다.</p>
      <p>DCAR 시리즈(1–8)로 철학·뇌과학·예술을 융합한다.</p>
    </div>
    <div class="lang-section en bio">
      <h2>DUNGZAK CESTLAVIE — Artist Bio</h2>
      <p>A contemporary artist exploring the philosophy of light and the emotions of human existence. Art as prayer for the restoration of being and the rebirth of mind.</p>
      <p>The DCAR series (1–8) unites philosophy, neuroscience, and art.</p>
    </div>
  </section>

  <!-- Works -->
  <section id="works">
    <h2>Artworks — 작품 아카이브</h2>
    <div class="tabs" role="tablist" aria-label="Art Sections">
      <button class="tab active" role="tab" aria-selected="true" data-panel="light-memory">Ⅰ Light & Memory</button>
      <button class="tab" role="tab" aria-selected="false" data-panel="human-prayer">Ⅱ Human Prayer</button>
      <button class="tab" role="tab" aria-selected="false" data-panel="rebirth">Ⅲ Rebirth</button>
      <button class="tab" role="tab" aria-selected="false" data-panel="existence">Ⅳ Existence</button>
      <button class="tab" role="tab" aria-selected="false" data-panel="cosmos">Ⅴ Cosmos</button>
    </div>
    <div class="tabpanels">
      <div class="tabpanel active" id="panel-light-memory"></div>
      <div class="tabpanel" id="panel-human-prayer"></div>
      <div class="tabpanel" id="panel-rebirth"></div>
      <div class="tabpanel" id="panel-existence"></div>
      <div class="tabpanel" id="panel-cosmos"></div>
    </div>
  </section>

  <!-- Reports -->
  <section id="reports">
    <h2>Aesthetic Reports — 미학 보고서 (DCAR 1–8)</h2>
    <div class="accordion" id="reportsAcc"></div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <div class="social">
      <a href="https://youtube.com/@dungzakcestlavie" target="_blank" title="YouTube">📺</a>
      <a href="https://instagram.com/dungzakcestlavie" target="_blank" title="Instagram">📷</a>
      <a href="mailto:dungzakcestlavie@gmail.com" title="Email">✉️</a>
    </div>
  </section>
</main>

<footer>
  <p>© 2025 등작 燈酌 DUNGZAK CESTLAVIE. All rights reserved.</p>
  <small>Created by 등작 燈酌 DUNGZAK CESTLAVIE · Orchestrated with Lumera — Light, Memory, and Being.</small>
</footer>

<!-- Lightbox -->
<div id="lightbox" aria-hidden="true">
  <div class="lb-btn lb-prev" aria-label="Previous">❮</div>
  <img alt="Artwork view">
  <div class="lb-btn lb-next" aria-label="Next">❯</div>
  <div class="lb-close" aria-label="Close">✕</div>
  <div class="lb-cap" id="lbCap"></div>
</div>

<!-- Controls -->
<div id="ctrl">
  <button class="ctrlbtn" id="pauseBtn">🌙 Pause</button>
  <button class="ctrlbtn" id="resumeBtn">☀️ Resume</button>
  <button class="ctrlbtn" id="soundBtn">🔊 Play Light Sound</button>
  <button class="ctrlbtn" id="soundStopBtn" disabled>🔇 Stop</button>
</div>

<!-- optional audio -->
<audio id="lightAudio" src="/audio/light-pulse.mp3" preload="auto" loop></audio>

<script>
/* ===== Language toggle ===== */
document.getElementById('langToggle').addEventListener('click',()=>{
  document.body.classList.toggle('korean');
  document.body.classList.toggle('english');
});

/* ===== Waves & Trail with Emotion Map (Ω.2) ===== */
const waves=document.getElementById('waves'),wctx=waves.getContext('2d');
const trail=document.getElementById('trail'),tctx=trail.getContext('2d');
let W,H,t=0,animOn=true,vis=true,tx=0,ty=0,px=0,py=0;
function resize(){W=waves.width=trail.width=innerWidth;H=waves.height=trail.height=innerHeight;tx=px=W/2;ty=py=H/2}
resize();addEventListener('resize',resize);
document.addEventListener('visibilitychange',()=>{vis=!document.hidden});

/* Emotion palette by active tab (0 warm ↔ 1 cool) */
const emotionByKey={ 'light-memory':0.25, 'human-prayer':0.4, 'rebirth':0.55, 'existence':0.65, 'cosmos':0.8 };
let activeKey='light-memory';
const mix=(a,b,p)=>Math.round(a+(b-a)*p);
function goldBlue(p){const warm=[243,201,105],cool=[120,170,255];const r=mix(warm[0],cool[0],p),g=mix(warm[1],cool[1],p),b=mix(warm[2],cool[2],p);return `rgb(${r},${g},${b})`}

function raf(fn){function loop(){if(animOn&&vis)fn();id=requestAnimationFrame(loop)}let id=requestAnimationFrame(loop);return()=>cancelAnimationFrame(id)}
// Waves
raf(()=>{t+=.008;wctx.clearRect(0,0,W,H);
  const sy=scrollY||0, base=(sy%H)/H;
  const target=emotionByKey[activeKey]??0.5;            // 섹션 감정선
  const pulse=(0.5+0.5*Math.sin(t*0.6))*.6 + base*.3;   // 호흡 + 스크롤
  const mood = Math.min(1, Math.max(0, pulse*0.6 + target*0.5)); // 섞기
  for(let k=0;k<3;k++){
    const amp=(40+k*15)*(0.86+0.14*Math.cos(t*0.7+k*.2));
    const freq=.006+k*.0025;
    const y0=(H*.3)+k*110+Math.sin(t*1.2+k)*18+base*100;
    wctx.beginPath();
    for(let x=0;x<=W;x+=6){
      const y=y0+Math.sin(x*freq + t*2 + k + Math.sin(t*0.6+k)*.3)*amp;
      x===0?wctx.moveTo(x,y):wctx.lineTo(x,y);
    }
    const warm=goldBlue(0), mid=goldBlue(mood), cool=goldBlue(1);
    const g=wctx.createLinearGradient(0,y0-amp,0,y0+amp);
    g.addColorStop(0,`${cool.replace('rgb','rgba').replace(')',',0.08)')}`);
    g.addColorStop(.5,`${mid.replace('rgb','rgba').replace(')',',0.18)')}`);
    g.addColorStop(1,`${warm.replace('rgb','rgba').replace(')',',0.08)')}`);
    wctx.strokeStyle=g; wctx.lineWidth=2; wctx.stroke();
  }
});
// Trail
raf(()=>{const vx=tx-px,vy=ty-py,s=Math.hypot(vx,vy);
  tctx.fillStyle=`rgba(0,0,0,${0.12-Math.min(s/2000,0.08)})`;tctx.fillRect(0,0,W,H);
  px+=vx*.15;py+=vy*.15;const r=80+Math.min(s,200)*.3;
  const grd=tctx.createRadialGradient(px,py,0,px,py,r);
  grd.addColorStop(0,'rgba(120,170,255,.30)'); grd.addColorStop(1,'rgba(120,170,255,0)');
  tctx.fillStyle=grd; tctx.beginPath(); tctx.arc(px,py,r,0,Math.PI*2); tctx.fill();
});
function onMove(e){const p=e.touches?e.touches[0]:e;tx=p.clientX;ty=p.clientY}
addEventListener('mousemove',onMove,{passive:true}); addEventListener('touchmove',onMove,{passive:true});
document.getElementById('pauseBtn').onclick=()=>{animOn=false};
document.getElementById('resumeBtn').onclick=()=>{animOn=true};

/* ===== Works (5×20) — 모바일 2×2 / 데스크톱 4×5 ===== */
const sections=[
  {key:'light-memory',title:'Ⅰ Light & Memory',folder:'light-memory'},
  {key:'human-prayer',title:'Ⅱ Human Prayer',folder:'human-prayer'},
  {key:'rebirth',title:'Ⅲ Rebirth',folder:'rebirth'},
  {key:'existence',title:'Ⅳ Existence',folder:'existence'},
  {key:'cosmos',title:'Ⅴ Cosmos',folder:'cosmos'}
];
function defaultMeta(i){return{title:`Untitled ${i}`,material:'Acrylic on Canvas',size:'80×100 cm',year:'2025'}}
function renderPanel(sec){
  const el=document.getElementById(`panel-${sec.key}`); let html=`<div class="art-grid">`;
  for(let i=1;i<=20;i++){
    const m=defaultMeta(i);
    html+=`
    <article class="card" tabindex="0" data-sec="${sec.key}" data-idx="${i}"
      data-title="${m.title}" data-year="${m.year}" data-material="${m.material}" data-size="${m.size}">
      <img loading="lazy" data-src="works/${sec.folder}/${i}.jpg" alt="${sec.title} ${i}">
      <div class="caption">${m.title} · ${m.year}</div>
      <div class="meta"><b>Title:</b> ${m.title} · <b>Year:</b> ${m.year}</div>
    </article>`;
  }
  html+='</div>'; el.innerHTML=html;
}
sections.forEach(renderPanel);

// Lazy load
const io=new IntersectionObserver(es=>{
  es.forEach(e=>{
    if(e.isIntersecting){
      const img=e.target, src=img.getAttribute('data-src');
      if(src){ img.src=src; img.removeAttribute('data-src'); }
      io.unobserve(img);
    }
  });
},{rootMargin:'250px'});
document.querySelectorAll('img[data-src]').forEach(img=>io.observe(img));

// Tabs (감정선과 연동)
const tabs=[...document.querySelectorAll('.tab')];
const panels=[...document.querySelectorAll('.tabpanel')];
tabs.forEach(tab=>{
  tab.addEventListener('click',()=>{
    tabs.forEach(t=>t.classList.remove('active'));
    tab.classList.add('active');
    const key=tab.dataset.panel;
    activeKey=key;                       // 파동 색감에 반영
    panels.forEach(p=>p.classList.toggle('active', p.id===`panel-${key}`));
    document.querySelectorAll(`#panel-${key} img[data-src]`).forEach(img=>io.observe(img));
  });
});

/* ===== Lightbox ===== */
const lb=document.getElementById('lightbox'),lbImg=lb.querySelector('img'),lbCap=document.getElementById('lbCap');
const btnPrev=lb.querySelector('.lb-prev'),btnNext=lb.querySelector('.lb-next'),btnClose=lb.querySelector('.lb-close');let cur={secKey:null,idx:0};
function openLB(secKey,idx){
  cur={secKey,idx}; const sec=sections.find(s=>s.key===secKey);
  lbImg.src=`works/${sec.folder}/${idx}.jpg`;
  const card=document.querySelector(`.card[data-sec="${secKey}"][data-idx="${idx}"]`);
  if(card){const t=card.dataset.title,y=card.dataset.year,m=card.dataset.material,s=card.dataset.size;lbCap.textContent=`${t} · ${y} — ${m}, ${s}`;}
  lb.classList.add('open'); lb.setAttribute('aria-hidden','false');
}
function closeLB(){lb.classList.remove('open'); lb.setAttribute('aria-hidden','true');}
function step(d){if(!cur.secKey)return; let i=cur.idx+d; if(i<1)i=20; if(i>20)i=1; openLB(cur.secKey,i);}
document.addEventListener('click',e=>{const card=e.target.closest('.card'); if(card) openLB(card.dataset.sec,parseInt(card.dataset.idx,10));});
btnClose.addEventListener('click',closeLB); btnPrev.addEventListener('click',()=>step(-1)); btnNext.addEventListener('click',()=>step(1));
lb.addEventListener('click',e=>{ if(e.target===lb) closeLB(); });
addEventListener('keydown',e=>{ if(!lb.classList.contains('open')) return;
  if(e.key==='Escape') closeLB(); if(e.key==='ArrowLeft') step(-1); if(e.key==='ArrowRight') step(1);
});

/* ===== Reports (DCAR 1–8) ===== */
const reports=[
  {id:'DCAR-01-2025',title:'On Light, Memory, and Being',ko:'빛·기억·존재의 상호작용에 대한 예술적 성찰.',en:'An artistic inquiry into the interplay of light, memory, and being.'},
  {id:'DCAR-02-2025',title:'The Restoration of Being',ko:'존재의 회복과 감각의 윤리.',en:'The restoration of being and the ethics of sensation.'},
  {id:'DCAR-03-2025',title:'The Return of Humanity',ko:'기술 시대의 인간성 회귀.',en:'The return of humanity in the age of technology.'},
  {id:'DCAR-04-2025',title:'The Rebirth of Mind',ko:'정신의 재탄생과 지각의 진화.',en:'The rebirth of mind and the evolution of perception.'},
  {id:'DCAR-05-2025',title:'The Metaconsciousness of Light',ko:'빛의 초의식과 예술의 기도.',en:'Metaconsciousness of light and art as prayer.'},
  {id:'DCAR-06-2025',title:'The Return of Being',ko:'존재로의 귀환과 상호감응.',en:'A return to being and mutual attunement.'},
  {id:'DCAR-07-2025',title:'The Scars of Light',ko:'빛의 상흔과 감각의 존엄.',en:'The scars of light and the dignity of sensation.'},
  {id:'DCAR-08-2025',title:'Toward the Human Prayer',ko:'우리 시대의 기도와 공존의 윤리.',en:'Prayer of our age and an ethics of coexistence.'}
];
const acc=document.getElementById('reportsAcc');
(function(){
  let html='';
  reports.forEach(r=>{
    html += `
    <div class="acc-item">
      <div class="acc-head" role="button" aria-expanded="false">
        <h4>${r.id} · ${r.title}</h4><span>▾</span>
      </div>
      <div class="acc-body">
        <div class="lang-section ko"><p>${r.ko}</p></div>
        <div class="lang-section en"><p>${r.en}</p></div>
        <p style="margin-top:10px">
          <a href="reports/${r.id}.html" target="_blank" style="color:var(--gold);text-decoration:none">Read full report →</a>
        </p>
      </div>
    </div>`;
  });
  acc.innerHTML=html;
  acc.querySelectorAll('.acc-head').forEach(head=>{
    head.addEventListener('click',()=>{
      const item=head.parentElement;
      const open=item.classList.contains('open');
      acc.querySelectorAll('.acc-item').forEach(i=>i.classList.remove('open'));
      if(!open) item.classList.add('open');
    });
  });
})();

/* ===== Warm Pulse Sound (Play-on-click) ===== */
const btnPlay=document.getElementById('soundBtn'),btnStop=document.getElementById('soundStopBtn');
const audioEl=document.getElementById('lightAudio'); let ac, padNodes=null, soundOn=false;
async function startSound(){
  if(soundOn) return;
  try{ await audioEl.play(); soundOn=true; }
  catch(e){
    ac = ac || new (window.AudioContext||window.webkitAudioContext)();
    const gain=ac.createGain(); gain.gain.value=0.0001;
    const o1=ac.createOscillator(); o1.type='sine'; o1.frequency.value=110;
    const o2=ac.createOscillator(); o2.type='sine'; o2.frequency.value=110*Math.pow(2,3/1200);
    const lpf=ac.createBiquadFilter(); lpf.type='lowpass'; lpf.frequency.value=900; lpf.Q.value=0.3;
    const lfo=ac.createOscillator(); lfo.type='sine'; lfo.frequency.value=0.08;
    const lfoG=ac.createGain(); lfoG.gain.value=200;
    lfo.connect(lfoG).connect(lpf.frequency);
    o1.connect(gain); o2.connect(gain); gain.connect(lpf).connect(ac.destination);
    o1.start(); o2.start(); lfo.start();
    gain.gain.linearRampToValueAtTime(0.12, ac.currentTime+3.0);
    padNodes={gain,o1,o2,lfo}; soundOn=true;
  }
  btnPlay.disabled=true; btnStop.disabled=false;
}
function stopSound(){
  if(!soundOn) return;
  if(!audioEl.paused){ audioEl.pause(); audioEl.currentTime=0; }
  if(padNodes){
    const g=padNodes.gain; g.gain.linearRampToValueAtTime(0.0001, ac.currentTime+1.5);
    setTimeout(()=>{ try{padNodes.o1.stop();padNodes.o2.stop();padNodes.lfo.stop();}catch(e){} padNodes=null; },1600);
  }
  soundOn=false; btnPlay.disabled=false; btnStop.disabled=true;
}
btnPlay.addEventListener('click',startSound);
btnStop.addEventListener('click',stopSound);
</script>
</body>
</html>
