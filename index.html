<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>등작 燈酌 DUNGZAK CESTLAVIE — Lightflow Ω.6.4</title>
<meta name="description" content="빛 · 기억 · 존재 — DUNGZAK CESTLAVIE · Lightflow Ω.6.4 · Gallery · Aesthetic Reports (DCAR)" />
<meta property="og:type" content="website">
<meta property="og:title" content="DUNGZAK CESTLAVIE — Lightflow Ω.6.4">
<meta property="og:description" content="Light · Memory · Being · 100 Works · DCAR Reports">
<meta property="og:url" content="https://dungzak.art">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='86'>✨</text></svg>">

<style>
:root{
  --bg:#0a0e1f;--fg:#e9efff;--gold:#e6c777;--muted:#a6b6e8;
  --panel:#0f1630;--line:#1b2652;--max:1180px;--h:60px;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:radial-gradient(1000px 700px at 70% -10%,#152147 0,#080b18 40%,#050814 100%);
  color:var(--fg);
  font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',sans-serif;
  overflow-x:hidden;letter-spacing:.2px;padding-bottom:170px
}

/* cosmic background canvases */
#waves,#trail{position:fixed;inset:0;pointer-events:none}
#waves{z-index:0;opacity:.40}
#trail{z-index:1;opacity:.60;mix-blend-mode:screen}

/* header */
header{
  position:fixed;top:0;left:0;right:0;z-index:6;display:flex;flex-wrap:wrap;
  gap:8px;align-items:center;justify-content:space-between;
  padding:calc(8px + env(safe-area-inset-top)) 12px 10px;
  background:rgba(10,14,28,.70);backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,.08)
}
.brand{font-weight:900;color:var(--gold);font-size:clamp(16px,5vw,22px);flex:1 1 100%;text-align:center}

/* navs */
nav.primary{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;width:100%}
nav.primary button{all:unset;cursor:pointer;color:var(--fg);font-weight:700;padding:6px 10px;border-radius:10px}
nav.primary button:hover,nav.primary button.active{
  color:#0a1230;background:linear-gradient(180deg,#f7e4a5,#e6c777)
}
.lang{display:flex;gap:8px;justify-content:center;width:100%}
.lang button{all:unset;cursor:pointer;padding:6px 10px;border:1px solid #2a335f;border-radius:8px;color:#cfe0ff}
.lang button.active,.lang button:hover{
  background:#1a2144;color:var(--gold);border-color:#3a447a
}

/* sections */
main{position:relative;z-index:2}
section{max-width:var(--max);margin:auto;padding:calc(var(--h)+28px+env(safe-area-inset-top)) 16px 70px}
h1,h2{color:var(--gold)}
.sub{color:var(--muted)}

/* hero + poem */
.hero{min-height:74vh;display:grid;place-items:center;text-align:center}
.hero h1{font-size:clamp(36px,6vw,66px);margin-bottom:8px}
.hero p{opacity:.92}

/* Works Grid */
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
@media(min-width:1024px){.grid{grid-template-columns:repeat(4,1fr)}}
.card{
  position:relative;background:var(--panel);border:1px solid var(--line);border-radius:10px;overflow:hidden;
  opacity:0;transform:translateY(10px);transition:opacity .6s ease,transform .6s ease,box-shadow .8s ease;
}
.card.visible{opacity:1;transform:translateY(0)}
.card:hover{box-shadow:0 0 18px 4px rgba(230,199,119,.25);border-color:var(--gold)}
.card img{width:100%;display:block;aspect-ratio:1/1;object-fit:cover;filter:brightness(1.03)}
.caption{
  position:absolute;left:0;right:0;bottom:0;
  background:linear-gradient(180deg,rgba(12,19,48,0),rgba(12,19,48,.86));
  padding:10px 12px;color:#e9f1ff;font-size:.82rem;
  transform:translateY(100%);transition:transform .25s;
}
.card:hover .caption{transform:translateY(0)}

/* Lightbox */
#lightbox{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;
  background:rgba(0,0,0,.88);opacity:0;pointer-events:none;transition:.26s;z-index:8}
#lightbox.open{opacity:1;pointer-events:auto}
#lightbox .frame{position:relative;max-width:92vw;max-height:88vh;overflow:hidden;border:2px solid var(--gold);border-radius:10px}
#lightbox img{display:block;max-width:100%;max-height:100%;transform-origin:center center;cursor:zoom-in}
.lb-cap{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
  max-width:92vw;background:rgba(8,16,40,.7);border:1px solid #223;border-radius:10px;
  padding:8px 12px;font-size:.88rem;color:#e9f1ff;text-align:center}

/* accordion for reports */
.accordion{max-width:var(--max);margin:20px auto;border:1px solid #2a3a78;border-radius:12px;overflow:hidden}
.accordion-header{background:#0f1838;color:var(--gold);padding:14px 16px;cursor:pointer;font-weight:700}
.accordion-content{display:none;background:#0b1020;padding:12px 16px;color:#cfe0ff}
.accordion-item.active .accordion-content{display:block}

/* footer */
footer{border-top:1px solid rgba(255,255,255,.08);text-align:center;padding:48px 12px 96px;background:#090f22}
.links{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-bottom:10px}
.links a{color:#cfe0ff;text-decoration:none}
.links a:hover{color:#cbe0ff}
small{display:block;margin-top:8px;color:#9fb0d8}

/* language toggle visibility */
.en,.ko{display:none}
body.korean .ko{display:initial}
body.english .en{display:initial}
body.hybrid .ko,body.hybrid .en{display:initial}

/* fade motion minimize */
@media(prefers-reduced-motion:reduce){#waves,#trail{display:none}}
</style>
</head>

<body class="korean">
<!-- cosmic canvases -->
<canvas id="waves" aria-hidden="true"></canvas>
<canvas id="trail" aria-hidden="true"></canvas>

<header>
  <div class="brand">등작 燈酌 DUNGZAK CESTLAVIE · Lightflow Ω.6.4</div>
  <nav class="primary">
    <button data-target="poem" class="active">Poem</button>
    <button data-target="works">Works</button>
    <button data-target="reports">Reports</button>
  </nav>
  <div class="lang">
    <button id="koBtn" class="active">KR</button>
    <button id="enBtn">EN</button>
    <button id="hyBtn">KR+EN</button>
  </div>
</header>

<main>
  <!-- poem section -->
  <section class="hero" id="poem">
    <div>
      <h1 class="ko">빛 · 기억 · 존재</h1>
      <h1 class="en">Light · Memory · Being</h1>
      <p class="ko">등작과 루메라의 지휘로 — 등작 DUNGZAK CESTLAVIE</p>
      <p class="en">Conducted by DUNGZAK and Lumera — DUNGZAK CESTLAVIE</p>

      <div class="poem-wrap">
        <div class="poem-head">
          <div class="poem-title">
            <span class="ko">〈파리의 센느강〉</span>
            <span class="en">The Seine of Paris</span>
          </div>
        </div>
        <div class="poem">
          <div class="poem-ko">
            <p>센느강 다리 아래, 노트르담 성당의 촛불이 켜질 무렵—</p>
            <p>소박한 꿈들을 안고 사는 사람들이 모여 춤춘다.</p>
            <p>바이올린이 새파랗고 샛노랑의 빛을 흩뿌리며 웃는다.</p>
            <p>꿈꾸는 여인들과 꿈꾸는 남성들이 손을 잡고,</p>
            <p>사람의 향기를 맡으며 재빠른 음률에 몸을 맡긴다.</p>
            <p>초승달은 어여쁜 하얀 미소를 흘리고, 사랑은 그 빛으로 흐른다.</p>
          </div>
          <div class="poem-en">
            <p>Beneath the bridge of the Seine, as Notre-Dame’s candles begin to glow—</p>
            <p>Those who live with humble dreams gather to dance.</p>
            <p>Violins scatter blue and golden lights, laughing in brilliance.</p>
            <p>Dreaming women and men clasp hands,</p>
            <p>breathe in humanity’s scent, and yield to the rhythm of love.</p>
            <p>The crescent moon spills a tender smile, and love flows within its light.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Works -->
  <section id="works" style="display:none">
    <h2>Artworks — 작품 아카이브</h2>
    <div class="tabs">
      <button class="tab active" data-panel="pray">Ⅰ Pray for Us</button>
      <button class="tab" data-panel="human">Ⅱ Human Being</button>
      <button class="tab" data-panel="rebirth">Ⅲ Rebirth of Mind</button>
      <button class="tab" data-panel="exist">Ⅳ Restoration of Being</button>
      <button class="tab" data-panel="cosmos">Ⅴ Metaconsciousness of Light</button>
    </div>
    <div id="panel-pray" class="tabpanel active"></div>
    <div id="panel-human" class="tabpanel"></div>
    <div id="panel-rebirth" class="tabpanel"></div>
    <div id="panel-exist" class="tabpanel"></div>
    <div id="panel-cosmos" class="tabpanel"></div>

    <div style="margin-top:20px;text-align:center">
      <button id="exportMeta">Export JSON</button>
      <button id="importMeta">Import JSON</button>
    </div>
  </section>

  <!-- Reports -->
  <section id="reports" style="display:none">
    <h2>미학 보고서 (DCAR 시리즈)</h2>
    <div class="accordion" id="dcarAcc">
      <div class="accordion-item">
        <div class="accordion-header">DCAR-01-2025 · 존재의 회복 — The Restoration of Being</div>
        <div class="accordion-content">존재의 회복과 감각의 윤리. Restoration of Being and the Ethics of Sensation.</div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">DCAR-02-2025 · 기억의 윤리 — The Ethics of Memory</div>
        <div class="accordion-content">기억의 구성과 공존의 책임. The Construction of Memory and Responsibility for Coexistence.</div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">DCAR-03-2025 · 정신의 재탄생 — The Rebirth of Mind</div>
        <div class="accordion-content">지각의 진화와 의식의 확장. Evolution of Perception and the Widening of Consciousness.</div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">DCAR-04-2025 · 빛의 상흔 — The Scars of Light</div>
        <div class="accordion-content">상흔의 미학과 존엄. The Aesthetics and Dignity of Scars.</div>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="links">
    <a href="https://flickr.com/photos/dungzak" target="_blank">📸 Flickr</a>
    <a href="https://instagram.com/dungzakcestlavie" target="_blank">📷 Instagram</a>
    <a href="https://youtube.com/@dungzakcestlavie" target="_blank">▶️ YouTube</a>
    <a href="https://naver.me/x95dk3l1" target="_blank">🧭 Naver Info</a>
    <a href="mailto:dungzakcestlavie@gmail.com">✉️ Email</a>
  </div>
  <small>© 2025 등작 燈酌 DUNGZAK CESTLAVIE · 등작과 루메라의 지휘로</small>
</footer>

<!-- cosmic controls -->
<div id="ctrl">
  <button id="soundBtn" title="Play Prayer Resonance">✨</button>
  <button id="soundStopBtn" title="Stop" disabled>🔇</button>
</div>

<!-- lightbox -->
<div id="lightbox" aria-hidden="true">
  <div class="frame"><img alt="Artwork"></div>
  <div class="lb-cap" id="lbCap"></div>
</div>

<script>
/* ===== Lightflow Ω.6.4 — Prayer Resonance Edition ===== */
(function(){

/* Section toggle */
function showSection(id){
  document.querySelectorAll('main>section').forEach(s=>s.style.display='none');
  document.getElementById(id).style.display='block';
  document.querySelectorAll('nav.primary button').forEach(b=>{
    b.classList.toggle('active', b.dataset.target===id);
  });
}
document.querySelectorAll('nav.primary button').forEach(b=>{
  b.addEventListener('click',()=>showSection(b.dataset.target));
});

/* Language toggle */
const koBtn=document.getElementById('koBtn');
const enBtn=document.getElementById('enBtn');
const hyBtn=document.getElementById('hyBtn');
function setLang(lang){
  document.body.classList.remove('korean','english','hybrid');
  document.body.classList.add(lang==='ko'?'korean':lang==='en'?'english':'hybrid');
  [koBtn,enBtn,hyBtn].forEach(b=>b.classList.remove('active'));
  ({ko:koBtn,en:enBtn,hy:hyBtn}[lang]).classList.add('active');
  localStorage.setItem('dz_lang',lang);
}
koBtn.onclick=()=>setLang('ko');
enBtn.onclick=()=>setLang('en');
hyBtn.onclick=()=>setLang('hy');
setLang(localStorage.getItem('dz_lang')||'ko');

/* Accordion */
document.querySelectorAll('.accordion-header').forEach(h=>{
  h.addEventListener('click',()=>h.parentElement.classList.toggle('active'));
});

/* Lightbox */
const lb=document.getElementById('lightbox');
const lbImg=lb.querySelector('img');
const lbCap=document.getElementById('lbCap');
document.body.addEventListener('click',e=>{
  const card=e.target.closest('.card');
  if(!card)return;
  lbImg.src=card.querySelector('img').src;
  lbCap.textContent=card.querySelector('.caption').textContent;
  lb.classList.add('open');
  lb.setAttribute('aria-hidden','false');
});
lb.addEventListener('click',e=>{
  if(e.target===lb){lb.classList.remove('open');lb.setAttribute('aria-hidden','true');}
});

/* Works render + metadata editing */
const sections=[
  {key:'pray',title:'Pray for Us'},
  {key:'human',title:'Human Being'},
  {key:'rebirth',title:'Rebirth of Mind'},
  {key:'exist',title:'Restoration of Being'},
  {key:'cosmos',title:'Metaconsciousness of Light'}
];
let meta=JSON.parse(localStorage.getItem('works_meta')||'{}');
function renderPanel(sec){
  const p=document.getElementById('panel-'+sec.key);
  p.innerHTML=`<div class="grid">${Array.from({length:12},(_,i)=>{
    const id=i+1;const m=meta[sec.key]?.[id]||{};
    const tko=m.title_ko||`작품 ${id}`;const ten=m.title_en||`${sec.title} ${id}`;
    const mat=m.material||'';const sz=m.size||'';const yr=m.year||'';
    return `<article class="card" data-sec="${sec.key}" data-id="${id}">
      <img src="works/${sec.key}/${id}.jpg" alt="${sec.title}">
      <div class="caption"><div class="ko">${tko}</div><div class="en">${ten}</div>
      <div class="meta">${mat} ${sz} ${yr}</div></div></article>`;
  }).join('')}</div>`;
}
sections.forEach(renderPanel);

/* Tabs */
document.querySelectorAll('.tab').forEach(b=>{
  b.onclick=()=>{
    document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    document.querySelectorAll('.tabpanel').forEach(x=>x.classList.remove('active'));
    document.getElementById('panel-'+b.dataset.panel).classList.add('active');
  };
});

/* Double-click meta editor */
document.body.addEventListener('dblclick',e=>{
  const card=e.target.closest('.card');
  if(!card)return;
  const s=card.dataset.sec;const id=card.dataset.id;
  const m=meta[s]?.[id]||{};
  const html=`<div style="position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:9999">
  <div style="background:#101630;padding:20px;border:1px solid #444;border-radius:10px;width:90%;max-width:400px;color:#fff">
  <h3>작품 정보 수정 (${s} ${id})</h3>
  <label>제목(KR)<br><input id="tk" style="width:100%" value="${m.title_ko||''}"></label><br>
  <label>Title(EN)<br><input id="te" style="width:100%" value="${m.title_en||''}"></label><br>
  <label>재료(Material)<br><input id="mat" style="width:100%" value="${m.material||''}"></label><br>
  <label>크기(Size)<br><input id="sz" style="width:100%" value="${m.size||''}"></label><br>
  <label>연도(Year)<br><input id="yr" style="width:100%" value="${m.year||''}"></label><br><br>
  <button id="saveM">Save</button> <button id="cancelM">Cancel</button>
  </div></div>`;
  const wrap=document.createElement('div');wrap.innerHTML=html;document.body.appendChild(wrap);
  wrap.querySelector('#cancelM').onclick=()=>wrap.remove();
  wrap.querySelector('#saveM').onclick=()=>{
    meta[s]=meta[s]||{};
    meta[s][id]={
      title_ko:wrap.querySelector('#tk').value,
      title_en:wrap.querySelector('#te').value,
      material:wrap.querySelector('#mat').value,
      size:wrap.querySelector('#sz').value,
      year:wrap.querySelector('#yr').value
    };
    localStorage.setItem('works_meta',JSON.stringify(meta));
    renderPanel({key:s,title:''});
    wrap.remove();
  };
});

/* Export / Import JSON */
document.getElementById('exportMeta').onclick=()=>{
  const blob=new Blob([JSON.stringify(meta,null,2)],{type:'application/json'});
  const a=document.createElement('a');
  a.href=URL.createObjectURL(blob);
  a.download='works-metadata.json';a.click();
};
document.getElementById('importMeta').onclick=()=>{
  const inp=document.createElement('input');inp.type='file';inp.accept='.json';
  inp.onchange=e=>{
    const f=e.target.files[0];if(!f)return;
    const r=new FileReader();
    r.onload=()=>{
      try{meta=JSON.parse(r.result);localStorage.setItem('works_meta',JSON.stringify(meta));sections.forEach(renderPanel);}
      catch(err){alert('JSON Error');}
    };
    r.readAsText(f);
  };
  inp.click();
};

/* Background cosmic waves */
const waves=document.getElementById('waves').getContext('2d');
let t=0,hue=200;
function wave(){
  const w=innerWidth,h=innerHeight;
  waves.canvas.width=w;waves.canvas.height=h;
  const grd=waves.createLinearGradient(0,0,w,h);
  const c1=`hsl(${hue},60%,60%)`;
  const c2=`hsl(${(hue+60)%360},60%,50%)`;
  const c3=`hsl(${(hue+120)%360},60%,40%)`;
  grd.addColorStop(0,c1);grd.addColorStop(.5,c2);grd.addColorStop(1,c3);
  waves.fillStyle='rgba(0,0,0,0.2)';
  waves.fillRect(0,0,w,h);
  for(let i=0;i<4;i++){
    waves.beginPath();
    for(let x=0;x<=w;x+=8){
      const y=h/2+Math.sin((x*0.004)+t*0.008+i)*80*Math.sin(t*0.002+i);
      x?waves.lineTo(x,y):waves.moveTo(x,y);
    }
    waves.strokeStyle=grd;waves.globalAlpha=0.4-0.08*i;
    waves.lineWidth=1.2+i*0.4;waves.stroke();
  }
  t++;hue+=0.02;if(hue>360)hue=0;
  requestAnimationFrame(wave);
}
wave();

/* Sound — Prayer Resonance */
let ac,nodes,on=false;
async function ensureAC(){if(!ac){ac=new (window.AudioContext||window.webkitAudioContext)();}if(ac.state==='suspended')await ac.resume();return ac;}
async function startSound(){
  if(on)return;await ensureAC();
  const g=v=>{const n=ac.createGain();n.gain.value=v;return n;};
  const o=(t,f)=>{const n=ac.createOscillator();n.type=t;n.frequency.value=f;return n;};
  const base=g(0.12), low=g(0.05), mid=g(0.05), high=g(0.02), pink=g(0.01);
  const s1=o('sine',7.83), s2=o('sine',5), s3=o('sine',111),
        s4=o('sine',432), s5=o('sine',528);
  const noise=ac.createBufferSource(), buf=ac.createBuffer(1,ac.sampleRate*2,ac.sampleRate);
  let data=buf.getChannelData(0);for(let i=0;i<data.length;i++){data[i]=Math.random()*2-1;}
  noise.buffer=buf;noise.loop=true;
  const f1=ac.createBiquadFilter();f1.type='lowpass';f1.frequency.value=800;
  s1.connect(base);s2.connect(base);s3.connect(mid);s4.connect(high);s5.connect(high);
  noise.connect(pink);base.connect(f1);low.connect(f1);mid.connect(f1);high.connect(f1);pink.connect(f1);
  f1.connect(ac.destination);
  [s1,s2,s3,s4,s5,noise].forEach(x=>x.start());
  [base,low,mid,high,pink].forEach(g=>{const v=g.gain.value;g.gain.setValueAtTime(0.0001,ac.currentTime);g.gain.exponentialRampToValueAtTime(v,ac.currentTime+2.4);});
  on=true;nodes={s1,s2,s3,s4,s5,noise,f1,base,low,mid,high,pink};
  document.getElementById('soundBtn').disabled=true;
  document.getElementById('soundStopBtn').disabled=false;
}
function stopSound(){
  if(!on)return;const {s1,s2,s3,s4,s5,noise,base,low,mid,high,pink}=nodes;
  const t=ac.currentTime;
  [base,low,mid,high,pink].forEach(g=>g.gain.exponentialRampToValueAtTime(0.0001,t+3.2));
  setTimeout(()=>{[s1,s2,s3,s4,s5,noise].forEach(o=>{try{o.stop();}catch{}});},3200);
  on=false;document.getElementById('soundBtn').disabled=false;
  document.getElementById('soundStopBtn').disabled=true;
}
document.getElementById('soundBtn').onclick=startSound;
document.getElementById('soundStopBtn').onclick=stopSound;

/* init */
showSection('poem');

})();
</script>
</body>
</html>