<!-- ==========================================================
â‘  HEAD / STYLE  (REBUILD v2 â€” CENTER FIX / BUTTON SIZE TUNE / NO BLUR GOLD)
- ëª©í‘œ: (1) ìƒë‹¨ ì ë¦¼ ì œê±° (2) ë²„íŠ¼ ê³¼ëŒ€ í•´ê²° (3) ê¸ˆë¹› ë²ˆì§ 0 (4) ì ‘ê·¼ì„±/ì†ë„
========================================================== -->
<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#070A14" />
  <meta name="format-detection" content="telephone=no,address=no,email=no" />

  <title>ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE âˆ®27 Â· Lightflow</title>
  <meta name="description" content="LIGHTFLOW Â· LIGHT Â· MEMORY Â· BEING â€” ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE" />

  <link rel="canonical" href="https://dungzak.art/" />

  <!-- OG / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE Â· Lightflow âˆ®27" />
  <meta property="og:description" content="LIGHTFLOW Â· LIGHT Â· MEMORY Â· BEING" />
  <meta property="og:url" content="https://dungzak.art/" />
  <!-- <meta property="og:image" content="https://dungzak.art/images/og.jpg" /> -->
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Google Translate bar ì°¨ë‹¨ -->
  <meta name="google" content="notranslate" />
  <meta name="googlebot" content="notranslate" />

  <style>
    /* =========================================================
       Base / Reset
    ========================================================= */
    :root{
      --bg0:#050812;
      --bg1:#070A14;
      --bg2:#0A1022;

      --gold:#D7B86A;
      --gold2:#E9D59B;
      --blue:#79A7FF;

      --ink:#EDE3C9;
      --muted:rgba(237,227,201,.72);
      --muted2:rgba(237,227,201,.55);

      --card:rgba(255,255,255,.035);
      --card2:rgba(255,255,255,.055);
      --line:rgba(215,184,106,.22);
      --line2:rgba(121,167,255,.18);

      --shadow: 0 16px 40px rgba(0,0,0,.45);
      --shadow2: 0 10px 26px rgba(0,0,0,.35);
      --r:18px;

      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bot: env(safe-area-inset-bottom, 0px);
      --safe-left: env(safe-area-inset-left, 0px);
      --safe-right: env(safe-area-inset-right, 0px);

      --maxw: 1120px;

      /* ê¸ˆë¹› â€œë‹¨ë‹¨í•¨(ë²ˆì§ ì—†ìŒ)â€ ì—£ì§€ */
      --gold-edge: rgba(0,0,0,.70);
      --gold-edge2: rgba(0,0,0,.42);

      /* ë²„íŠ¼ í¬ê¸° íŠœë‹ */
      --btnH: 40px;
      --btnPadX: 12px;
      --btnFont: 12.6px;
      --btnRadius: 999px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:
        radial-gradient(1200px 700px at 50% 0%, rgba(215,184,106,.10), rgba(121,167,255,.06) 40%, rgba(0,0,0,0) 72%),
        linear-gradient(180deg, var(--bg1), var(--bg0) 65%, #03040A);
      color:var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      letter-spacing:.2px;
      overflow-x:hidden;
      padding-left: 0;
      padding-right: 0;
    }

    header, main, footer{
      padding-left: var(--safe-left);
      padding-right: var(--safe-right);
    }

    a{ color:var(--gold2); text-decoration:none; }
    a:hover{ text-decoration:underline; }
    img{ max-width:100%; display:block; }

    /* =========================================================
       Language visibility (GLOBAL)
    ========================================================= */
    .ko,.en{ display:block; }
    body.korean .en{ display:none !important; }
    body.english .ko{ display:none !important; }
    body.hybrid .ko,
    body.hybrid .en{ display:block !important; }

    /* =========================================================
       Bio modal language (LOCAL)
       - BODY ì›ë¬¸ì€ ê·¸ëŒ€ë¡œ ë‘ê³ , ëª¨ë‹¬ ë‚´ë¶€ë§Œ ë³„ë„ í‘œì‹œ ì œì–´
    ========================================================= */
    #bio-modal[data-bio="kr"] .bio-body.en,
    #bio-modal[data-bio="kr"] .expo-kicker .en{ display:none !important; }

    #bio-modal[data-bio="en"] .bio-body.ko,
    #bio-modal[data-bio="en"] .expo-kicker .ko{ display:none !important; }

    /* =========================================================
       Waves canvas
    ========================================================= */
    #waves{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:-2;
      pointer-events:none;
      opacity:1;
    }

    /* =========================================================
       Header / Nav (CENTER FIX + SIZE TUNE)
    ========================================================= */
    header{
      position:sticky;
      top:0;
      z-index:20;
      padding-top: calc(12px + var(--safe-top));
      padding-bottom: 10px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(5,8,18,.92), rgba(5,8,18,.62));
      border-bottom:1px solid rgba(215,184,106,.18);
    }

    header .brand,
    header .brand-sub{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 0 18px;
      text-align:center; /* âœ… ì ë¦¼ í•´ê²° í•µì‹¬ */
    }

    header .brand{
      font-weight: 900;
      color: var(--gold2);
      letter-spacing: .72px;
      font-size: 15px;
      line-height: 1.25;

      -webkit-text-stroke: .35px rgba(0,0,0,.35);
      text-shadow:
        0 1px 0 var(--gold-edge),
        0 -1px 0 var(--gold-edge2);
    }

    header .brand-sub{
      margin-top: 6px;
      font-size: 12px;
      letter-spacing: .34px;
      color: rgba(237,227,201,.78);
      text-shadow: 0 1px 0 rgba(0,0,0,.55);
    }

    nav.primary{
      max-width: var(--maxw);
      margin: 10px auto 0;
      padding: 0 18px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center; /* âœ… ì¤‘ì•™ ì •ë ¬ */
    }

    nav.primary button{
      appearance:none;
      border: 1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.028);
      color: var(--gold2);
      padding: 8px var(--btnPadX);
      border-radius: var(--btnRadius);
      font-weight: 900;
      font-size: var(--btnFont);
      cursor:pointer;
      transition: transform .06s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
      min-height: var(--btnH);
      box-shadow: 0 8px 18px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.64);
    }
    nav.primary button:hover{
      background: rgba(215,184,106,.08);
      border-color: rgba(215,184,106,.52);
      box-shadow: 0 10px 24px rgba(0,0,0,.36);
    }
    nav.primary button.active{
      background: rgba(215,184,106,.12);
      border-color: rgba(215,184,106,.72);
      box-shadow: 0 12px 28px rgba(0,0,0,.40);
    }
    nav.primary button:active{ transform: translateY(1px); }
    nav.primary button:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    .lang{
      max-width: var(--maxw);
      margin: 8px auto 0;
      padding: 0 18px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center; /* âœ… ì¤‘ì•™ ì •ë ¬ */
    }
    .lang button{
      appearance:none;
      border:1px solid rgba(121,167,255,.20);
      background: rgba(255,255,255,.028);
      color: rgba(237,227,201,.92);
      padding: 7px 11px;
      border-radius: var(--btnRadius);
      font-weight: 900;
      font-size: 12px;
      cursor:pointer;
      min-height: 38px; /* âœ… ê³¼ëŒ€ ë°©ì§€ */
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .lang button.active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .lang button:hover{
      border-color: rgba(215,184,106,.45);
      background: rgba(215,184,106,.08);
    }
    .lang button:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    /* =========================================================
       Main layout
    ========================================================= */
    main{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 18px 18px calc(26px + var(--safe-bot));
    }

    section{
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.04);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    /* =========================================================
       POEM
    ========================================================= */
    .hero{
      padding: 18px 18px 20px;
      position:relative;
    }
    .hero h1{
      margin:0;
      font-size: 20px;
      letter-spacing:.45px;
      color: var(--gold2);
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .poemwrap{
      margin-top:14px;
      padding: 14px 14px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.015));
      border: 1px solid rgba(215,184,106,.14);
    }
    .poem p{ margin:10px 0; line-height:1.7; color:rgba(237,227,201,.88); }

    /* =========================================================
       WORKS
    ========================================================= */
    #works{ padding: 18px; }
    #works h2{
      margin:0;
      color:var(--gold2);
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .tabs{
      margin-top:14px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center; /* âœ… ì¤‘ì•™ ì •ë ¬ */
    }
    .tabs .tab{
      appearance:none;
      border:1px solid rgba(215,184,106,.22);
      background: rgba(255,255,255,.02);
      color:rgba(237,227,201,.90);
      border-radius: 999px;
      padding: 8px 12px;
      font-weight:900;
      font-size:12.2px;
      cursor:pointer;
      min-height: 38px;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .tabs .tab.active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .tabs .tab:hover{
      border-color: rgba(215,184,106,.45);
      background: rgba(215,184,106,.08);
    }
    .tabs .tab:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    .tabpanel{ display:none; margin-top:16px; }
    .tabpanel.active{ display:block; }

    .w-grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 980px){
      .w-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
    }
    @media (max-width: 680px){
      .w-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }

    .w-card{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border:1px solid rgba(255,255,255,.05);
      border-radius: 16px;
      overflow:hidden;
      cursor:pointer;
      transition: transform .10s ease, border-color .16s ease, background .16s ease;
    }
    .w-card:hover{
      transform: translateY(-1px);
      border-color: rgba(215,184,106,.28);
      background: rgba(215,184,106,.05);
    }
    .w-thumb{
      width:100%;
      aspect-ratio: 4/5;
      object-fit: cover;
      background: rgba(0,0,0,.18);
    }
    .w-meta{
      padding: 10px 10px 12px;
      border-top:1px solid rgba(255,255,255,.045);
    }
    .w-title{
      font-weight: 900;
      color: rgba(237,227,201,.94);
      line-height:1.35;
      font-size: 13px;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .w-title .ko,
    .w-title .en{ margin:0; }
    .w-sub{
      margin-top:6px;
      font-size: 12px;
      color: rgba(237,227,201,.70);
      line-height:1.45;
      white-space: pre-line;
    }
    .w-msg{
      padding: 16px;
      border-radius: 14px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.05);
      color: rgba(237,227,201,.85);
    }
    .w-msg small{ display:block; margin-top:6px; color: rgba(237,227,201,.58); }

    /* =========================================================
       REPORTS
    ========================================================= */
    #reports{ padding:18px; }
    #reports h2{
      margin:0;
      color:var(--gold2);
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .reports-omega{ margin-top:14px; }

    .r-head{
      display:flex;
      align-items:center;
      justify-content:center; /* âœ… ì¤‘ì•™ ì •ë ¬ */
      gap:10px;
      flex-wrap:wrap;
      padding: 10px 10px;
      border-radius: 14px;
      background: rgba(255,255,255,.02);
      border: 1px solid rgba(255,255,255,.05);
    }
    .r-tabs{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
    .r-tab{
      appearance:none;
      border:1px solid rgba(121,167,255,.16);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.88);
      border-radius: 999px;
      padding:8px 12px;
      font-weight:900;
      font-size:12.2px;
      cursor:pointer;
      min-height: 38px;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .r-tab.is-active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .r-tab:hover{
      border-color: rgba(215,184,106,.42);
      background: rgba(215,184,106,.08);
    }

    .r-toggle{
      appearance:none;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(215,184,106,.10);
      color: var(--gold2);
      border-radius: 999px;
      padding:8px 12px;
      font-weight: 950;
      cursor:pointer;
      min-height: 38px;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }

    .r-grid{
      margin-top: 12px;
      display:none;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 980px){
      .r-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
    @media (max-width: 680px){
      .r-grid{ grid-template-columns: 1fr; }
    }

    .r-item{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border:1px solid rgba(255,255,255,.05);
      border-radius: 16px;
      padding: 12px 12px;
      cursor:pointer;
      transition: transform .10s ease, border-color .16s ease, background .16s ease;
      white-space: pre-line;
    }
    .r-item:hover{
      transform: translateY(-1px);
      border-color: rgba(215,184,106,.28);
      background: rgba(215,184,106,.05);
    }
    .r-item .t{
      font-weight: 950;
      color: rgba(237,227,201,.94);
      line-height:1.35;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .r-item .m{
      margin-top:6px;
      font-size:12px;
      color: rgba(237,227,201,.62);
      font-family: ui-monospace, Menlo, Consolas, monospace;
    }
    .r-item .s{
      margin-top:10px;
      font-size:12px;
      color: rgba(237,227,201,.78);
      line-height:1.55;
      white-space: pre-line;
    }

    /* =========================================================
       BIO MODAL
    ========================================================= */
    #bio-modal[hidden]{ display:none !important; }
    #bio-modal{ position: fixed; inset:0; z-index: 50; }
    .bio-backdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    .bio-card{
      position:relative;
      max-width: 980px;
      width: calc(100% - 28px);
      margin: calc(18px + var(--safe-top)) auto calc(18px + var(--safe-bot));
      background: linear-gradient(180deg, rgba(10,16,34,.92), rgba(5,8,18,.92));
      border:1px solid rgba(215,184,106,.18);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .bio-head{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding: 14px 14px;
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .bio-head h2{
      margin:0;
      color: var(--gold2);
      font-size: 15px;
      font-weight: 950;
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .bio-lang{ display:flex; gap:8px; align-items:center; }
    .bio-lang .lang{
      appearance:none;
      border:1px solid rgba(121,167,255,.16);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.88);
      border-radius: 999px;
      padding:7px 10px;
      font-weight:950;
      font-size:12px;
      cursor:pointer;
      min-height: 36px;
      box-shadow: 0 8px 18px rgba(0,0,0,.24);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .bio-lang .lang.active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .bio-close{
      appearance:none;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      width: 42px;
      height: 42px;
      border-radius: 14px;
      cursor:pointer;
      font-size: 18px;
      font-weight: 950;
      box-shadow: 0 8px 18px rgba(0,0,0,.24);
    }

    .expo-kicker{
      width:100%;
      text-align:left;
      appearance:none;
      border:0;
      border-bottom:1px solid rgba(255,255,255,.05);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.92);
      padding: 12px 14px;
      font-weight: 950;
      cursor:pointer;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }

    .slide-wrap{
      max-height: 0px;
      overflow:hidden;
      transition: max-height .35s ease;
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .slide-wrap[data-open="true"]{ max-height: 1600px; }
    .bio-body{
      padding: 14px 14px;
      color: rgba(237,227,201,.88);
      line-height: 1.7;
    }
    .bio-body p{ margin: 10px 0; }
    .bio-body strong{ color: var(--gold2); }

    /* =========================================================
       LIGHTBOX
    ========================================================= */
    #lightbox{
      position: fixed; inset:0; z-index: 60;
      display:none;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    #lightbox.is-open{ display:block; }
    .lb-stage{
      position:absolute;
      inset: 14px 14px calc(14px + var(--safe-bot)) 14px;
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      gap: 12px;
      padding-top: calc(var(--safe-top));
    }
    #lbImg{
      max-width: min(1040px, 96vw);
      max-height: min(78vh, 820px);
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.08);
      box-shadow: var(--shadow);
      background: rgba(0,0,0,.25);
      object-fit: contain;
      will-change: transform;
    }
    .lb-caption{
      width: min(1040px, 96vw);
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.06);
      background: rgba(5,8,18,.62);
      color: rgba(237,227,201,.88);
      white-space: pre-wrap;
      line-height:1.65;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .lb-close{
      position:absolute;
      top: calc(14px + var(--safe-top));
      right: calc(14px + var(--safe-right));
      width: 46px;
      height: 46px;
      border-radius: 14px;
      appearance:none;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      font-size: 18px;
      font-weight: 950;
      cursor:pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.28);
    }

    /* =========================================================
       FFT + Controls (íˆ¬ëª… ìœ ì§€)
    ========================================================= */
    #fftBar{
      position: fixed;
      left: 0;
      right: 0;
      bottom: calc(0px + var(--safe-bot));
      height: 3px;
      z-index: 70;
      background: rgba(255,255,255,.06);
      pointer-events:none;
    }
    #fftBar span{
      display:block;
      height:100%;
      width:0%;
      background: rgba(215,184,106,.55);
      transition: width .08s linear;
    }

    #ctrl{
      position: fixed;
      right: calc(14px + var(--safe-right));
      bottom: calc(14px + var(--safe-bot) + 6px);
      z-index: 71;
      display:flex;
      gap:10px;
    }
    .ctrlbtn{
      width: 48px;
      height: 48px;
      border-radius: 16px;
      appearance:none;
      border: 1px solid rgba(215,184,106,.30);
      background: rgba(0,0,0,0);
      color: var(--gold2);
      font-size: 18px;
      cursor:pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.26);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .ctrlbtn[disabled]{ opacity:.5; cursor:not-allowed; }

    /* =========================================================
       Footer (ë²„íŠ¼ê¸‰ + ì¤‘ì•™ ì •ë ¬)
    ========================================================= */
    footer{
      max-width: var(--maxw);
      margin: 18px auto 0;
      padding: 14px 18px calc(16px + var(--safe-bot));
      border-top:1px solid rgba(215,184,106,.16);
      background: linear-gradient(180deg, rgba(5,8,18,.10), rgba(0,0,0,0));
      border-radius: 18px;
      text-align:center;
    }
    footer .links{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:center;
    }
    footer .links a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-height: 44px;
      padding: 0 14px;
      border-radius: 999px;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      font-weight: 950;
      letter-spacing:.22px;
      text-decoration:none;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    footer .links a:hover{
      background: rgba(215,184,106,.12);
      border-color: rgba(215,184,106,.70);
      text-decoration:none;
    }
    footer .links a:active{ transform: translateY(1px); }
    footer .links a:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    footer small{
      display:block;
      margin-top: 10px;
      color: rgba(237,227,201,.70);
      letter-spacing:.2px;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }

    /* =========================================================
       Reduced motion
    ========================================================= */
    @media (prefers-reduced-motion: reduce){
      *{ scroll-behavior:auto !important; transition:none !important; animation:none !important; }
      #fftBar span{ transition:none !important; }
    }
  </style>
</head>

<!-- ==========================================================
â‘¡ BODY / HTML  (USER ORIGINAL â€” DO NOT EDIT)
========================================================== -->
<body class="korean">
  <!-- BACKGROUND -->
  <canvas id="waves" aria-hidden="true"></canvas>

  <!-- HEADER -->
  <header>
    <div class="brand">ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE âˆ®27</div>
    <div class="brand-sub">LIGHTFLOW Â· LIGHT Â· MEMORY Â· BEING</div>

    <nav class="primary" aria-label="Primary">
      <button type="button" data-target="poem" class="active" aria-current="page">Poem</button>
      <button type="button" data-target="works">Works</button>
      <button type="button" data-target="reports">Reports</button>
      <button type="button" id="tab-bio">Artist Bio</button>
    </nav>

    <div class="lang" aria-label="Language">
      <button type="button" id="koBtn" class="active">KR</button>
      <button type="button" id="enBtn">EN</button>
      <button type="button" id="hyBtn">KR+EN</button>
    </div>
  </header>

  <main>
    <!-- 1) POEM -->
    <section id="poem" class="hero">
      <h1 class="ko">ë¹› Â· ê¸°ì–µ Â· ì¡´ì¬</h1>
      <h1 class="en">Light Â· Memory Â· Being</h1>

      <div class="poemwrap">
        <p class="ko" style="font-weight:700">ã€ˆíŒŒë¦¬ì˜ ì„¼ëŠê°•ã€‰</p>
        <p class="en" style="font-weight:700">ã€ˆThe Seine of Parisã€‰</p>
        <p class="ko" style="opacity:.85;margin-top:4px">ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE</p>
        <p class="en" style="opacity:.85;margin-top:4px">DUNGZAK CESTLAVIE</p>

        <div class="poem">
          <p class="ko">ì„¼ëŠê°• ë‹¤ë¦¬ ì•„ë˜, ë…¸íŠ¸ë¥´ë‹´ ì„±ë‹¹ì˜ ì´›ë¶ˆì´ ì¼œì§ˆ ë¬´ë µâ€”</p>
          <p class="en">Beneath the bridge of the Seine, as the candles of Notre-Dame begin to glowâ€”</p>

          <p class="ko">ì†Œë°•í•œ ê¿ˆë“¤ì„ ì•ˆê³  ì‚¬ëŠ” ì‚¬ëŒë“¤ì´ ëª¨ì—¬ ì¶¤ì¶˜ë‹¤.</p>
          <p class="en">People who live with humble dreams gather to dance.</p>

          <p class="ko">ë¹™ê¸€ë¹™ê¸€ ëŒì•„ê°€ë©° ë‚´ë”›ëŠ” ë°œê±¸ìŒì˜ í™”ìŒ ìœ„ë¡œ,</p>
          <p class="en">Their circling steps form harmonies upon the rhythm of their feet,</p>

          <p class="ko">ë°”ì´ì˜¬ë¦°ì´ ìƒˆíŒŒë—ê³  ìƒ›ë…¸ë‘ì˜ ë¹›ì„ í©ë¿Œë¦¬ë©° ì›ƒëŠ”ë‹¤.</p>
          <p class="en">As violins scatter blue and golden light, laughing in brilliance.</p>

          <p class="ko">ê¿ˆê¾¸ëŠ” ì—¬ì¸ë“¤ê³¼ ê¿ˆê¾¸ëŠ” ë‚¨ì„±ë“¤ì´ ì†ì„ ì¡ê³ ,</p>
          <p class="en">Dreaming women and dreaming men clasp hands,</p>

          <p class="ko">ì‚¬ëŒì˜ í–¥ê¸°ë¥¼ ë§¡ìœ¼ë©° ì¬ë¹ ë¥¸ ìŒë¥ ì— ëª¸ì„ ë§¡ê¸´ë‹¤.</p>
          <p class="en">Breathing the scent of humanity, surrendering to the swift rhythm.</p>

          <p class="ko">ì•„ë‹´ê³¼ ì´ë¸Œì˜ ë³„ìêµ­ì´ ëˆˆë¬¼ë°©ìš¸ì²˜ëŸ¼ í˜ëŸ¬ë‚´ë¦¬ëŠ” ë‚˜ë¬´,</p>
          <p class="en">A tree where Adam and Eveâ€™s star-traces drip like tears,</p>

          <p class="ko">ê·¸ í’ê²½ ì†ì—ì„œ ì´ˆìŠ¹ë‹¬ì€ ì–´ì—¬ìœ í•˜ì–€ ë¯¸ì†Œë¥¼ í˜ë¦°ë‹¤.</p>
          <p class="en">In that scene, the crescent moon releases a tender white smile.</p>

          <p class="ko">ìƒ¤ë½, ìƒ¤ë½â€” ì¶¤ì‚¬ìœ„ì˜ ë¦¬ë“¬ì´ í™•ì¥ë ìˆ˜ë¡,</p>
          <p class="en">Sharak, sharakâ€” as the rhythm of dance expands,</p>

          <p class="ko">êµ¬ê²½í•˜ë˜ ì´ë“¤ë§ˆì € ì–´ê¹¨ì™€ í—ˆë¦¬ë¥¼ ë“¤ì©ì´ë©°,</p>
          <p class="en">Even the onlookers begin to sway their shoulders and waists,</p>

          <p class="ko">ì‚¬ë‘ì˜ ì…ë§ì¶¤ì„ ì˜ì‹í•œë‹¤.</p>
          <p class="en">Becoming aware of loveâ€™s gentle kiss.</p>

          <p class="ko">í˜ëŸ¬ê° ì†ì— í¬ê°œì§„ ìˆœê°„, ê·¸ë“¤ì€ ì˜í˜¼ì˜ ë°•ì œê°€ ë˜ì–´,</p>
          <p class="en">Within the flowing overlap of time, they become taxidermies of the soul,</p>

          <p class="ko">ë©ˆì¶¤ ì†ì— ì˜ì›ì„ ìƒˆê¸´ë‹¤.</p>
          <p class="en">inscribing eternity into stillness.</p>
        </div>
      </div>
    </section>

    <!-- 2) WORKS -->
    <!-- âœ… ë³€ê²½: display:none ì œê±° (ëª¨ë“  ì‘í’ˆì´ í•­ìƒ ë‚˜ì˜¤ê²Œ) -->
    <section id="works">
      <h2 class="ko">ì‘í’ˆ ì•„ì¹´ì´ë¸Œ</h2>
      <h2 class="en">Artworks</h2>

      <div class="tabs" role="tablist">
        <button type="button" class="tab active" data-panel="pray">â…  ìš°ë¦¬ë¥¼ ìœ„í•´ ê¸°ë„í•´ ì£¼ì„¸ìš” Â· Pray for Us</button>
        <button type="button" class="tab" data-panel="human">â…¡ ì¸ê°„ Â· Human Being</button>
        <button type="button" class="tab" data-panel="rebirth">â…¢ ì •ì‹ ì˜ ì¬íƒ„ìƒ Â· Rebirth of Mind</button>
        <button type="button" class="tab" data-panel="exist">â…£ ì¡´ì¬ì˜ íšŒë³µ Â· Restoration of Being</button>
        <button type="button" class="tab" data-panel="cosmos">â…¤ ë¹›ì˜ ì´ˆì˜ì‹ Â· Metaconsciousness of Light</button>
      </div>

      <!-- âœ… SCRIPTì—ì„œ works.json ì½ì–´ì„œ ì—¬ê¸° 5ê°œ íŒ¨ë„ì— ê°ê° â€œê·¸ë¦¬ë“œâ€ë¥¼ ì±„ìš°ë©´ ë¨ -->
      <div id="panel-pray" class="tabpanel active"></div>
      <div id="panel-human" class="tabpanel"></div>
      <div id="panel-rebirth" class="tabpanel"></div>
      <div id="panel-exist" class="tabpanel"></div>
      <div id="panel-cosmos" class="tabpanel"></div>
    </section>

    <!-- 3) REPORTS -->
    <!-- âœ… ë³€ê²½: display:none ì œê±° (Reportsë„ í•­ìƒ í‘œì‹œ) -->
    <section id="reports">
      <h2 class="ko">ë¯¸í•™ ë³´ê³ ì„œ (DCAR Series)</h2>
      <h2 class="en">Aesthetic Reports (DCAR Series)</h2>

      <div class="reports-omega">
        <div class="r-head">
          <div class="r-tabs">
            <button type="button" class="r-tab is-active" data-r="all">All</button>
            <button type="button" class="r-tab" data-r="theory">Theory</button>
            <button type="button" class="r-tab" data-r="archive">Archive</button>
            <button type="button" class="r-tab" data-r="practice">Practice</button>
          </div>

          <button type="button" id="reportsToggle" class="r-toggle" aria-expanded="false">
            Open Reports
          </button>
        </div>

        <!-- âœ… í•µì‹¬: reports.jsonì—ì„œ title_ko/title_en + summary_ko/summary_enì„ â€œSCRIPTê°€â€ ë Œë”ë§ -->
        <!-- âœ… BODYì—ëŠ” ìš”ì•½ í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì“°ì§€ ì•ŠëŠ”ë‹¤ -->
        <div id="reportGrid" class="r-grid"></div>

        <!-- âœ… MD ì›ë¬¸ì€ ìƒˆ ì°½ìœ¼ë¡œ ì—´ê±°ë‚˜(ê¶Œì¥) ë˜ëŠ” ì—¬ê¸° viewerì— í‘œì‹œ(ì„ íƒ) -->
        <div id="reportViewer" class="r-viewer" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <!-- ARTIST BIO MODAL (ì›ë¬¸ í…ìŠ¤íŠ¸ ìœ ì§€ + ìš”ì²­ ìˆ˜ì • ë°˜ì˜) -->
  <div id="bio-modal" hidden>
    <div class="bio-backdrop"></div>

    <div class="bio-card" role="dialog" aria-modal="true" aria-labelledby="bio-title">
      <div class="bio-head">
        <h2 id="bio-title" class="ko">ì‘ê°€ ì†Œê°œ</h2>
        <h2 class="en">Artist Bio</h2>

        <div class="bio-lang">
          <button class="lang active" data-bio-lang="kr" aria-pressed="true">KR</button>
          <button class="lang" data-bio-lang="en" aria-pressed="false">EN</button>
        </div>

        <button class="bio-close" aria-label="Close">âœ•</button>
      </div>

      <!-- one-line summary -->
      <button class="expo-kicker" id="expoToggle" aria-expanded="false">
        <span class="ko">ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE Â· êµ­ë‚´ì™¸ ê°œì¸ì „ 29íšŒ â–¾</span>
        <span class="en">DUNGZAK CESTLAVIE Â· 29 solo exhibitions worldwide â–¾</span>
      </button>

      <!-- slide list -->
      <div class="slide-wrap" id="expoSlide" data-open="false">
        <!-- (í•œêµ­ì–´ Bio ë³¸ë¬¸ ê·¸ëŒ€ë¡œ + ìµœìƒë‹¨ 2026 ì¶”ê°€) -->
        <div class="bio-body ko">
          <p><strong>êµ­ë‚´ ì£¼ìš”ì „ì‹œ</strong></p>
          <p>2026 ê¹€ì •ìˆ™ ê°¤ëŸ¬ë¦¬, ì¸ì²œ, ëŒ€í•œë¯¼êµ­</p>
          <p>2025 êµ¬êµ¬ê°¤ëŸ¬ë¦¬ ëª©ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2023, 2024 êµ¬êµ¬ê°¤ëŸ¬ë¦¬ ëª©ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2023 ì•„íŠ¸í”ŒëŸ¬ìŠ¤ ê°¤ëŸ¬ë¦¬ ì¸ì‚¬ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2019, 2022 í•´ì–‘ ì—ë„ˆì§€ ì •ì› í•œë‚¨ë™, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2015 NC ê°¤ëŸ¬ë¦¬, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2014 ê°¤ëŸ¬ë¦¬ ê³¨ëª©, ì´íƒœì›, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2013 í”„ë¼ë¯¸ìŠ¤ ëœë“œ, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2009 ì•„íŠ¸ ê°¤ëŸ¬ë¦¬ ìœ , ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2005 íš¡ì„± ë¬¸í™”ê´€, ê°•ì›ë„, ëŒ€í•œë¯¼êµ­</p>
          <p>2003 ìŠ¤í˜ì´ìŠ¤ í‚¤ì¹œ, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2003 í™ëŒ€ ë†€ì´í„° ì‚¬ê³„ ì•¼ì™¸ ì „ì‹œ, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2000 ê°¤ëŸ¬ë¦¬ ì†Œí˜¸, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2000 ì„¸ì›ë°±í™”ì , ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <br><p><strong>êµ­ì™¸ ì£¼ìš”ì „ì‹œ</strong></p>
          <p>2016 Berlin Mitte Live Concert Bar, ë² ë¥¼ë¦°, ë…ì¼</p>
          <p>2015 ëª¨ìŠ¤í¬ë°” êµ­ì œê³µí•­ ã€ì‚¶ê³¼ ì˜ˆìˆ ì˜ ê°„ê²©ã€, ëª¨ìŠ¤í¬ë°”, ëŸ¬ì‹œì•„</p>
          <p>2014 í˜¸ì°Œë¯¼ ì¤‘ì•™ ê²½ì°°ì„œ, ì¦‰í¥ í¼í¬ë¨¼ìŠ¤ & ì „ì‹œ, ë² íŠ¸ë‚¨</p>
          <p>2011 Open Art in Amsterdam, ë„¤ëœë€ë“œ</p>
          <p>2006 Linka Gallery, ì•”ìŠ¤í…Œë¥´ë‹´, ë„¤ëœë€ë“œ</p>
          <p>2005 Lune Cafe, ëª½íŒŒë¥´ë‚˜ìŠ¤, íŒŒë¦¬, í”„ë‘ìŠ¤</p>
          <p>2005 ë£¨ë¸Œë¥´ ë°•ë¬¼ê´€ ì™¸ë²½ ì „ì‹œ, íŒŒë¦¬, í”„ë‘ìŠ¤</p>
          <br><p><strong>ê·¸ ì™¸ ì „ì‹œ</strong></p>
          <p>2025 ê·¸ë¦¼ë”°ë¼ ê±·ëŠ” ë„ì‹œ ìµì‚°, ìµì‚°, ëŒ€í•œë¯¼êµ­</p>
          <p>2025 ê°¤ëŸ¬ë¦¬5 ì „êµ­ ì´ˆëŒ€ì „, ì¸ì²œ, ëŒ€í•œë¯¼êµ­</p>
          <p>2024, 2025 êµ¬êµ¬ê°¤ëŸ¬ë¦¬ ì†¡ë…„ ì„ ë¬¼ì „, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2022 ê¹€ì˜ìš°Â·ë“±ì‘ 2ì¸ì „, ì•„ë¥´í…œ ê°¤ëŸ¬ë¦¬, ì„œìš¸, ëŒ€í•œë¯¼êµ­</p>
          <p>2004 ê´‘ì£¼ë¹„ì—”ë‚ ë ˆ â€œThe Stageâ€, ê´‘ì£¼, ëŒ€í•œë¯¼êµ­</p>
          <p>2004 í•˜ëŒ€ë¦¬ ìˆ²ì† ë¯¸ìˆ ì œ â€œì˜ˆìˆ ì˜ íœ´ê°€â€, íš¡ì„±êµ°, ëŒ€í•œë¯¼êµ­</p>
          <p>2000 JosÃ© DelgadoÂ·ë“±ì‘ 2ì¸ì „, ì„œë©´ ë©”íŠ¸ë¡œ ë¯¸ìˆ ê´€, ë¶€ì‚°, ëŒ€í•œë¯¼êµ­</p>
          <br><p><strong>ì†Œì¥</strong></p>
          <p>ë² ë¥¼ë¦° ì‹œì²­; í›”ë³¼íŠ¸ ë³‘ì›; ë…¸íŠ¸ë¥´ë‹´ ëŒ€ì„±ë‹¹(íŒŒë¦¬); íŒŒë¦¬ ì •ì¹˜ëŒ€í•™; ë°”ë¥´ìƒ¤ë°” êµ­ë¦½ ì˜ë£Œì›; ì¼ë³¸ ë„ì¿„ êµíšŒ; ë² íŠ¸ë‚¨ í˜¸ì°Œë¯¼ ì¤‘ì•™ ê²½ì°°ì„œ; ë„¤ëœë€ë“œ ì•”ìŠ¤í…Œë¥´ë‹´ ë°˜ ê³ í ë¯¸ìˆ ê´€(í¬íŠ¸í´ë¦¬ì˜¤); ë¯¸êµ­ ë‰´ìš• í˜„ëŒ€ ë¯¸ìˆ ê´€(í¬íŠ¸í´ë¦¬ì˜¤); ë©”ë¦¬ì¸  ì¦ê¶Œ; êµ­ë‚´ì™¸ ê°œì¸ ì†Œì¥ì ë‹¤ìˆ˜</p>
          <br><p><strong>ì €ì„œ</strong></p>
          <p>ã€Š1 ëˆˆë¬¼ì€ ì ˆëŒ€ ë©ˆì¶”ì§€ ì•ŠëŠ”ë‹¤ â€” ì˜ˆìˆ ê°€ì˜ ì±…ë¬´ì™€ ì¸ê°„ ìš•ë§ã€‹(2022)</p>
          <p>ã€Šì˜ˆìˆ , ê·¸ ëì—†ëŠ” ì‚¬ë‘ã€‹(2024)</p>
        </div>

        <!-- (ì˜ë¬¸ Bio ë³¸ë¬¸ ê·¸ëŒ€ë¡œ + ìµœìƒë‹¨ 2026 ì¶”ê°€) -->
        <div class="bio-body en">
          <p><strong>Major Exhibitions in Korea</strong></p>
          <p>2026 Kim Jeongsuk Gallery, Incheon, Republic of Korea</p>
          <p>2025 Gugu Gallery Mokdong, Seoul, Republic of Korea</p>
          <p>2023, 2024 Gugu Gallery Mokdong, Seoul, Republic of Korea</p>
          <p>2023 Art Plus Gallery Insadong, Seoul, Republic of Korea</p>
          <p>2019, 2022 Ocean Energy Garden, Hannam-dong, Seoul, Republic of Korea</p>
          <p>2015 NC Gallery, Busan, Republic of Korea</p>
          <p>2014 Gallery Golmok, Itaewon, Seoul, Republic of Korea</p>
          <p>2013 Promise Land, Busan, Republic of Korea</p>
          <p>2009 Art Gallery You, Busan, Republic of Korea</p>
          <p>2005 Hoengseong Cultural Center, Gangwon-do, Republic of Korea</p>
          <p>2003 Space Kitchen, Seoul, Republic of Korea</p>
          <p>2003 Seasonal Outdoor Project &amp; Exhibition, Hongdae Playground, Seoul, Republic of Korea</p>
          <p>2000 Gallery Soho, Busan, Republic of Korea</p>
          <p>2000 Sewon Department Store, Busan, Republic of Korea</p>
          <br><p><strong>Major International Exhibitions</strong></p>
          <p>2016 Berlin Mitte Live Concert Bar, Berlin, Germany</p>
          <p>2015 Moscow International Airport, â€œThe Distance Between Life and Artâ€, Moscow, Russia</p>
          <p>2014 Improvised performance &amp; exhibition, Ho Chi Minh City Central Police Building, Vietnam</p>
          <p>2011 Open Art in Amsterdam, Netherlands</p>
          <p>2006 Linka Gallery, Amsterdam, Netherlands</p>
          <p>2005 Lune Cafe, Montparnasse, Paris, France</p>
          <p>2005 Exterior Wall Exhibition, Louvre Museum, Paris, France</p>
          <br><p><strong>Selected Other Exhibitions</strong></p>
          <p>2025 Walking with Art in Iksan, Republic of Korea</p>
          <p>2025 Gallery 5 National Invitational Exhibition, Incheon, Republic of Korea</p>
          <p>2024, 2025 Gugu Gallery Year-End Gift Exhibition, Seoul, Republic of Korea</p>
          <p>2022 Two-person Exhibition (Kim Young-woo &amp; DUNGZAK CESTLAVIE), Artem Gallery, Seoul</p>
          <p>2004 Gwangju Biennale â€œThe Stageâ€, Gwangju, Republic of Korea</p>
          <p>2004 Summer Forest Art Festival â€œArt Vacationâ€, Hadaeri, Hoengseong-gun, Republic of Korea</p>
          <p>2000 Two-person Exhibition (JosÃ© Delgado &amp; DUNGZAK CESTLAVIE), Seomyeon Metro Art Museum, Busan, Republic of Korea</p>
          <br><p><strong>Collections</strong></p>
          <p>Berlin City Hall, Germany; Humboldt Hospital, Germany; Notre-Dame Cathedral, Paris, France; Sciences Po, Paris, France; National Medical Institute, Warsaw, Poland;
Church in Tokyo, Japan; Ho Chi Minh City Central Police Department, Vietnam; Van Gogh Museum Amsterdam, Netherlands (Portfolio Collection); Museum of Modern Art, New York, USA (Portfolio Collection);
Meritz Securities Co., Ltd., Republic of Korea;
Numerous private collections worldwide.</p>
          <p><strong>Publications</strong></p>
          <p><em>1 Tears Never Stop</em> â€” The Artistâ€™s Duty and Human Desire (2022)</p>
          <p><em>Art, the Endless Love</em> (2024)</p>
        </div>
      </div>

      <!-- Bio main -->
      <div class="bio-body ko">
        <p>ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIEëŠ” â€˜ë¹› Â· ê¸°ì–µ Â· ì¡´ì¬â€™ë¼ëŠ” ì„¸ ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì˜ˆìˆ ì˜ ê·¼ì›ì„ íƒêµ¬í•˜ëŠ” í•œêµ­ í˜„ëŒ€ ì˜ˆìˆ ê°€ë‹¤.</p>
        <p>ê·¸ì˜ íšŒí™”ëŠ” í•œ ì¸ê°„ì´ ê²ªì–´ë‚¸ ê°ì •ì˜ ì”í–¥, ìƒì²˜ë¥¼ í†µê³¼í•˜ë©° ë‚¨ëŠ” ë¹›ì˜ ê¸°ì›, ê·¸ë¦¬ê³  ì‚¬ë¼ì§ê³¼ ë‹¤ì‹œ íƒœì–´ë‚¨ì´ ë°˜ë³µë˜ëŠ” ì¡´ì¬ì˜ ìˆœí™˜ì„ ê¸°ë¡í•œë‹¤. ë“±ì‘ì˜ í™”ë©´ì—ëŠ” ê¸°ë„Â·í”ì Â·ìˆ¨ê²° ê°™ì€ ì •ì„œì  ì¸µìœ„ê°€ ì¼œì¼œì´ ë‚¨ì•„ ìˆìœ¼ë©°, ì´ëŠ” ë‹¨ìˆœí•œ í˜•ìƒì´ë‚˜ ìƒ‰ì±„ë¥¼ ë„˜ì–´ â€˜ê°ì •ì˜ ìƒë¬¼í•™ì  í”ì â€™ê³¼ â€˜ê¸°ì–µì˜ ì¡´ì—„â€™ì„ ì‘ì‹œí•˜ëŠ” ë¯¸í•™ìœ¼ë¡œ í™•ì¥ëœë‹¤.</p>
        <p>ì„œìš¸ì„ ê¸°ë°˜ìœ¼ë¡œ ë² ë¥¼ë¦°, íŒŒë¦¬, ì•”ìŠ¤í…Œë¥´ë‹´, ë°”ë¥´ìƒ¤ë°”, ëª¨ìŠ¤í¬ë°” ë“±ì§€ì—ì„œ íšŒí™”ì™€ ë‹¤ë§¤ì²´ í”„ë¡œì íŠ¸ë¥¼ ì„ ë³´ì—¬ ì™”ìœ¼ë©°, íšŒí™”Â·í…ìŠ¤íŠ¸Â·ì‚¬ìš´ë“œÂ·ì˜ìƒÂ·ì•„ì¹´ì´ë¸Œë¥¼ í†µí•©í•´ â€˜ë¹›ì˜ ìœ¤ë¦¬â€™ì™€ â€˜ì¡´ì¬ ê°ì‘ì˜ ë¯¸í•™â€™ì„ êµ¬ì¶•í•´ì™”ë‹¤.</p>
        <p>ë“±ì‘ì˜ ì‘í’ˆì€ ê¸°ë„ë¬¸ì´ì ê¸°ë¡ì´ë©°, ìƒì²˜ ì´í›„ì— ë‚¨ëŠ” ë”°ëœ»í•¨ê³¼ ì§€ì›Œì§€ì§€ ì•ŠëŠ” ê¸°ì–µì˜ ì§€ì†, ê·¸ë¦¬ê³  ì¸ê°„ ì¡´ì—„ì— ëŒ€í•œ ì¡°ìš©í•œ ì„ ì–¸ì´ë‹¤. ê·¸ì˜ ì˜ˆìˆ  ì„¸ê³„ëŠ” â€˜ê³ í†µ ì´í›„ì˜ ë¹›â€™, â€˜ê¸°ì–µì´ ìŠ¤ìŠ¤ë¡œë¥¼ ë³µì›í•˜ëŠ” ìˆœê°„â€™, â€˜ì¡´ì¬ê°€ ë‹¤ì‹œ ê¹¨ì–´ë‚˜ëŠ” í˜¸í¡â€™ì„ ì¤‘ì‹¬ìœ¼ë¡œ í™•ì¥ëœë‹¤.</p>
      </div>

      <div class="bio-body en">
        <p>DUNGZAK CESTLAVIE is a Korean contemporary artist whose practice centers on the triad â€œLight Â· Memory Â· Being.â€</p>
        <p>His paintings trace emotional residues, the genesis of light passing through wounds, and cycles of disappearance and rebirth. Beyond image or color, his work expands into an ethics of light and the dignity of memory.</p>
        <p>Based in Seoul, he has developed painting and multi-media projects across Berlin, Paris, Amsterdam, Warsaw, and Moscow, integrating text, sound, video, and archival structures.</p>
        <p>Each work is both prayer and record: a quiet declaration of human dignity, the warmth that follows wounding, and the breath by which being reawakens.</p>
      </div>
    </div>
  </div>

  <!-- LIGHTBOX (â—€ â–¶ í™”ì‚´í‘œ ì œê±° ë²„ì „) -->
  <div id="lightbox" aria-hidden="true">
    <div class="lb-stage">
      <img id="lbImg" alt="">
      <div id="lbCap" class="lb-caption"></div>
    </div>
    <button id="lbClose" class="lb-close">âœ•</button>
  </div>

  <!-- SOUND PLAYER -->
  <div id="fftBar"><span></span></div>
  <div id="ctrl">
    <button id="soundBtn" class="ctrlbtn">âœ¨</button>
    <button id="soundStopBtn" class="ctrlbtn" disabled>ğŸ”‡</button>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="links">
      <a href="https://flickr.com/photos/dungzak" target="_blank" rel="noopener">Flickr</a>
      <a href="https://instagram.com/dungzakcestlavie" target="_blank" rel="noopener">Instagram</a>
      <a href="https://youtube.com/@dungzakcestlavie" target="_blank" rel="noopener">MUSIC UNIVERSE</a>
      <a href="https://naver.me/x95dk3l1" target="_blank" rel="noopener">Naver Info</a>
      <a href="mailto:dungzakcestlavie@gmail.com">Email</a>
    </div>

    <small class="ko">Â©ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE</small>
    <small class="en">Â©DUNGZAK CESTLAVIE</small>
  </footer>

<!-- ==========================================================
â‘¢ SCRIPTS  (REBUILD â€” STABLE FULL)
- BODYëŠ” ê·¸ëŒ€ë¡œ(ë³€ê²½ ê¸ˆì§€)
- Works: /data/works.json ë¡œë“œ â†’ 5ê°œ íŒ¨ë„ ê·¸ë¦¬ë“œ ë Œë” â†’ Lightbox(zoom) ì •í™•íˆ
- Reports: /data/reports.json ë¡œë“œ â†’ ì–¸ì–´(KR/EN/KR+EN) ë¶„ë¦¬ ìš”ì•½ ë Œë”
         â†’ í´ë¦­ ì‹œ ìƒˆ ì°½ Viewer(ì›ë¬¸ í…ìŠ¤íŠ¸) + í•˜ë‹¨ download
- Bio: ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°, ë¡œì»¬(KR/EN) í† ê¸€, ìš”ì•½ì¤„ í´ë¦­ ì‹œ ì „ì‹œ/ì†Œì¥/ì €ì„œ ìŠ¬ë¼ì´ë“œ
- Sound: â€œë£¨ë©”ë¼ ìš°ì£¼ ê³µëª…ìŒâ€ (ì™¸ë¶€ mp3 ì—†ì´ WebAudio í•©ì„±) + FFT bar
- Speed: cache-bust, lazy decode, IntersectionObserver
========================================================== -->
<script>
(() => {
  "use strict";

  /* =========================================================
     0) Helpers
  ========================================================= */
  const $  = (sel, root=document) => root.querySelector(sel);
  const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
  const safeText = (v) => String(v ?? "");
  const esc = (s) => String(s ?? "")
    .replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")
    .replace(/"/g,"&quot;").replace(/'/g,"&#39;");
  const clamp = (v, a, b) => Math.max(a, Math.min(b, v));
  const nowBust = () => Date.now().toString(36);

  const prefersReducedMotion = () =>
    window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  // root ê¸°ì¤€ ì ˆëŒ€ê²½ë¡œ ë³´ì •(ìƒëŒ€ê²½ë¡œ/./../ë¡œ ì¸í•œ ì˜¤ë¥˜ ë°©ì§€)
  const slash = (p) => {
    const s = safeText(p).trim();
    if (!s) return "";
    if (/^https?:\/\//i.test(s)) return s;
    return s.startsWith("/") ? s : ("/" + s.replace(/^\.?\//, ""));
  };

  // iOSì—ì„œ click passive ì˜µì…˜ì— ëŒ€í•œ ì•ˆì „ ì²˜ë¦¬
  function onTap(el, fn) {
    if (!el) return;
    el.addEventListener("click", (e) => {
      try { fn(e); } catch(err){ console.error(err); }
    }, { passive:true });
  }

  function dispatch(name, detail) {
    window.dispatchEvent(new CustomEvent(name, { detail }));
  }

  function once(el, type, fn, opts){
    if (!el) return;
    const handler = (e) => { el.removeEventListener(type, handler, opts); fn(e); };
    el.addEventListener(type, handler, opts);
  }

  /* =========================================================
     1) Waves Background (FAST + ELEGANT)
  ========================================================= */
  const WAVES = {
    c:null, ctx:null, dpr:1, w:0, h:0, t:0, raf:0,

    init(){
      this.c = $("#waves");
      if (!this.c) return;
      this.ctx = this.c.getContext("2d", { alpha:true });
      this.resize();
      window.addEventListener("resize", () => this.resize(), { passive:true });

      if (prefersReducedMotion()) {
        this.drawStatic();
        return;
      }
      this.loop();
    },

    resize(){
      if (!this.c || !this.ctx) return;
      this.dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      this.w = Math.floor(window.innerWidth * this.dpr);
      this.h = Math.floor(window.innerHeight * this.dpr);
      this.c.width = this.w;
      this.c.height = this.h;
      this.c.style.width = "100%";
      this.c.style.height = "100%";
    },

    drawStatic(){
      const g = this.ctx;
      if (!g) return;
      g.clearRect(0,0,this.w,this.h);
      g.globalAlpha = 0.35;
      g.fillStyle = "rgba(215,184,106,.10)";
      g.beginPath();
      g.ellipse(this.w*0.5, this.h*0.06, this.w*0.46, this.h*0.26, 0, 0, Math.PI*2);
      g.fill();
      g.globalAlpha = 1;
    },

    loop(){
      this.raf = requestAnimationFrame(() => this.loop());
      this.t += 0.0065;
      this.draw();
    },

    draw(){
      const g = this.ctx;
      if (!g) return;
      g.clearRect(0,0,this.w,this.h);

      // top glow
      g.globalAlpha = 0.18;
      g.fillStyle = "rgba(121,167,255,.10)";
      g.beginPath();
      g.ellipse(this.w*0.5, this.h*0.08, this.w*0.44, this.h*0.24, 0, 0, Math.PI*2);
      g.fill();

      const layers = [
        { a: 18, k: 0.012, s: 0.90, o: 0.20 },
        { a: 28, k: 0.010, s: 1.20, o: 0.18 },
        { a: 40, k: 0.008, s: 1.55, o: 0.14 }
      ];

      for (let li=0; li<layers.length; li++){
        const L = layers[li];
        const mid = this.h * (0.28 + li*0.16);
        const amp = L.a * this.dpr;

        g.globalAlpha = L.o;
        g.lineWidth = Math.max(1, 1.2 * this.dpr);
        g.strokeStyle = "rgba(215,184,106,.55)";
        g.beginPath();

        const step = Math.floor(10*this.dpr);
        for (let x=0; x<=this.w; x+=step){
          const nx = x * L.k;
          const y =
            mid
            + Math.sin(nx + this.t*L.s) * amp
            + Math.sin(nx*0.7 - this.t*1.1) * (amp*0.45)
            + Math.sin(nx*1.4 + this.t*0.6) * (amp*0.25);
          if (x===0) g.moveTo(x,y); else g.lineTo(x,y);
        }
        g.stroke();

        g.globalAlpha = L.o * 0.55;
        g.strokeStyle = "rgba(121,167,255,.50)";
        g.beginPath();
        const step2 = Math.floor(12*this.dpr);
        for (let x=0; x<=this.w; x+=step2){
          const nx = x * (L.k*0.92);
          const y = mid + Math.sin(nx + this.t*(L.s*1.08))*(amp*0.72);
          if (x===0) g.moveTo(x,y); else g.lineTo(x,y);
        }
        g.stroke();
      }
      g.globalAlpha = 1;
    }
  };

  /* =========================================================
     2) Language Controller (GLOBAL)
  ========================================================= */
  const LANG = {
    key: "LF_LANG_V3",
    mode: "korean",

    set(mode){
      const m = (mode === "english" || mode === "hybrid") ? mode : "korean";
      this.mode = m;

      document.body.classList.remove("korean","english","hybrid");
      document.body.classList.add(m);

      const ko = $("#koBtn"), en = $("#enBtn"), hy = $("#hyBtn");
      [ko,en,hy].forEach(b => b && b.classList.remove("active"));
      if (m==="korean" && ko) ko.classList.add("active");
      if (m==="english" && en) en.classList.add("active");
      if (m==="hybrid" && hy) hy.classList.add("active");

      try { localStorage.setItem(this.key, m); } catch(e) {}
      dispatch("lf:lang", { mode:m });
    },

    restore(){
      let saved = null;
      try { saved = localStorage.getItem(this.key); } catch(e) {}
      if (saved==="korean" || saved==="english" || saved==="hybrid") this.set(saved);
      else this.set("korean");
    },

    bindButtons(){
      onTap($("#koBtn"), () => this.set("korean"));
      onTap($("#enBtn"), () => this.set("english"));
      onTap($("#hyBtn"), () => this.set("hybrid"));
    }
  };

  /* =========================================================
     3) Navigation (SCROLL ONLY)
  ========================================================= */
  const NAV = {
    btns: [],
    secs: { poem:null, works:null, reports:null },

    findSections(){
      this.secs.poem = $("#poem");
      this.secs.works = $("#works");
      this.secs.reports = $("#reports");
    },

    bind(){
      this.btns = $$('button[data-target], a[data-target]');
      this.btns.forEach(b => {
        const t = (b.getAttribute("data-target") || "").trim();
        if (!t) return;
        onTap(b, () => this.go(t, true));
      });
    },

    go(target, doScroll){
      const t = (target === "works" || target === "reports") ? target : "poem";

      this.btns.forEach(b => b.classList.remove("active"));
      const active = this.btns.find(b => (b.getAttribute("data-target") || "") === t);
      if (active) active.classList.add("active");

      dispatch("lf:section", { target:t });

      if (doScroll){
        const el = this.secs[t];
        if (el) el.scrollIntoView({ behavior: prefersReducedMotion() ? "auto" : "smooth", block:"start" });
      }
    }
  };

  /* =========================================================
     4) Lightbox (dataset-only)
  ========================================================= */
  const LIGHTBOX = {
    root: null,
    img: null,
    cap: null,
    closeBtn: null,
    isOpen: false,
    touchX: null,

    find(){
      this.root = $("#lightbox");
      this.img = $("#lbImg");
      this.cap = $("#lbCap");
      this.closeBtn = $("#lbClose");
    },

    open(src, caption){
      if (!this.root || !this.img || !src) return;
      this.img.decoding = "async";
      this.img.src = src;
      if (this.cap) this.cap.textContent = caption || "";

      this.root.classList.add("is-open");
      this.root.setAttribute("aria-hidden","false");
      this.isOpen = true;

      document.documentElement.style.overflow = "hidden";
      document.body.style.overflow = "hidden";
    },

    close(){
      if (!this.root) return;
      this.root.classList.remove("is-open");
      this.root.setAttribute("aria-hidden","true");
      this.isOpen = false;

      document.documentElement.style.overflow = "";
      document.body.style.overflow = "";
    },

    bind(stepFn){
      if (!this.root) return;

      onTap(this.closeBtn, () => this.close());

      this.root.addEventListener("click", (e) => {
        if (!this.isOpen) return;
        const stage = e.target.closest(".lb-stage");
        if (!stage) this.close();
      }, { passive:true });

      document.addEventListener("keydown", (e) => {
        if (!this.isOpen) return;
        if (e.key === "Escape") this.close();
        if (e.key === "ArrowRight") stepFn && stepFn(+1);
        if (e.key === "ArrowLeft") stepFn && stepFn(-1);
      });

      this.root.addEventListener("touchstart", (e) => {
        if (!this.isOpen) return;
        this.touchX = e.touches?.[0]?.clientX ?? null;
      }, { passive:true });

      this.root.addEventListener("touchend", (e) => {
        if (!this.isOpen || this.touchX == null) return;
        const x1 = e.changedTouches?.[0]?.clientX ?? null;
        if (x1 == null) return;
        const dx = x1 - this.touchX;
        this.touchX = null;
        if (Math.abs(dx) < 42) return;
        stepFn && stepFn(dx < 0 ? +1 : -1);
      }, { passive:true });
    }
  };

  /* =========================================================
     5) Works (robust load + stable render)
  ========================================================= */
  const WORKS = {
    raw: [],
    bySection: {1:[],2:[],3:[],4:[],5:[]},

    panelEls: {},
    tabBtns: [],
    currentKey: "pray",
    currentIndex: 0,
    io: null,

    findPanels(){
      this.panelEls = {
        pray: $("#panel-pray"),
        human: $("#panel-human"),
        rebirth: $("#panel-rebirth"),
        exist: $("#panel-exist"),
        cosmos: $("#panel-cosmos")
      };
    },

    findTabs(){
      this.tabBtns = $$('button.tab[data-panel]');
    },

    keyToSid(key){
      return key==="pray"?1:key==="human"?2:key==="rebirth"?3:key==="exist"?4:5;
    },

    currentCards(){
      const panel = this.panelEls[this.currentKey];
      if (!panel) return [];
      return $$(".w-card", panel);
    },

    async load(){
      const candidates = ["/data/works.json","data/works.json","/works.json","works.json"];
      let lastErr = null;

      for (const url of candidates){
        try{
          const res = await fetch(url + "?" + nowBust(), { cache:"no-store" });
          if (!res.ok) throw new Error("HTTP " + res.status);

          const json = await res.json();
          const arr = Array.isArray(json) ? json : (Array.isArray(json?.works) ? json.works : []);

          this.raw = arr;
          this.bySection = {1:[],2:[],3:[],4:[],5:[]};

          arr.forEach(w => {
            const sid = Number(w?.section_id);
            if (sid>=1 && sid<=5) this.bySection[sid].push(w);
          });

          return true;
        }catch(e){ lastErr = e; }
      }

      console.warn("[Works] load failed:", lastErr);
      this.raw = [];
      this.bySection = {1:[],2:[],3:[],4:[],5:[]};
      return false;
    },

    titleHTML(w){
      const kr = safeText(w?.title_kr || "");
      const en = safeText(w?.title_en || "");

      if (LANG.mode==="english") return `<div class="en">${esc(en || kr)}</div>`;
      if (LANG.mode==="hybrid"){
        if (kr && en) return `<div class="ko">${esc(kr)}</div><div class="en">${esc(en)}</div>`;
        return `<div class="ko">${esc(kr || en)}</div>`;
      }
      return `<div class="ko">${esc(kr || en)}</div>`;
    },

    metaHTML(w){
      const mkr = safeText(w?.material_kr || "");
      const men = safeText(w?.material_en || "");
      const skr = safeText(w?.size_kr || "");
      const sen = safeText(w?.size_en || "");
      const yr  = safeText(w?.year || "");

      const krLine = [mkr, skr, yr].filter(Boolean).join(" Â· ");
      const enLine = [men, sen, yr].filter(Boolean).join(" Â· ");

      if (LANG.mode==="english") return `<div class="en">${esc(enLine || krLine)}</div>`;
      if (LANG.mode==="hybrid"){
        if (krLine && enLine) return `<div class="ko">${esc(krLine)}</div><div class="en">${esc(enLine)}</div>`;
        return `<div class="ko">${esc(krLine || enLine)}</div>`;
      }
      return `<div class="ko">${esc(krLine || enLine)}</div>`;
    },

    imgSrc(w){ return slash(w?.image || ""); },

    zoomSrc(w){
      const z = safeText(w?.zoom || "").trim();
      if (z) return slash(z);

      const s = this.imgSrc(w);
      if (!s) return "";
      if (s.includes("/images/standard/")) return s.replace("/images/standard/","/images/zoom/");
      return s;
    },

    captionText(w){
      const titlePlain =
        LANG.mode==="english" ? (w?.title_en || w?.title_kr || "")
                              : (w?.title_kr || w?.title_en || "");
      const metaPlain =
        LANG.mode==="english"
          ? [w?.material_en, w?.size_en, w?.year].filter(Boolean).join(" Â· ")
          : [w?.material_kr, w?.size_kr, w?.year].filter(Boolean).join(" Â· ");
      return [safeText(titlePlain), safeText(metaPlain)].filter(s=>s.trim()).join(" Â· ").trim();
    },

    cardHTML(w, idx){
      const src = this.imgSrc(w);
      if (!src) return "";
      const zoom = this.zoomSrc(w);
      const cap = this.captionText(w);

      const altTitle =
        LANG.mode==="english" ? (w?.title_en || w?.title_kr || "")
                              : (w?.title_kr || w?.title_en || "");

      return `
        <article class="w-card"
          data-idx="${idx}"
          data-zoom="${esc(zoom)}"
          data-cap="${esc(cap)}">
          <img class="w-thumb" loading="lazy" decoding="async"
               src="${esc(src)}" alt="${esc(altTitle)}">
          <div class="w-meta">
            <div class="w-title">${this.titleHTML(w)}</div>
            <div class="w-sub">${this.metaHTML(w)}</div>
          </div>
        </article>
      `;
    },

    attachLazyDecode(panel){
      const imgs = $$("img.w-thumb", panel);
      imgs.forEach(img => {
        if (!("decode" in img)) return;
        img.addEventListener("load", () => { try { img.decode(); } catch(e) {} }, { once:true, passive:true });
      });
    },

    setupObserver(panel){
      if (!("IntersectionObserver" in window)) return;

      if (this.io) { try { this.io.disconnect(); } catch(e) {} }
      this.io = new IntersectionObserver((entries) => {
        entries.forEach(en => {
          if (!en.isIntersecting) return;
          const img = en.target;
          try { img.loading = "eager"; } catch(e) {}
          if ("decode" in img) { try { img.decode(); } catch(e) {} }
          this.io.unobserve(img);
        });
      }, { root:null, rootMargin:"240px 0px", threshold:0.01 });

      $$("img.w-thumb", panel).forEach(img => this.io.observe(img));
    },

    renderPanel(key){
      this.findPanels();
      this.findTabs();

      const k = this.panelEls[key] ? key : "pray";
      this.currentKey = k;
      this.currentIndex = 0;

      this.tabBtns.forEach(b => b.classList.remove("active"));
      const activeTab = this.tabBtns.find(b => (b.getAttribute("data-panel")||"") === k);
      if (activeTab) activeTab.classList.add("active");

      $$(".tabpanel").forEach(p => p.classList.remove("active"));
      const panel = this.panelEls[k];
      if (panel) panel.classList.add("active");
      if (!panel) return;

      const sid = this.keyToSid(k);
      const arr = this.bySection[sid] || [];

      if (!arr.length){
        panel.innerHTML = `<div class="w-msg">Works ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.<small>(section_id: ${sid} / /data/works.json í™•ì¸)</small></div>`;
        return;
      }

      panel.innerHTML = `<div class="w-grid">${arr.map((w,i)=>this.cardHTML(w,i)).filter(Boolean).join("")}</div>`;

      this.attachLazyDecode(panel);
      this.setupObserver(panel);

      // dataset-only open (ë‹¤ë¥¸ ê·¸ë¦¼ ì—´ë¦¼ ì›ì²œ ì°¨ë‹¨)
      $$(".w-card", panel).forEach(card => {
        onTap(card, () => {
          const idx = Number(card.getAttribute("data-idx") || "0");
          this.currentIndex = isNaN(idx) ? 0 : idx;

          const zoom = (card.getAttribute("data-zoom") || "").trim();
          const cap  = (card.getAttribute("data-cap") || "").trim();

          if (zoom) LIGHTBOX.open(zoom, cap);
          this.preloadNeighborZoom();
        });
      });
    },

    preload(url){
      if (!url) return;
      const img = new Image();
      img.decoding = "async";
      img.src = url;
    },

    preloadNeighborZoom(){
      const cards = this.currentCards();
      const n = cards.length;
      if (!n) return;

      const i0 = clamp(this.currentIndex, 0, n-1);
      const i1 = (i0 + 1) % n;
      const i2 = (i0 - 1 + n) % n;

      const z1 = (cards[i1]?.getAttribute("data-zoom") || "").trim();
      const z2 = (cards[i2]?.getAttribute("data-zoom") || "").trim();
      this.preload(z1); this.preload(z2);
    },

    step(delta){
      const cards = this.currentCards();
      const n = cards.length;
      if (!n) return null;

      this.currentIndex = (this.currentIndex + delta + n) % n;
      const card = cards[this.currentIndex];
      if (!card) return null;

      return {
        zoom: (card.getAttribute("data-zoom") || "").trim(),
        cap:  (card.getAttribute("data-cap") || "").trim()
      };
    },

    bindTabs(){
      this.findTabs();
      this.tabBtns.forEach(btn => {
        const k = (btn.getAttribute("data-panel") || "").trim();
        if (!k) return;
        onTap(btn, () => this.renderPanel(k));
      });
    },

    async init(){
      this.findPanels();
      this.bindTabs();
      await this.load();

      const active = this.tabBtns.find(b => b.classList.contains("active"));
      const key = active ? (active.getAttribute("data-panel") || "pray") : "pray";
      this.renderPanel(key);
    }
  };

  /* =========================================================
     6) Reports (open new window viewer + download link)
  ========================================================= */
  const REPORTS = {
    list: [],
    grid: null,
    toggleBtn: null,
    tabBtns: [],
    filter: "all",
    opened: false,

    findUI(){
      this.grid = $("#reportGrid");
      this.toggleBtn = $("#reportsToggle");
      this.tabBtns = $$('.r-tab[data-r]');
    },

    async load(){
      const candidates = ["/data/reports.json","data/reports.json","/reports.json","reports.json"];
      let lastErr = null;

      for (const url of candidates){
        try{
          const res = await fetch(url + "?" + nowBust(), { cache:"no-store" });
          if (!res.ok) throw new Error("HTTP " + res.status);
          const json = await res.json();
          const arr = Array.isArray(json) ? json : (Array.isArray(json?.reports) ? json.reports : []);
          this.list = arr;
          return true;
        }catch(e){ lastErr = e; }
      }

      console.warn("[Reports] load failed:", lastErr);
      this.list = [];
      return false;
    },

    getTitleKR(r){ return safeText(r?.title_ko || r?.title_kr || ""); },
    getSummaryKR(r){ return safeText(r?.summary_ko || r?.summary_kr || ""); },

    titleHTML(r){
      const kr = this.getTitleKR(r);
      const en = safeText(r?.title_en || "");
      if (LANG.mode==="english") return `<span class="en">${esc(en || kr)}</span>`;
      if (LANG.mode==="hybrid"){
        if (kr && en) return `<span class="ko">${esc(kr)}</span><br><span class="en">${esc(en)}</span>`;
        return `<span class="ko">${esc(kr || en)}</span>`;
      }
      return `<span class="ko">${esc(kr || en)}</span>`;
    },

    summaryHTML(r){
      const kr = this.getSummaryKR(r);
      const en = safeText(r?.summary_en || "");
      if (LANG.mode==="english") return `<span class="en">${esc(en || kr)}</span>`;
      if (LANG.mode==="hybrid"){
        if (kr && en) return `<span class="ko">${esc(kr)}</span><br><span class="en">${esc(en)}</span>`;
        return `<span class="ko">${esc(kr || en)}</span>`;
      }
      return `<span class="ko">${esc(kr || en)}</span>`;
    },

    mdURL(r){
      return slash(r?.md_path || r?.path || r?.url || "");
    },

    matchFilter(r){
      if (this.filter==="all") return true;
      const cat = safeText(r?.category || r?.type || "").toLowerCase();
      return cat === this.filter;
    },

    cardHTML(r){
      const id = safeText(r?.id || r?.slug || "");
      const url = this.mdURL(r);
      return `
        <article class="r-item" data-md="${esc(url)}" data-id="${esc(id)}">
          <div class="t">${this.titleHTML(r)}</div>
          <div class="m">${esc(id)}</div>
          <div class="s">${this.summaryHTML(r)}</div>
        </article>
      `;
    },

    render(){
      this.findUI();
      if (!this.grid) return;

      const filtered = this.list.filter(r => this.matchFilter(r));
      if (!filtered.length){
        this.grid.innerHTML = `<div class="w-msg">Reports ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.<small>(/data/reports.json í™•ì¸)</small></div>`;
        return;
      }

      this.grid.innerHTML = filtered.map(r => this.cardHTML(r)).join("");

      $$(".r-item", this.grid).forEach(card => {
        onTap(card, () => {
          const md = (card.getAttribute("data-md") || "").trim();
          const id = (card.getAttribute("data-id") || "REPORT").trim();
          const titleText = (card.querySelector(".t")?.textContent || id).trim();
          this.openViewerWindow({ id, title:titleText, mdURL: md });
        });
      });
    },

    setOpen(open){
      this.findUI();
      this.opened = !!open;
      if (!this.toggleBtn || !this.grid) return;

      // BODYì— ì´ë¯¸ display ì œì–´ê°€ ìˆìœ¼ë©´ ê·¸ê±¸ ì¡´ì¤‘í•˜ê³ , ì—†ìœ¼ë©´ ì—¬ê¸°ì„œ í† ê¸€
      const isGrid = getComputedStyle(this.grid).display === "grid";
      if (this.opened) {
        this.grid.style.display = "grid";
      } else {
        // ì›ë˜ gridì˜€ë‹¤ë©´ none, ì•„ë‹ˆë¼ë©´ ê·¸ëŒ€ë¡œ
        this.grid.style.display = isGrid ? "none" : "none";
      }

      this.toggleBtn.setAttribute("aria-expanded", this.opened ? "true" : "false");
      // ë²„íŠ¼ ë¬¸êµ¬ëŠ” BODY ì›ë¬¸ í…ìŠ¤íŠ¸ ë³´í˜¸ë¥¼ ìœ„í•´ "data-label" ìˆìœ¼ë©´ ê·¸ê²ƒ ìš°ì„ 
      const openLabel  = this.toggleBtn.getAttribute("data-open-label")  || "Open Reports";
      const closeLabel = this.toggleBtn.getAttribute("data-close-label") || "Close Reports";
      this.toggleBtn.textContent = this.opened ? closeLabel : openLabel;
    },

    setFilter(f){
      this.filter = (f==="theory" || f==="archive" || f==="practice") ? f : "all";
      this.findUI();
      this.tabBtns.forEach(b => b.classList.remove("is-active"));
      const active = this.tabBtns.find(b => (b.getAttribute("data-r") || "") === this.filter);
      if (active) active.classList.add("is-active");
      this.render();
    },

    bind(){
      this.findUI();
      if (this.toggleBtn) onTap(this.toggleBtn, () => this.setOpen(!this.opened));
      this.tabBtns.forEach(btn => {
        const f = (btn.getAttribute("data-r") || "all").trim();
        onTap(btn, () => this.setFilter(f));
      });
    },

    viewerHTML({ title, mdURL }){
      const t = esc(title || "Report");
      const src = esc(mdURL || "");
      const stamp = nowBust();

      // *ì¤‘ìš”*: ìƒˆ ì°½ì€ ê°™ì€ originì—ì„œ fetch ê°€ëŠ¥í•´ì•¼ í•¨
      // mdURLì´ markdownì´ë©´ plain textë¡œ ë Œë”. htmlì´ë©´ iframeë¡œ fallback.
      return `<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="color-scheme" content="dark light"/>
  <title>${t}</title>
  <style>
    :root{ color-scheme:dark light; }
    body{
      margin:0; padding:0;
      background:#070A14; color:#E9E6DD;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }
    header{
      position:sticky; top:0; z-index:10;
      background:linear-gradient(180deg, rgba(7,10,20,.92), rgba(7,10,20,.70));
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(215,184,106,.22);
      padding:14px 16px;
    }
    h1{ margin:0; font-size:16px; letter-spacing:.2px; color: rgba(215,184,106,.95); }
    .bar{ margin-top:8px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    a.btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(215,184,106,.34);
      color:rgba(215,184,106,.95);
      text-decoration:none;
      font-size:12px;
      background: rgba(10,14,28,.55);
    }
    a.btn:active{ transform: translateY(1px); }
    main{ padding:18px 16px 44px; }
    pre{
      margin:0;
      white-space:pre-wrap;
      word-break:break-word;
      line-height:1.7;
      font-size:14px;
      color:#EDEAE2;
    }
    .hint{
      margin-top:10px;
      font-size:12px;
      color:rgba(233,230,221,.70);
    }
    iframe{
      width:100%; height: calc(100vh - 140px);
      border:1px solid rgba(215,184,106,.18);
      border-radius:14px;
      background:#0A0E1C;
    }
  </style>
</head>
<body>
  <header>
    <h1>${t}</h1>
    <div class="bar">
      <a class="btn" href="${src}?dl=1&v=${stamp}" download>download</a>
      <a class="btn" href="${src}?v=${stamp}" target="_blank" rel="noopener">open source</a>
    </div>
  </header>
  <main>
    <pre id="txt">Loadingâ€¦</pre>
    <div class="hint" id="hint"></div>
  </main>
  <script>
    (async () => {
      const url = ${JSON.stringify(mdURL || "")};
      const pre = document.getElementById("txt");
      const hint = document.getElementById("hint");
      if (!url) { pre.textContent = "No source path."; return; }

      const isHtml = /\\.html?(\\?|#|$)/i.test(url);
      if (isHtml){
        // htmlì´ë©´ iframeë¡œ í‘œì‹œ (ì›ë¬¸ ë³´ì¡´)
        const main = document.querySelector("main");
        main.innerHTML = '<iframe src="'+url+'" loading="eager"></iframe>';
        return;
      }

      try{
        const res = await fetch(url + (url.includes('?') ? '&' : '?') + 'v=' + Date.now().toString(36), { cache:'no-store' });
        if (!res.ok) throw new Error("HTTP " + res.status);
        const txt = await res.text();
        pre.textContent = txt;
        hint.textContent = "";
      }catch(e){
        pre.textContent = "Failed to load the report source.";
        hint.textContent = String(e && e.message ? e.message : e);
      }
    })();
  </script>
</body>
</html>`;
    },

    openViewerWindow({ id, title, mdURL }){
      const w = window.open("", "_blank", "noopener,noreferrer");
      if (!w) return;
      const html = this.viewerHTML({ title, mdURL });
      w.document.open();
      w.document.write(html);
      w.document.close();
      try { w.document.title = title || id || "Report"; } catch(e){}
    },

    async init(){
      this.findUI();
      this.bind();
      await this.load();
      this.render();

      // ê¸°ë³¸ì€ ì—´ë¦¼ ìƒíƒœë¡œ ë‘ë˜, BODYê°€ ì´ë¯¸ ì ‘í˜ì´ë©´ ì¡´ì¤‘
      if (this.grid){
        const dsp = getComputedStyle(this.grid).display;
        this.opened = (dsp !== "none");
        if (this.toggleBtn) this.toggleBtn.setAttribute("aria-expanded", this.opened ? "true" : "false");
      }
    }
  };

  /* =========================================================
     7) Bio Modal (open/close + local lang + slide)
     - BODY êµ¬ì¡°ë¥¼ ë°”ê¾¸ì§€ ì•Šê¸° ìœ„í•´ "ì¡´ì¬í•˜ëŠ” id/classë§Œ" ì°¾ì•„ì„œ ë™ì‘
  ========================================================= */
  const BIO = {
    modal:null,
    openBtn:null,
    closeBtn:null,
    overlay:null,

    localKey:"LF_BIO_LANG",
    localMode:"korean",

    // ë‚´ë¶€ í† ê¸€/ìŠ¬ë¼ì´ë“œ
    kickerBtn:null,   // "êµ­ë‚´ì™¸ ê°œì¸ì „ 28íšŒ" ë²„íŠ¼
    slide:null,       // í¼ì¹¨ ì˜ì—­
    isOpen:false,

    init(){
      // ê°€ëŠ¥í•œ ì…€ë ‰í„°ë“¤ì„ ëª¨ë‘ ì‹œë„(Body ë³€ê²½ ê¸ˆì§€)
      this.modal    = $("#bioModal") || $(".bio-modal") || $("#artistBio") || $("#bio");
      this.openBtn  = $("#bioOpen")  || $("#bioBtn")    || $('[data-open="bio"]');
      this.closeBtn = $("#bioClose") || $(".bio-close");
      this.overlay  = $(".bio-overlay") || (this.modal ? this.modal.querySelector(".bio-overlay") : null);

      // ìŠ¬ë¼ì´ë“œ(ìš”ì•½ì¤„)
      this.kickerBtn = $("#expoKicker") || $(".expo-kicker") || (this.modal ? this.modal.querySelector('[data-bio="kicker"]') : null);
      this.slide     = $("#bioSlide")  || $(".bio-slide")   || (this.modal ? this.modal.querySelector('[data-bio="slide"]') : null);

      // ë¡œì»¬ ì–¸ì–´ ë²„íŠ¼(ë°”ì´ì˜¤ ëª¨ë‹¬ ì•ˆ)
      const k = this.modal ? this.modal.querySelector('[data-bio-lang="korean"]') : null;
      const e = this.modal ? this.modal.querySelector('[data-bio-lang="english"]') : null;
      const h = this.modal ? this.modal.querySelector('[data-bio-lang="hybrid"]') : null;

      // ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
      onTap(this.openBtn, () => this.open());
      onTap(this.closeBtn, () => this.close());

      if (this.overlay){
        this.overlay.addEventListener("click", () => this.close(), { passive:true });
      }

      document.addEventListener("keydown", (ev) => {
        if (!this.isOpen) return;
        if (ev.key === "Escape") this.close();
      });

      // ìš”ì•½ì¤„ â†’ ìŠ¬ë¼ì´ë“œ í† ê¸€
      onTap(this.kickerBtn, () => this.toggleSlide());

      // ë¡œì»¬ ì–¸ì–´: ìˆìœ¼ë©´ ì—°ê²°
      onTap(k, () => this.setLocalLang("korean"));
      onTap(e, () => this.setLocalLang("english"));
      onTap(h, () => this.setLocalLang("hybrid"));

      // local restore
      this.restoreLocalLang();
    },

    open(){
      if (!this.modal) return;
      this.modal.classList.add("is-open");
      this.modal.setAttribute("aria-hidden","false");
      this.isOpen = true;
      document.documentElement.style.overflow = "hidden";
      document.body.style.overflow = "hidden";
    },

    close(){
      if (!this.modal) return;
      this.modal.classList.remove("is-open");
      this.modal.setAttribute("aria-hidden","true");
      this.isOpen = false;
      document.documentElement.style.overflow = "";
      document.body.style.overflow = "";
    },

    toggleSlide(){
      if (!this.slide) return;
      const open = !this.slide.classList.contains("is-open");
      this.slide.classList.toggle("is-open", open);
      // ariaê°€ ìˆìœ¼ë©´ ë§ì¶°ì¤Œ
      if (this.kickerBtn) this.kickerBtn.setAttribute("aria-expanded", open ? "true" : "false");
    },

    setLocalLang(mode){
      const m = (mode==="english" || mode==="hybrid") ? mode : "korean";
      this.localMode = m;

      if (this.modal){
        this.modal.classList.remove("korean","english","hybrid");
        this.modal.classList.add(m);
      }

      try { localStorage.setItem(this.localKey, m); } catch(e) {}
    },

    restoreLocalLang(){
      let saved = null;
      try { saved = localStorage.getItem(this.localKey); } catch(e) {}
      if (saved==="korean" || saved==="english" || saved==="hybrid") this.setLocalLang(saved);
      else this.setLocalLang("korean");
    }
  };

  /* =========================================================
     8) Sound (Lumera Cosmic Resonance â€” WebAudio synth)
     - ì™¸ë¶€ mp3 ì—†ì´ í•©ì„±
     - iOS ì •ì±…: ì‚¬ìš©ì íƒ­ì—ì„œë§Œ start()
  ========================================================= */
  const SOUND = {
    ctx:null,
    master:null,
    analyser:null,
    raf:0,

    started:false,
    unlocked:false,

    // UI
    btn:null,
    fft:null,
    fftCtx:null,
    fftW:0,
    fftH:0,
    dpr:1,

    init(){
      // BODYì—ì„œ ì‚¬ìš´ë“œ ë²„íŠ¼/ìº”ë²„ìŠ¤ idê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë‹ˆ í›„ë³´ë¥¼ ë„“ê²Œ
      this.btn = $("#soundBtn") || $("#audioBtn") || $('[data-sound="toggle"]');
      this.fft = $("#fft") || $("#soundFFT") || $("#fftBar") || $("#soundVis");

      if (this.fft){
        this.fftCtx = this.fft.getContext("2d", { alpha:true });
        this.resizeFFT();
        window.addEventListener("resize", () => this.resizeFFT(), { passive:true });
      }

      onTap(this.btn, async () => {
        if (!this.started) await this.start();
        else this.toggleMute();
      });
    },

    resizeFFT(){
      if (!this.fft || !this.fftCtx) return;
      this.dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      const rect = this.fft.getBoundingClientRect();
      this.fftW = Math.max(1, Math.floor(rect.width * this.dpr));
      this.fftH = Math.max(1, Math.floor(rect.height * this.dpr));
      this.fft.width = this.fftW;
      this.fft.height = this.fftH;
    },

    setBtnLabel(state){
      if (!this.btn) return;
      // BODY í…ìŠ¤íŠ¸ ë³´í˜¸: data-labelì„ ìš°ì„  ì‚¬ìš©
      const onLabel  = this.btn.getAttribute("data-on-label")  || "Sound On";
      const offLabel = this.btn.getAttribute("data-off-label") || "Sound Off";
      // state: true = playing
      this.btn.setAttribute("aria-pressed", state ? "true" : "false");
      this.btn.textContent = state ? onLabel : offLabel;
    },

    async start(){
      if (this.started) return;
      const AC = window.AudioContext || window.webkitAudioContext;
      if (!AC) { console.warn("[Sound] AudioContext not supported"); return; }

      this.ctx = new AC({ latencyHint:"interactive" });

      // iOS unlock: resume on first gesture
      try { await this.ctx.resume(); } catch(e){}

      // master
      this.master = this.ctx.createGain();
      this.master.gain.value = 0.62;

      // gentle limiter
      const comp = this.ctx.createDynamicsCompressor();
      comp.threshold.value = -22;
      comp.knee.value = 18;
      comp.ratio.value = 3.5;
      comp.attack.value = 0.012;
      comp.release.value = 0.22;

      // analyser
      this.analyser = this.ctx.createAnalyser();
      this.analyser.fftSize = 1024;
      this.analyser.smoothingTimeConstant = 0.85;

      // connect chain
      this.master.connect(comp);
      comp.connect(this.analyser);
      this.analyser.connect(this.ctx.destination);

      // build synth graph
      this.buildCosmicResonance();

      this.started = true;
      this.setBtnLabel(true);
      this.drawFFT();
    },

    toggleMute(){
      if (!this.master) return;
      const muted = this.master.gain.value < 0.02;
      this.master.gain.setTargetAtTime(muted ? 0.62 : 0.0, this.ctx.currentTime, 0.02);
      this.setBtnLabel(muted); // muted->on
    },

    buildCosmicResonance(){
      const ctx = this.ctx;
      if (!ctx || !this.master) return;

      // ---- base drones (3 oscillators) ----
      const mkOsc = (type, freq, gain) => {
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type = type;
        o.frequency.value = freq;
        g.gain.value = gain;
        o.connect(g);
        return { o, g };
      };

      const d1 = mkOsc("sine",      55.0, 0.10);
      const d2 = mkOsc("triangle",  110.0, 0.06);
      const d3 = mkOsc("sine",      220.0, 0.035);

      // ---- slow LFO for drift ----
      const lfo = ctx.createOscillator();
      const lfoG = ctx.createGain();
      lfo.type = "sine";
      lfo.frequency.value = 0.07;     // very slow
      lfoG.gain.value = 6.0;          // cents-ish via detune
      lfo.connect(lfoG);

      // detune drift
      lfoG.connect(d1.o.detune);
      lfoG.connect(d2.o.detune);
      lfoG.connect(d3.o.detune);

      // ---- shimmer (very soft) ----
      const sh = mkOsc("sine", 880.0, 0.010);
      const sh2 = mkOsc("sine", 1320.0, 0.006);

      // ---- noise bed (pink-ish via filtered white) ----
      const noise = ctx.createBufferSource();
      noise.loop = true;
      const bufferSize = 2 * ctx.sampleRate;
      const noiseBuffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
      const output = noiseBuffer.getChannelData(0);
      // simple pink-ish: accumulate white with decay
      let b0=0, b1=0, b2=0, b3=0, b4=0, b5=0, b6=0;
      for (let i=0; i<bufferSize; i++){
        const white = Math.random()*2-1;
        b0 = 0.99886*b0 + white*0.0555179;
        b1 = 0.99332*b1 + white*0.0750759;
        b2 = 0.96900*b2 + white*0.1538520;
        b3 = 0.86650*b3 + white*0.3104856;
        b4 = 0.55000*b4 + white*0.5329522;
        b5 = -0.7616*b5 - white*0.0168980;
        const pink = b0+b1+b2+b3+b4+b5+b6 + white*0.5362;
        b6 = white*0.115926;
        output[i] = pink * 0.11;
      }
      noise.buffer = noiseBuffer;

      const nFilter = ctx.createBiquadFilter();
      nFilter.type = "lowpass";
      nFilter.frequency.value = 900;
      nFilter.Q.value = 0.7;

      const nGain = ctx.createGain();
      nGain.gain.value = 0.055;

      noise.connect(nFilter);
      nFilter.connect(nGain);

      // ---- resonance space (delay + reverb-ish) ----
      const delay = ctx.createDelay(1.2);
      delay.delayTime.value = 0.28;

      const fb = ctx.createGain();
      fb.gain.value = 0.28;

      const dFilter = ctx.createBiquadFilter();
      dFilter.type = "lowpass";
      dFilter.frequency.value = 1200;
      dFilter.Q.value = 0.6;

      delay.connect(fb);
      fb.connect(dFilter);
      dFilter.connect(delay);

      const wet = ctx.createGain();
      wet.gain.value = 0.26;

      const dry = ctx.createGain();
      dry.gain.value = 0.78;

      // ---- gentle master EQ ----
      const eq1 = ctx.createBiquadFilter();
      eq1.type = "lowshelf";
      eq1.frequency.value = 120;
      eq1.gain.value = -2.5;

      const eq2 = ctx.createBiquadFilter();
      eq2.type = "highshelf";
      eq2.frequency.value = 5200;
      eq2.gain.value = -3.0;

      // ---- routing ----
      const sum = ctx.createGain();
      sum.gain.value = 1.0;

      d1.g.connect(sum);
      d2.g.connect(sum);
      d3.g.connect(sum);
      sh.g.connect(sum);
      sh2.g.connect(sum);
      nGain.connect(sum);

      // dry/wet split
      sum.connect(dry);
      sum.connect(delay);
      delay.connect(wet);

      // combine
      const mix = ctx.createGain();
      dry.connect(mix);
      wet.connect(mix);

      // eq -> master
      mix.connect(eq1);
      eq1.connect(eq2);
      eq2.connect(this.master);

      // ---- motion: shimmer slow tremolo ----
      const trem = ctx.createOscillator();
      const tremG = ctx.createGain();
      trem.type = "sine";
      trem.frequency.value = 0.12;
      tremG.gain.value = 0.004;
      trem.connect(tremG);
      tremG.connect(sh.g.gain);
      tremG.connect(sh2.g.gain);

      // ---- start ----
      const t0 = ctx.currentTime + 0.02;
      [d1.o,d2.o,d3.o,sh.o,sh2.o,lfo,trem].forEach(o => o.start(t0));
      noise.start(t0);

      // fade in (quiet, cosmic)
      this.master.gain.setValueAtTime(0.0001, t0);
      this.master.gain.exponentialRampToValueAtTime(0.62, t0 + 1.6);
    },

    drawFFT(){
      if (!this.analyser || !this.fftCtx || !this.fft) return;

      const g = this.fftCtx;
      const n = this.analyser.frequencyBinCount;
      const data = new Uint8Array(n);

      const draw = () => {
        this.raf = requestAnimationFrame(draw);
        this.analyser.getByteFrequencyData(data);

        g.clearRect(0,0,this.fftW,this.fftH);

        const bars = 40;
        const step = Math.floor(n / bars);
        const bw = this.fftW / bars;

        for (let i=0; i<bars; i++){
          const v = data[i*step] / 255;
          const h = Math.max(2, v * this.fftH);
          const x = i*bw + bw*0.14;
          const y = this.fftH - h;

          g.globalAlpha = 0.35 + v*0.50;
          g.fillStyle = "rgba(215,184,106,.85)";
          g.fillRect(x, y, bw*0.72, h);
        }
        g.globalAlpha = 1;
      };

      draw();
    }
  };

  /* =========================================================
     9) Global glue (lang change rerender)
  ========================================================= */
  function bindGlobalRerender(){
    window.addEventListener("lf:lang", () => {
      // Works / ReportsëŠ” ì–¸ì–´ì— ë”°ë¼ íƒ€ì´í‹€/ìš”ì•½ ë Œë”ê°€ ë°”ë€Œë¯€ë¡œ ì¦‰ì‹œ ì¬ë Œë”
      WORKS.renderPanel(WORKS.currentKey);
      REPORTS.render();
    });
  }

  /* =========================================================
     10) Boot
  ========================================================= */
  async function boot(){
    try{
      WAVES.init();

      LANG.bindButtons();
      LANG.restore();

      NAV.findSections();
      NAV.bind();

      LIGHTBOX.find();
      LIGHTBOX.bind((delta) => {
        const next = WORKS.step(delta);
        if (!next) return;
        if (next.zoom) LIGHTBOX.open(next.zoom, next.cap);
        WORKS.preloadNeighborZoom();
      });

      BIO.init();

      await WORKS.init();
      await REPORTS.init();

      SOUND.init();

      bindGlobalRerender();

      // ì´ˆê¸° ì„¹ì…˜ í‘œì‹œ(ê¸°ë³¸ poem)
      NAV.go("poem", false);

    }catch(e){
      console.error("[Lightflow Script] boot error:", e);
    }
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", boot, { once:true });
  } else {
    boot();
  }
})();
</script>