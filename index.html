<!doctype html>
<html lang="ko">

<!-- ==========================================================
① HEAD / STYLE
========================================================== -->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#070A14" />
  <meta name="format-detection" content="telephone=no,address=no,email=no" />

  <title>등작 燈酌 DUNGZAK CESTLAVIE ∮27 · Lightflow</title>
  <meta name="description" content="LIGHTFLOW · LIGHT · MEMORY · BEING — 등작 燈酌 DUNGZAK CESTLAVIE" />

  <link rel="canonical" href="https://dungzak.art/" />

  <!-- OG / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="등작 燈酌 DUNGZAK CESTLAVIE · Lightflow ∮27" />
  <meta property="og:description" content="LIGHTFLOW · LIGHT · MEMORY · BEING" />
  <meta property="og:url" content="https://dungzak.art/" />
  <!-- <meta property="og:image" content="https://dungzak.art/images/og.jpg" /> -->
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Google Translate bar 차단 -->
  <meta name="google" content="notranslate" />
  <meta name="googlebot" content="notranslate" />

  <style>
    /* =========================================================
       Base / Reset
    ========================================================= */
    :root{
      --bg0:#050812;
      --bg1:#070A14;
      --bg2:#0A1022;

      --gold:#D7B86A;
      --gold2:#E9D59B;
      --blue:#79A7FF;

      --ink:#EDE3C9;
      --muted:rgba(237,227,201,.72);
      --muted2:rgba(237,227,201,.55);

      --card:rgba(255,255,255,.035);
      --card2:rgba(255,255,255,.055);
      --line:rgba(215,184,106,.22);
      --line2:rgba(121,167,255,.18);

      --shadow: 0 16px 40px rgba(0,0,0,.45);
      --shadow2: 0 10px 26px rgba(0,0,0,.35);
      --r:18px;

      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bot: env(safe-area-inset-bottom, 0px);
      --safe-left: env(safe-area-inset-left, 0px);
      --safe-right: env(safe-area-inset-right, 0px);

      --maxw: 1120px;

      /* 금빛 “단단함(번짐 없음)” 엣지 */
      --gold-edge: rgba(0,0,0,.70);
      --gold-edge2: rgba(0,0,0,.42);

      /* 버튼 크기 튜닝 */
      --btnH: 40px;
      --btnPadX: 12px;
      --btnFont: 12.6px;
      --btnRadius: 999px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:
        radial-gradient(1200px 700px at 50% 0%, rgba(215,184,106,.10), rgba(121,167,255,.06) 40%, rgba(0,0,0,0) 72%),
        linear-gradient(180deg, var(--bg1), var(--bg0) 65%, #03040A);
      color:var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      letter-spacing:.2px;
      overflow-x:hidden;
      padding-left: 0;
      padding-right: 0;
    }

    header, main, footer{
      padding-left: var(--safe-left);
      padding-right: var(--safe-right);
    }

    a{ color:var(--gold2); text-decoration:none; }
    a:hover{ text-decoration:underline; }
    img{ max-width:100%; display:block; }

    /* =========================================================
       Language visibility (GLOBAL)
    ========================================================= */
    .ko,.en{ display:block; }
    body.korean .en{ display:none !important; }
    body.english .ko{ display:none !important; }
    body.hybrid .ko,
    body.hybrid .en{ display:block !important; }

    /* Bio 모달은 전역 언어 필터에서 독립 */
    #bio-modal .bio-body.ko,
    #bio-modal .bio-body.en,
    #bio-modal .expo-kicker .ko,
    #bio-modal .expo-kicker .en{
      display:block !important;
    }

    /* =========================================================
       Bio modal language (LOCAL)
    ========================================================= */
    #bio-modal[data-bio="kr"] .bio-body.en,
    #bio-modal[data-bio="kr"] .expo-kicker .en{ display:none !important; }

    #bio-modal[data-bio="en"] .bio-body.ko,
    #bio-modal[data-bio="en"] .expo-kicker .ko{ display:none !important; }

    /* =========================================================
       Waves canvas
    ========================================================= */
    #waves{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:-2;
      pointer-events:none;
      opacity:1;
    }

    /* =========================================================
       Header / Nav
    ========================================================= */
    header{
      position:sticky;
      top:0;
      z-index:20;
      padding-top: calc(12px + var(--safe-top));
      padding-bottom: 10px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(5,8,18,.92), rgba(5,8,18,.62));
      border-bottom:1px solid rgba(215,184,106,.18);
    }

    header .brand,
    header .brand-sub{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 0 18px;
      text-align:center;
    }

    header .brand{
      font-weight: 900;
      color: var(--gold2);
      letter-spacing: .72px;
      font-size: 15px;
      line-height: 1.25;

      -webkit-text-stroke: .35px rgba(0,0,0,.35);
      text-shadow:
        0 1px 0 var(--gold-edge),
        0 -1px 0 var(--gold-edge2);
    }

    header .brand-sub{
      margin-top: 6px;
      font-size: 12px;
      letter-spacing: .34px;
      color: rgba(237,227,201,.78);
      text-shadow: 0 1px 0 rgba(0,0,0,.55);
    }

    nav.primary{
      max-width: var(--maxw);
      margin: 10px auto 0;
      padding: 0 18px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center;
    }

    nav.primary button{
      appearance:none;
      border: 1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.028);
      color: var(--gold2);
      padding: 8px var(--btnPadX);
      border-radius: var(--btnRadius);
      font-weight: 900;
      font-size: var(--btnFont);
      cursor:pointer;
      transition: transform .06s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
      min-height: var(--btnH);
      box-shadow: 0 8px 18px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.64);
    }
    nav.primary button:hover{
      background: rgba(215,184,106,.08);
      border-color: rgba(215,184,106,.52);
      box-shadow: 0 10px 24px rgba(0,0,0,.36);
    }
    nav.primary button.active{
      background: rgba(215,184,106,.12);
      border-color: rgba(215,184,106,.72);
      box-shadow: 0 12px 28px rgba(0,0,0,.40);
    }
    nav.primary button:active{ transform: translateY(1px); }
    nav.primary button:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    .lang{
      max-width: var(--maxw);
      margin: 8px auto 0;
      padding: 0 18px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .lang button{
      appearance:none;
      border:1px solid rgba(121,167,255,.20);
      background: rgba(255,255,255,.028);
      color: rgba(237,227,201,.92);
      padding: 7px 11px;
      border-radius: var(--btnRadius);
      font-weight: 900;
      font-size: 12px;
      cursor:pointer;
      min-height: 38px;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .lang button.active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .lang button:hover{
      border-color: rgba(215,184,106,.45);
      background: rgba(215,184,106,.08);
    }
    .lang button:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    /* =========================================================
       Main layout
    ========================================================= */
    main{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 18px 18px calc(26px + var(--safe-bot));
    }

    section{
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.04);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    /* =========================================================
       ✅ SINGLE SECTION VIEW
       (Poem / Works / Reports 중 하나만 보이게)
    ========================================================= */
    main > section{ display:none; }
    main > section.is-active{ display:block; }

    /* =========================================================
       POEM
    ========================================================= */
    .hero{
      padding: 18px 18px 20px;
      position:relative;
    }
    .hero h1{
      margin:0;
      font-size: 20px;
      letter-spacing:.45px;
      color: var(--gold2);
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .poemwrap{
      margin-top:14px;
      padding: 14px 14px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.015));
      border: 1px solid rgba(215,184,106,.14);
    }
    .poem p{ margin:10px 0; line-height:1.7; color:rgba(237,227,201,.88); }

    /* =========================================================
       WORKS  (캡션/그리드 축소 버전)
    ========================================================= */
    #works{
      padding: 18px;
      margin-top: 4px;
    }
    #works h2{
      margin:0;
      color:var(--gold2);
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .tabs{
      margin-top:14px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .tabs .tab{
      appearance:none;
      border:1px solid rgba(215,184,106,.22);
      background: rgba(255,255,255,.02);
      color:rgba(237,227,201,.90);
      border-radius: 999px;
      padding: 8px 12px;
      font-weight:900;
      font-size:12.2px;
      cursor:pointer;
      min-height: 38px;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .tabs .tab.active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .tabs .tab:hover{
      border-color: rgba(215,184,106,.45);
      background: rgba(215,184,106,.08);
    }
    .tabs .tab:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    .tabpanel{ display:none; margin-top:16px; }
    .tabpanel.active{ display:block; }

    .w-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 14px;
    }
    @media (min-width: 900px){
      .w-grid{
        grid-template-columns: repeat(4, minmax(0,1fr));
        gap: 18px;
      }
    }

    .w-card{
      background: radial-gradient(circle at 0 0, rgba(255,255,255,0.04), rgba(5,7,16,0.98));
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,0.07);
      box-shadow: 0 12px 28px rgba(0,0,0,0.8);
      cursor:pointer;
      display:flex;
      flex-direction:column;
    }
    .w-thumb{
      width:100%;
      display:block;
      object-fit:cover;
      aspect-ratio:4/5;
      background: rgba(0,0,0,.18);
    }
    .w-meta{
      padding: 8px 9px 18px;
      border-top:1px solid rgba(255,255,255,.045);
    }
    .w-title{
      font-weight: 500;
      color: rgba(237,227,201,.94);
      line-height:1.32;
      font-size: 14px;
      letter-spacing: 0.02em;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
      margin-bottom: 3px;
    }
    .w-sub{
      margin-top:3px;
      font-size: 11.3px;
      color: rgba(237,227,201,.70);
      line-height:1.2;
      opacity: 0.95;
    }

    /* 모바일에서 더 작게 */
    @media (max-width: 768px){
      .w-card{
        border-radius: 16px;
      }
      .w-meta{
        padding: 7px 8px 16px;
      }
      .w-title{
        font-size: 13.2px;
        line-height: 1.16;
      }
      .w-sub{
        font-size: 10.4px;
        line-height: 1.14;
        opacity: 0.9;
      }
    }

    .w-msg{
      padding: 16px;
      border-radius: 14px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.05);
      color: rgba(237,227,201,.85);
    }
    .w-msg small{ display:block; margin-top:6px; color: rgba(237,227,201,.58); }

    /* =========================================================
       REPORTS
    ========================================================= */
    #reports{ padding:18px; }
    #reports h2{
      margin:0;
      color:var(--gold2);
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .reports-omega{ margin-top:14px; }

    .r-head{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      padding: 10px 10px;
      border-radius: 14px;
      background: rgba(255,255,255,.02);
      border: 1px solid rgba(255,255,255,.05);
    }
    .r-tabs{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
    .r-tab{
      appearance:none;
      border:1px solid rgba(121,167,255,.16);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.88);
      border-radius: 999px;
      padding:8px 12px;
      font-weight:900;
      font-size:12.2px;
      cursor:pointer;
      min-height: 38px;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .r-tab.is-active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .r-tab:hover{
      border-color: rgba(215,184,106,.42);
      background: rgba(215,184,106,.08);
    }

    .r-toggle{
      appearance:none;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(215,184,106,.10);
      color: var(--gold2);
      border-radius: 999px;
      padding:8px 12px;
      font-weight: 950;
      cursor:pointer;
      min-height: 38px;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }

    .r-grid{
      margin-top: 12px;
      display:none;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 980px){
      .r-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
    @media (max-width: 680px){
      .r-grid{ grid-template-columns: 1fr; }
    }

    .r-item{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border:1px solid rgba(255,255,255,.05);
      border-radius: 16px;
      padding: 12px 12px;
      cursor:pointer;
      transition: transform .10s ease, border-color .16s ease, background .16s ease;
      white-space: pre-line;
    }
    .r-item:hover{
      transform: translateY(-1px);
      border-color: rgba(215,184,106,.28);
      background: rgba(215,184,106,.05);
    }
    .r-item .t{
      font-weight: 950;
      color: rgba(237,227,201,.94);
      line-height:1.35;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .r-item .m{
      margin-top:6px;
      font-size:12px;
      color: rgba(237,227,201,.62);
      font-family: ui-monospace, Menlo, Consolas, monospace;
    }
    .r-item .s{
      margin-top:10px;
      font-size:12px;
      color: rgba(237,227,201,.78);
      line-height:1.55;
      white-space: pre-line;
    }

    /* =========================================================
       BIO MODAL
    ========================================================= */
    #bio-modal[hidden]{ display:none !important; }
    #bio-modal{ position: fixed; inset:0; z-index: 50; }
    .bio-backdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    .bio-card{
      position:relative;
      max-width: 980px;
      width: calc(100% - 28px);
      margin: calc(18px + var(--safe-top)) auto calc(18px + var(--safe-bot));
      background: linear-gradient(180deg, rgba(10,16,34,.92), rgba(5,8,18,.92));
      border:1px solid rgba(215,184,106,.18);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
      max-height: calc(100vh - var(--safe-top) - var(--safe-bot) - 32px);
      overflow-y:auto;
    }
    .bio-head{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding: 14px 14px;
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .bio-head h2{
      margin:0;
      color: var(--gold2);
      font-size: 15px;
      font-weight: 950;
      -webkit-text-stroke: .25px rgba(0,0,0,.28);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    .bio-lang{ display:flex; gap:8px; align-items:center; }
    .bio-lang .lang{
      appearance:none;
      border:1px solid rgba(121,167,255,.16);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.88);
      border-radius: 999px;
      padding:7px 10px;
      font-weight:950;
      font-size:12px;
      cursor:pointer;
      min-height: 36px;
      box-shadow: 0 8px 18px rgba(0,0,0,.24);
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .bio-lang .lang.active{
      border-color: rgba(215,184,106,.72);
      background: rgba(215,184,106,.12);
      color: var(--gold2);
    }
    .bio-close{
      appearance:none;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      width: 42px;
      height: 42px;
      border-radius: 14px;
      cursor:pointer;
      font-size: 18px;
      font-weight: 950;
      box-shadow: 0 8px 18px rgba(0,0,0,.24);
    }

    .expo-kicker{
      width:100%;
      text-align:left;
      appearance:none;
      border:0;
      border-bottom:1px solid rgba(255,255,255,.05);
      background: rgba(255,255,255,.02);
      color: rgba(237,227,201,.92);
      padding: 12px 14px;
      font-weight: 950;
      cursor:pointer;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }

    .slide-wrap{
      max-height: 0px;
      overflow:hidden;
      transition: max-height .35s ease;
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .slide-wrap[data-open="true"]{ max-height: 4000px; }
    .bio-body{
      padding: 14px 14px;
      color: rgba(237,227,201,.88);
      line-height: 1.7;
    }
    .bio-body p{ margin: 10px 0; }
    .bio-body strong{ color: var(--gold2); }

    /* =========================================================
       LIGHTBOX
    ========================================================= */
    #lightbox{
      position: fixed; inset:0; z-index: 60;
      display:none;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    #lightbox.is-open{ display:block; }
    .lb-stage{
      position:absolute;
      inset: 14px 14px calc(14px + var(--safe-bot)) 14px;
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      gap: 12px;
      padding-top: calc(var(--safe-top));
    }
    #lbImg{
      max-width: min(1040px, 96vw);
      max-height: min(78vh, 820px);
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.08);
      box-shadow: var(--shadow);
      background: rgba(0,0,0,.25);
      object-fit: contain;
      will-change: transform;
    }
    .lb-caption{
      width: min(1040px, 96vw);
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.06);
      background: rgba(5,8,18,.62);
      color: rgba(237,227,201,.88);
      white-space: pre-wrap;
      line-height:1.65;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }
    .lb-close{
      position:absolute;
      top: calc(14px + var(--safe-top));
      right: calc(14px + var(--safe-right));
      width: 46px;
      height: 46px;
      border-radius: 14px;
      appearance:none;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      font-size: 18px;
      font-weight: 950;
      cursor:pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.28);
    }

    /* =========================================================
       COSMIC SOUND ORB (우주 표식 · 영원)
       - 우측 하단 작은 원 하나로 C 공명 온/오프
    ========================================================= */
    #soundOrb{
      position: fixed;
      right: calc(16px + var(--safe-right));
      bottom: calc(18px + var(--safe-bot));
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid rgba(215,184,106,.55);
      box-shadow:
        0 0 0 1px rgba(0,0,0,.70),
        0 0 18px rgba(215,184,106,.26);
      background:
        radial-gradient(circle at 30% 30%, rgba(215,184,106,.75), rgba(7,10,20,0));
      opacity: .60;
      cursor: pointer;
      z-index: 71;
      transition:
        opacity .25s ease,
        transform .25s ease,
        box-shadow .30s ease;
    }
    #soundOrb:hover{
      opacity: .95;
      transform: translateY(-1px);
      box-shadow:
        0 0 0 1px rgba(0,0,0,.80),
        0 0 22px rgba(215,184,106,.36);
    }
    #soundOrb.is-on{
      opacity: 1;
      box-shadow:
        0 0 0 1px rgba(0,0,0,.85),
        0 0 26px rgba(121,167,255,.65);
    }
    #soundOrb::after{
      content:"";
      position:absolute;
      inset:6px;
      border-radius:inherit;
      border:1px solid rgba(7,10,20,.95);
      box-shadow: 0 0 8px rgba(0,0,0,.7) inset;
    }

    /* =========================================================
       Footer
    ========================================================= */
    footer{
      max-width: var(--maxw);
      margin: 18px auto 0;
      padding: 14px 18px calc(16px + var(--safe-bot));
      border-top:1px solid rgba(215,184,106,.16);
      background: linear-gradient(180deg, rgba(5,8,18,.10), rgba(0,0,0,0));
      border-radius: 18px;
      text-align:center;
    }
    footer .links{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:center;
    }
    footer .links a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-height: 44px;
      padding: 0 14px;
      border-radius: 999px;
      border:1px solid rgba(215,184,106,.30);
      background: rgba(255,255,255,.02);
      color: var(--gold2);
      font-weight: 950;
      letter-spacing:.22px;
      text-decoration:none;
      box-shadow: 0 8px 18px rgba(0,0,0,.26);
      text-shadow: 0 1px 0 rgba(0,0,0,.62);
    }
    footer .links a:hover{
      background: rgba(215,184,106,.12);
      border-color: rgba(215,184,106,.70);
      text-decoration:none;
    }
    footer .links a:active{ transform: translateY(1px); }
    footer .links a:focus-visible{
      outline:2px solid rgba(121,167,255,.55);
      outline-offset:2px;
    }

    footer small{
      display:block;
      margin-top: 10px;
      color: rgba(237,227,201,.70);
      letter-spacing:.2px;
      text-shadow: 0 1px 0 rgba(0,0,0,.58);
    }

    /* =========================================================
       Reduced motion
    ========================================================= */
    @media (prefers-reduced-motion: reduce){
      *{
        scroll-behavior:auto !important;
        transition:none !important;
        animation:none !important;
      }
    }
  </style>
</head>

<!-- ==========================================================
② BODY / HTML  (등작 원문 그대로 + 사운드 오브만 교체)
========================================================== -->
<body class="korean">
  <!-- BACKGROUND -->
  <canvas id="waves" aria-hidden="true"></canvas>

  <!-- HEADER -->
  <header>
    <div class="brand">등작 燈酌 DUNGZAK CESTLAVIE ∮27</div>
    <div class="brand-sub">LIGHTFLOW · LIGHT · MEMORY · BEING</div>

    <nav class="primary" aria-label="Primary">
      <button type="button" data-target="poem" class="active" aria-current="page">Poem</button>
      <button type="button" data-target="works">Works</button>
      <button type="button" data-target="reports">Reports</button>
      <button type="button" id="tab-bio">Artist Bio</button>
    </nav>

    <div class="lang" aria-label="Language">
      <button type="button" id="koBtn" class="active">KR</button>
      <button type="button" id="enBtn">EN</button>
      <button type="button" id="hyBtn">KR+EN</button>
    </div>
  </header>

  <main>
    <!-- 1) POEM -->
    <section id="poem" class="hero">
      <h1 class="ko">빛 · 기억 · 존재</h1>
      <h1 class="en">Light · Memory · Being</h1>

      <div class="poemwrap">
        <p class="ko" style="font-weight:700">〈파리의 센느강〉</p>
        <p class="en" style="font-weight:700">〈The Seine of Paris〉</p>
        <p class="ko" style="opacity:.85;margin-top:4px">등작 燈酌 DUNGZAK CESTLAVIE</p>
        <p class="en" style="opacity:.85;margin-top:4px">DUNGZAK CESTLAVIE</p>

        <div class="poem">
          <p class="ko">센느강 다리 아래, 노트르담 성당의 촛불이 켜질 무렵—</p>
          <p class="en">Beneath the bridge of the Seine, as the candles of Notre-Dame begin to glow—</p>

          <p class="ko">소박한 꿈들을 안고 사는 사람들이 모여 춤춘다.</p>
          <p class="en">People who live with humble dreams gather to dance.</p>

          <p class="ko">빙글빙글 돌아가며 내딛는 발걸음의 화음 위로,</p>
          <p class="en">Their circling steps form harmonies upon the rhythm of their feet,</p>

          <p class="ko">바이올린이 새파랗고 샛노랑의 빛을 흩뿌리며 웃는다.</p>
          <p class="en">As violins scatter blue and golden light, laughing in brilliance.</p>

          <p class="ko">꿈꾸는 여인들과 꿈꾸는 남성들이 손을 잡고,</p>
          <p class="en">Dreaming women and dreaming men clasp hands,</p>

          <p class="ko">사람의 향기를 맡으며 재빠른 음률에 몸을 맡긴다.</p>
          <p class="en">Breathing the scent of humanity, surrendering to the swift rhythm.</p>

          <p class="ko">아담과 이브의 별자국이 눈물방울처럼 흘러내리는 나무,</p>
          <p class="en">A tree where Adam and Eve’s star-traces drip like tears,</p>

          <p class="ko">그 풍경 속에서 초승달은 어여쁜 하얀 미소를 흘린다.</p>
          <p class="en">In that scene, the crescent moon releases a tender white smile.</p>

          <p class="ko">샤락, 샤락— 춤사위의 리듬이 확장될수록,</p>
          <p class="en">Sharak, sharak— as the rhythm of dance expands,</p>

          <p class="ko">구경하던 이들마저 어깨와 허리를 들썩이며,</p>
          <p class="en">Even the onlookers begin to sway their shoulders and waists,</p>

          <p class="ko">사랑의 입맞춤을 의식한다.</p>
          <p class="en">Becoming aware of love’s gentle kiss.</p>

          <p class="ko">흘러감 속에 포개진 순간, 그들은 영혼의 박제가 되어,</p>
          <p class="en">Within the flowing overlap of time, they become taxidermies of the soul,</p>

          <p class="ko">멈춤 속에 영원을 새긴다.</p>
          <p class="en">inscribing eternity into stillness.</p>
        </div>
      </div>
    </section>

    <!-- 2) WORKS -->
    <section id="works">
      <h2 class="ko">작품 아카이브</h2>
      <h2 class="en">Artworks</h2>

      <div class="tabs" role="tablist">
        <button type="button" class="tab active" data-panel="pray">Ⅰ 우리를 위해 기도해 주세요 · Pray for Us</button>
        <button type="button" class="tab" data-panel="human">Ⅱ 인간 · Human Being</button>
        <button type="button" class="tab" data-panel="rebirth">Ⅲ 정신의 재탄생 · Rebirth of Mind</button>
        <button type="button" class="tab" data-panel="exist">Ⅳ 존재의 회복 · Restoration of Being</button>
        <button type="button" class="tab" data-panel="cosmos">Ⅴ 빛의 초의식 · Metaconsciousness of Light</button>
      </div>

      <div id="panel-pray" class="tabpanel active"></div>
      <div id="panel-human" class="tabpanel"></div>
      <div id="panel-rebirth" class="tabpanel"></div>
      <div id="panel-exist" class="tabpanel"></div>
      <div id="panel-cosmos" class="tabpanel"></div>
    </section>

    <!-- 3) REPORTS -->
    <section id="reports">
      <h2 class="ko">미학 보고서 (DCAR Series)</h2>
      <h2 class="en">Aesthetic Reports (DCAR Series)</h2>

      <div class="reports-omega">
        <div class="r-head">
          <div class="r-tabs">
            <button type="button" class="r-tab is-active" data-r="all">All</button>
            <button type="button" class="r-tab" data-r="theory">Theory</button>
            <button type="button" class="r-tab" data-r="archive">Archive</button>
            <button type="button" class="r-tab" data-r="practice">Practice</button>
          </div>

          <button type="button" id="reportsToggle" class="r-toggle" aria-expanded="false">
            Open Reports
          </button>
        </div>

        <div id="reportGrid" class="r-grid"></div>
      </div>
    </section>
  </main>

  <!-- ARTIST BIO MODAL -->
  <div id="bio-modal" hidden>
    <div class="bio-backdrop"></div>

    <div class="bio-card" role="dialog" aria-modal="true" aria-labelledby="bio-title">
      <div class="bio-head">
        <h2 id="bio-title" class="ko">작가 소개</h2>
        <h2 class="en">Artist Bio</h2>

        <div class="bio-lang">
          <button class="lang active" data-bio-lang="kr" aria-pressed="true">KR</button>
          <button class="lang" data-bio-lang="en" aria-pressed="false">EN</button>
        </div>

        <button class="bio-close" aria-label="Close">✕</button>
      </div>

      <button class="expo-kicker" id="expoToggle" aria-expanded="false">
        <span class="ko">등작 燈酌 DUNGZAK CESTLAVIE · 국내외 개인전 29회 ▾</span>
        <span class="en">DUNGZAK CESTLAVIE · 29 solo exhibitions worldwide ▾</span>
      </button>

      <div class="slide-wrap" id="expoSlide" data-open="false">

  <!-- =========================
       BIO · KOREAN
  ========================== -->
  <div class="bio-body ko">
    <p><strong>국내 주요전시</strong></p>
    <p>2026 김정숙 갤러리, 인천, 대한민국</p>
    <p>2025 구구갤러리 목동, 서울, 대한민국</p>
    <p>2023, 2024 구구갤러리 목동, 서울, 대한민국</p>
    <p>2023 아트플러스 갤러리 인사동, 서울, 대한민국</p>
    <p>2019, 2022 해양 에너지 정원 한남동, 서울, 대한민국</p>
    <p>2015 NC 갤러리, 부산, 대한민국</p>
    <p>2014 갤러리 골목, 이태원, 서울, 대한민국</p>
    <p>2013 프라미스 랜드, 부산, 대한민국</p>
    <p>2009 아트 갤러리 유, 부산, 대한민국</p>
    <p>2005 횡성 문화관, 강원도, 대한민국</p>
    <p>2003 스페이스 키친, 서울, 대한민국</p>
    <p>2003 홍대 놀이터 사계 야외 전시, 서울, 대한민국</p>
    <p>2000 갤러리 소호, 부산, 대한민국</p>
    <p>2000 세원백화점, 부산, 대한민국</p>

    <br>

    <p><strong>국외 주요전시</strong></p>
    <p>2016 Berlin Mitte Live Concert Bar, 베를린, 독일</p>
    <p>2015 모스크바 국제공항 『삶과 예술의 간격』, 모스크바, 러시아</p>
    <p>2014 호찌민 중앙 경찰서, 즉흥 퍼포먼스 & 전시, 베트남</p>
    <p>2011 Open Art in Amsterdam, 네덜란드</p>
    <p>2006 Linka Gallery, 암스테르담, 네덜란드</p>
    <p>2005 Lune Cafe, 몽파르나스, 파리, 프랑스</p>
    <p>2005 루브르 박물관 외벽 전시, 파리, 프랑스</p>

    <br>

    <p><strong>그 외 전시</strong></p>
    <p>2025 그림따라 걷는 도시 익산, 익산, 대한민국</p>
    <p>2025 갤러리5 전국 초대전, 인천, 대한민국</p>
    <p>2024, 2025 구구갤러리 송년 선물전, 서울, 대한민국</p>
    <p>2022 김영우·등작 2인전, 아르템 갤러리, 서울, 대한민국</p>
    <p>2004 광주비엔날레 “The Stage”, 광주, 대한민국</p>
    <p>2004 하대리 숲속 미술제 “예술의 휴가”, 횡성군, 대한민국</p>
    <p>2000 José Delgado·등작 2인전, 서면 메트로 미술관, 부산, 대한민국</p>

    <br>

    <p><strong>소장</strong></p>
    <p>
      베를린 시청; 훔볼트 병원; 노트르담 대성당(파리); 파리 정치대학; 바르샤바 국립 의료원; 일본 도쿄 교회; 베트남 호찌민 중앙 경찰서; 네덜란드 암스테르담 반 고흐 미술관(포트폴리오); 미국 뉴욕 현대 미술관(포트폴리오); 메리츠 증권; 국내외 개인 소장자 다수
    </p>

    <br>

    <p><strong>저서</strong></p>
    <p>《1 눈물은 절대 멈추지 않는다 — 예술가의 책무와 인간 욕망》(2022)</p>
    <p>《예술, 그 끝없는 사랑》(2024)</p>
    <p>《우리를 위해 기도해 주세요》(2026)</p>
  </div>

  <!-- =========================
       BIO · ENGLISH
  ========================== -->
  <div class="bio-body en">
    <p><strong>Major Exhibitions in Korea</strong></p>
    <p>2026 Kim Jeongsuk Gallery, Incheon, Republic of Korea</p>
    <p>2025 Gugu Gallery Mokdong, Seoul, Republic of Korea</p>
    <p>2023, 2024 Gugu Gallery Mokdong, Seoul, Republic of Korea</p>
    <p>2023 Art Plus Gallery Insadong, Seoul, Republic of Korea</p>
    <p>2019, 2022 Ocean Energy Garden, Hannam-dong, Seoul, Republic of Korea</p>
    <p>2015 NC Gallery, Busan, Republic of Korea</p>
    <p>2014 Gallery Golmok, Itaewon, Seoul, Republic of Korea</p>
    <p>2013 Promise Land, Busan, Republic of Korea</p>
    <p>2009 Art Gallery You, Busan, Republic of Korea</p>
    <p>2005 Hoengseong Cultural Center, Gangwon-do, Republic of Korea</p>
    <p>2003 Space Kitchen, Seoul, Republic of Korea</p>
    <p>2003 Seasonal Outdoor Project & Exhibition, Hongdae Playground, Seoul, Republic of Korea</p>
    <p>2000 Gallery Soho, Busan, Republic of Korea</p>
    <p>2000 Sewon Department Store, Busan, Republic of Korea</p>

    <br>

    <p><strong>Major International Exhibitions</strong></p>
    <p>2016 Berlin Mitte Live Concert Bar, Berlin, Germany</p>
    <p>2015 Moscow International Airport, “The Distance Between Life and Art”, Moscow, Russia</p>
    <p>2014 Improvised performance & exhibition, Ho Chi Minh City Central Police Building, Vietnam</p>
    <p>2011 Open Art in Amsterdam, Netherlands</p>
    <p>2006 Linka Gallery, Amsterdam, Netherlands</p>
    <p>2005 Lune Cafe, Montparnasse, Paris, France</p>
    <p>2005 Exterior Wall Exhibition, Louvre Museum, Paris, France</p>

    <br>

    <p><strong>Selected Other Exhibitions</strong></p>
    <p>2025 Walking with Art in Iksan, Republic of Korea</p>
    <p>2025 Gallery 5 National Invitational Exhibition, Incheon, Republic of Korea</p>
    <p>2024, 2025 Gugu Gallery Year-End Gift Exhibition, Seoul, Republic of Korea</p>
    <p>2022 Two-person Exhibition (Kim Young-woo &amp; DUNGZAK CESTLAVIE), Artem Gallery, Seoul</p>
    <p>2004 Gwangju Biennale “The Stage”, Gwangju, Republic of Korea</p>
    <p>2004 Summer Forest Art Festival “Art Vacation”, Hadaeri, Hoengseong-gun, Republic of Korea</p>
    <p>2000 Two-person Exhibition (José Delgado &amp; DUNGZAK CESTLAVIE), Seomyeon Metro Art Museum, Busan, Republic of Korea</p>

    <br>

    <p><strong>Collections</strong></p>
    <p>
      Berlin City Hall, Germany; Humboldt Hospital, Germany; Notre-Dame Cathedral, Paris, France; Sciences Po, Paris, France; National Medical Institute, Warsaw, Poland; Church in Tokyo, Japan; Ho Chi Minh City Central Police Department, Vietnam; Van Gogh Museum Amsterdam, Netherlands (Portfolio Collection); Museum of Modern Art, New York, USA (Portfolio Collection); Meritz Securities Co., Ltd., Republic of Korea; Numerous private collections worldwide.
    </p>

    <br>

    <p><strong>Publications</strong></p>
    <p><em>1 Tears Never Stop</em> — The Artist’s Duty and Human Desire (2022)</p>
    <p><em>Art, the Endless Love</em> (2024)</p>
    <p><em>Pray for Us</em> (2026)</p>
  </div>

  <!-- =========================
       BIO · TEXT (INTRO)
  ========================== -->
  <div class="bio-body ko">
    <p>등작 燈酌 DUNGZAK CESTLAVIE는 ‘빛 · 기억 · 존재’라는 세 축을 중심으로 예술의 근원을 탐구하는 한국 현대 예술가다.</p>
    <p>그의 회화는 한 인간이 겪어낸 감정의 잔향, 상처를 통과하며 남는 빛의 기원, 그리고 사라짐과 다시 태어남이 반복되는 존재의 순환을 기록한다. 등작의 화면에는 기도·흔적·숨결 같은 정서적 층위가 켜켜이 남아 있으며, 이는 단순한 형상이나 색채를 넘어 ‘감정의 생물학적 흔적’과 ‘기억의 존엄’을 응시하는 미학으로 확장된다.</p>
    <p>서울을 기반으로 베를린, 파리, 암스테르담, 바르샤바, 모스크바 등지에서 회화와 다매체 프로젝트를 선보여 왔으며, 회화·텍스트·사운드·영상·아카이브를 통합해 ‘빛의 윤리’와 ‘존재 감응의 미학’을 구축해왔다.</p>
    <p>등작의 작품은 기도문이자 기록이며, 상처 이후에 남는 따뜻함과 지워지지 않는 기억의 지속, 그리고 인간 존엄에 대한 조용한 선언이다. 그의 예술 세계는 ‘고통 이후의 빛’, ‘기억이 스스로를 복원하는 순간’, ‘존재가 다시 깨어나는 호흡’을 중심으로 확장된다.</p>
  </div>

  <div class="bio-body en">
    <p>DUNGZAK CESTLAVIE is a Korean contemporary artist whose practice centers on the triad “Light · Memory · Being.”</p>
    <p>His paintings trace emotional residues, the genesis of light passing through wounds, and cycles of disappearance and rebirth. Beyond image or color, his work expands into an ethics of light and the dignity of memory.</p>
    <p>Based in Seoul, he has developed painting and multi-media projects across Berlin, Paris, Amsterdam, Warsaw, and Moscow, integrating text, sound, video, and archival structures.</p>
    <p>Each work is both prayer and record: a quiet declaration of human dignity, the warmth that follows wounding, and the breath by which being reawakens.</p>
  </div>

</div>
  <!-- LIGHTBOX -->
  <div id="lightbox" aria-hidden="true">
    <div class="lb-stage">
      <img id="lbImg" alt="">
      <div id="lbCap" class="lb-caption"></div>
    </div>
    <button id="lbClose" class="lb-close">✕</button>
  </div>

  <!-- SOUND ORB (우주 표식 / 영원) -->
  <div id="soundOrb" aria-label="Cosmic resonance" role="button"></div>

  <!-- FOOTER -->
  <footer>
    <div class="links">
      <a href="https://flickr.com/photos/dungzak" target="_blank" rel="noopener">Flickr</a>
      <a href="https://instagram.com/dungzakcestlavie" target="_blank" rel="noopener">Instagram</a>
      <a href="https://youtube.com/@dungzakcestlavie" target="_blank" rel="noopener">MUSIC UNIVERSE</a>
      <a href="https://naver.me/x95dk3l1" target="_blank" rel="noopener">Naver Info</a>
      <a href="mailto:dungzakcestlavie@gmail.com">Email</a>
    </div>

    <small class="ko">©등작 燈酌 DUNGZAK CESTLAVIE</small>
    <small class="en">©DUNGZAK CESTLAVIE</small>
  </footer>

<script>
(function () {
  'use strict';

  /* -------------------------------------------
   * 0. 작은 헬퍼
   * ---------------------------------------- */
  const $  = (sel, root = document) => root.querySelector(sel);
  const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

  function safeJSONFetch(url) {
    return fetch(url, { cache: 'no-store' }).then(res => {
      if (!res.ok) throw new Error('HTTP ' + res.status);
      return res.json();
    });
  }

  function getLang() {
    const b = document.body;
    if (b.classList.contains('english')) return 'en';
    if (b.classList.contains('hybrid'))  return 'hy';
    return 'kr';
  }

  /* -------------------------------------------
   * 1. 메인 Nav (Poem / Works / Reports / Artist Bio)
   * ---------------------------------------- */
  function initNav() {
    const navButtons = $$('nav.primary button');
    const sections   = $$('main > section');
    const bioBtn     = $('#tab-bio');

    function showSection(id) {
      sections.forEach(sec => {
        sec.classList.toggle('is-active', sec.id === id);
      });
    }

    navButtons.forEach(btn => {
      const target = btn.dataset.target;
      if (!target) return;
      btn.addEventListener('click', () => {
        navButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        showSection(target);
      });
    });

    // 첫 로드: Poem
    showSection('poem');

    // Artist Bio 모달 열기
    if (bioBtn) {
      bioBtn.addEventListener('click', () => {
        openBioModal();
      });
    }
  }

  /* -------------------------------------------
   * 2. 전역 언어 토글 (KR / EN / KR+EN)
   * ---------------------------------------- */
  function initLanguage() {
    const koBtn = $('#koBtn');
    const enBtn = $('#enBtn');
    const hyBtn = $('#hyBtn');

    function setBodyLang(mode) {
      document.body.classList.remove('korean', 'english', 'hybrid');
      if (mode === 'en') {
        document.body.classList.add('english');
      } else if (mode === 'hy') {
        document.body.classList.add('hybrid');
      } else {
        document.body.classList.add('korean');
      }
    }

    function activate(btn) {
      [koBtn, enBtn, hyBtn].forEach(b => b && b.classList.remove('active'));
      if (btn) btn.classList.add('active');
    }

    if (koBtn) {
      koBtn.addEventListener('click', () => {
        setBodyLang('kr');
        activate(koBtn);
        syncBioLangToGlobal();
        updateOpenLightboxCaption();
      });
    }
    if (enBtn) {
      enBtn.addEventListener('click', () => {
        setBodyLang('en');
        activate(enBtn);
        syncBioLangToGlobal();
        updateOpenLightboxCaption();
      });
    }
    if (hyBtn) {
      hyBtn.addEventListener('click', () => {
        setBodyLang('hy');
        activate(hyBtn);
        updateOpenLightboxCaption();
      });
    }

    // 초기 값: korean
    setBodyLang('kr');
    if (koBtn) koBtn.classList.add('active');
  }

  /* -------------------------------------------
   * 3. Works (data/works.json 1회 로드)
   * ---------------------------------------- */
  let worksLoaded = false;
  let worksByPanel = {};
  function initWorks() {
    const panelIds = ['pray', 'human', 'rebirth', 'exist', 'cosmos'];
    const idMap = { 1: 'pray', 2: 'human', 3: 'rebirth', 4: 'exist', 5: 'cosmos' };

    const tabButtons = $$('.tabs .tab');
    tabButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.dataset.panel;
        if (!key) return;
        tabButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        panelIds.forEach(p => {
          const el = $('#panel-' + p);
          if (el) el.classList.toggle('active', p === key);
        });
      });
    });

    safeJSONFetch('data/works.json')
      .then(json => {
        const list = Array.isArray(json)
          ? json
          : (json.works || json.items || []);
        if (!Array.isArray(list)) return;

        worksByPanel = { pray: [], human: [], rebirth: [], exist: [], cosmos: [] };

        list.forEach(item => {
          let key = item.section || item.panel;
          if (!key && item.section_id != null) {
            const sid = Number(item.section_id);
            key = idMap[sid] || 'pray';
          }
          if (!key || !worksByPanel[key]) key = 'pray';
          worksByPanel[key].push(item);
        });

        Object.keys(worksByPanel).forEach(key => {
          const panel = $('#panel-' + key);
          if (!panel) return;
          renderWorksPanel(panel, worksByPanel[key]);
        });

        attachWorksLightbox();
        worksLoaded = true;
      })
      .catch(err => {
        console.error('works.json load error:', err);
        const allPanels = ['pray','human','rebirth','exist','cosmos'];
        allPanels.forEach(key => {
          const panel = $('#panel-' + key);
          if (!panel) return;
          panel.innerHTML = `
            <div class="w-msg">
              <div class="ko">작품 정보를 불러오는 중 문제가 발생했습니다. data/works.json 경로와 파일 구성을 확인해 주세요.</div>
              <div class="en">Unable to load artworks. Please check data/works.json path and structure.</div>
              <small>GitHub Actions 로그에서 오류 메시지를 함께 확인해 주세요.</small>
            </div>
          `;
        });
      });
  }

  function renderWorksPanel(panel, items) {
    if (!panel) return;
    if (!items || !items.length) {
      panel.innerHTML = `
        <div class="w-msg">
          <div class="ko">이 섹션에는 아직 등록된 작품이 없습니다.</div>
          <div class="en">No artworks have been registered in this section yet.</div>
        </div>
      `;
      return;
    }

    const html = [
      '<div class="w-grid">',
      ...items.map(item => {
        const id         = item.id || '';
        const titleKr    = item.title_kr || '';
        const titleEn    = item.title_en || '';
        const matKr      = item.material_kr || '';
        const matEn      = item.material_en || '';
        const sizeKr     = item.size_kr || '';
        const sizeEn     = item.size_en || '';
        const year       = item.year || '';
        const imgStd     = item.image || item.image_standard || '';
        const imgZoom    = item.zoom  || item.image_zoom     || imgStd;
        const safe = s => String(s).replace(/"/g, '&quot;');

        const captionKr = [titleKr, matKr, sizeKr, year].filter(Boolean).join('\n');
        const captionEn = [titleEn, matEn, sizeEn, year].filter(Boolean).join('\n');

        return `
          <article class="w-card"
                   data-id="${safe(id)}"
                   data-img="${safe(imgZoom || imgStd)}"
                   data-title-kr="${safe(titleKr)}"
                   data-title-en="${safe(titleEn)}"
                   data-mat-kr="${safe(matKr)}"
                   data-mat-en="${safe(matEn)}"
                   data-size-kr="${safe(sizeKr)}"
                   data-size-en="${safe(sizeEn)}"
                   data-year="${safe(year)}"
                   data-cap-kr="${safe(captionKr)}"
                   data-cap-en="${safe(captionEn)}">
            <img class="w-thumb"
                 src="${safe(imgStd)}"
                 alt="${safe(titleEn || titleKr || 'Artwork')}"
                 loading="lazy" />
            <div class="w-meta">
              <div class="w-title">
                <span class="ko">${titleKr}</span>
                <span class="en">${titleEn}</span>
              </div>
              <div class="w-sub">
                <span class="ko">${(matKr && year) ? `${matKr} · ${year}` : (matKr || year || '')}</span>
                <span class="en">${(matEn && year) ? `${matEn} · ${year}` : (matEn || year || '')}</span>
              </div>
            </div>
          </article>
        `;
      }),
      '</div>'
    ].join('');

    panel.innerHTML = html;
  }

  /* -------------------------------------------
   * 4. Lightbox
   * ---------------------------------------- */
  let lbOpenFrom = null;

  function attachWorksLightbox() {
    const worksRoot = $('#works');
    if (!worksRoot) return;

    worksRoot.addEventListener('click', e => {
      const card = e.target.closest('.w-card');
      if (!card) return;
      openLightboxFromCard(card);
    });

    const lb   = $('#lightbox');
    const btnX = $('#lbClose');
    if (lb) {
      lb.addEventListener('click', e => {
        if (e.target === lb) closeLightbox();
      });
    }
    if (btnX) {
      btnX.addEventListener('click', closeLightbox);
    }
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') closeLightbox();
    });
  }

  function buildCaptionForCard(card, mode) {
    const capKr = card.getAttribute('data-cap-kr') || '';
    const capEn = card.getAttribute('data-cap-en') || '';
    if (mode === 'en') {
      return capEn || capKr || '';
    }
    if (mode === 'hy') {
      if (capKr && capEn) return capKr + '\n\n' + capEn;
      return capKr || capEn || '';
    }
    return capKr || capEn || '';
  }

  function openLightboxFromCard(card) {
    const lb    = $('#lightbox');
    const lbImg = $('#lbImg');
    const lbCap = $('#lbCap');
    if (!lb || !lbImg || !lbCap) return;

    lbOpenFrom = card;

    const src  = card.getAttribute('data-img') || card.querySelector('img')?.src || '';
    const mode = getLang();

    lbImg.src = src;
    lbCap.textContent = buildCaptionForCard(card, mode);

    lb.classList.add('is-open');
    lb.setAttribute('aria-hidden', 'false');
  }

  function closeLightbox() {
    const lb    = $('#lightbox');
    const lbImg = $('#lbImg');
    const lbCap = $('#lbCap');
    if (!lb) return;
    lb.classList.remove('is-open');
    lb.setAttribute('aria-hidden', 'true');
    if (lbImg) lbImg.src = '';
    if (lbCap) lbCap.textContent = '';
    lbOpenFrom = null;
  }

  function updateOpenLightboxCaption() {
    if (!lbOpenFrom) return;
    const lbCap = $('#lbCap');
    if (!lbCap) return;
    lbCap.textContent = buildCaptionForCard(lbOpenFrom, getLang());
  }

  /* -------------------------------------------
   * 5. Reports
   * ---------------------------------------- */
  function initReports() {
    const grid = $('#reportGrid');
    if (!grid) return;

    const tabs = $$('.r-tab');
    const toggleBtn = $('#reportsToggle');

    function applyFilter(type) {
      const items = $$('.r-item', grid);
      items.forEach(item => {
        const cat = (item.dataset.category || '').toLowerCase();
        if (!type || type === 'all' || cat === type) {
          item.style.display = '';
        } else {
          item.style.display = 'none';
        }
      });
    }

    tabs.forEach(btn => {
      btn.addEventListener('click', () => {
        const type = (btn.dataset.r || '').toLowerCase();
        tabs.forEach(b => b.classList.remove('is-active'));
        btn.classList.add('is-active');
        applyFilter(type);
      });
    });

    if (toggleBtn) {
      toggleBtn.addEventListener('click', () => {
        const expanded = toggleBtn.getAttribute('aria-expanded') === 'true';
        toggleBtn.setAttribute('aria-expanded', String(!expanded));
        grid.style.display = expanded ? 'none' : 'grid';
      });
    }

    safeJSONFetch('data/reports.json')
      .then(json => {
        const list = Array.isArray(json)
          ? json
          : (json.reports || json.items || []);
        if (!Array.isArray(list) || !list.length) return;

        const html = list.map(item => {
          const id        = item.id || '';
          const year      = item.year || '';
          const category  = (item.category || 'theory').toLowerCase();
          const titleKr   = item.title_ko || item.title_kr || '';
          const titleEn   = item.title_en || '';
          const summaryKr = item.summary_ko || item.summary_kr || '';
          const summaryEn = item.summary_en || '';
          const href      = item.url || item.link || item.md_path || '#';

          return `
            <article class="r-item" data-category="${category}">
              <div class="t">
                <span class="ko">${titleKr}</span>
                <span class="en">${titleEn}</span>
              </div>
              <div class="m">
                <span>${id}</span> · <span>${year}</span> · <span>${category}</span>
              </div>
              <div class="s">
                <span class="ko">${summaryKr}</span>
                <span class="en">${summaryEn}</span>
              </div>
              <a href="${href}" target="_blank" rel="noopener"
                 style="display:inline-block;margin-top:10px;font-size:11px;text-decoration:underline;">
                <span class="ko">전체 보기 (새 창)</span>
                <span class="en">Open full report (new tab)</span>
              </a>
            </article>
          `;
        }).join('');

        grid.innerHTML = html;
        grid.style.display = 'grid';
        const defaultTab = tabs.find(b => b.dataset.r === 'all') || tabs[0];
        if (defaultTab) {
          defaultTab.classList.add('is-active');
          applyFilter((defaultTab.dataset.r || 'all').toLowerCase());
        }
      })
      .catch(err => {
        console.error('reports.json load error:', err);
      });
  }

  /* -------------------------------------------
   * 6. Artist Bio Modal
   * ---------------------------------------- */
  function openBioModal() {
    const modal = $('#bio-modal');
    if (!modal) return;
    modal.hidden = false;

    const cur = getLang();
    const lang = (cur === 'en') ? 'en' : 'kr';
    setBioLanguage(lang);
  }

  function closeBioModal() {
    const modal = $('#bio-modal');
    if (!modal) return;
    modal.hidden = true;
  }

  function setBioLanguage(lang) {
    const modal = $('#bio-modal');
    if (!modal) return;
    modal.setAttribute('data-bio', lang === 'en' ? 'en' : 'kr');

    const buttons = $$('#bio-modal .bio-lang .lang');
    buttons.forEach(btn => {
      const bLang = btn.getAttribute('data-bio-lang');
      const active = (bLang === lang || (!bLang && lang === 'kr'));
      btn.classList.toggle('active', active);
      btn.setAttribute('aria-pressed', active ? 'true' : 'false');
    });
  }

  function syncBioLangToGlobal() {
    const modal = $('#bio-modal');
    if (!modal || modal.hidden) return;
    const cur = getLang();
    const lang = (cur === 'en') ? 'en' : 'kr';
    setBioLanguage(lang);
  }

  function initBioModal() {
    const modal    = $('#bio-modal');
    if (!modal) return;
    const backdrop = $('.bio-backdrop', modal);
    const closeBtn = $('.bio-close', modal);
    const expoBtn  = $('#expoToggle');
    const expoWrap = $('#expoSlide');
    const langBtns = $$('#bio-modal .bio-lang .lang');

    if (backdrop) {
      backdrop.addEventListener('click', closeBioModal);
    }
    if (closeBtn) {
      closeBtn.addEventListener('click', closeBioModal);
    }
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape' && !modal.hidden) closeBioModal();
    });

    if (expoBtn && expoWrap) {
      expoBtn.addEventListener('click', () => {
        const isOpen = expoWrap.getAttribute('data-open') === 'true';
        expoWrap.setAttribute('data-open', isOpen ? 'false' : 'true');
        expoBtn.setAttribute('aria-expanded', isOpen ? 'false' : 'true');
      });
    }

    langBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const lang = btn.getAttribute('data-bio-lang') || 'kr';
        setBioLanguage(lang);
      });
    });

    modal.hidden = true;
  }

  /* -------------------------------------------
   * 7. Sound (우주 표식 · 영원 오브)
   *    - 프라하 곡으로 변경
   * ---------------------------------------- */
  function initSound() {
    const orb = $('#soundOrb');
    if (!orb) return;

    // ✅ 여기만 프라하 mp3로 변경
    const audio = new Audio('audio/lightflow_C_praha_quick6m.mp3');
    audio.loop = true;
    audio.preload = 'auto';
    audio.volume = 0.18; // 필요하면 여기서 조정

    let playing  = false;
    let pulseTimer = null;

    const prefersReduced = window.matchMedia &&
      window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function updateVisual() {
      orb.classList.toggle('is-on', playing);
      if (!playing && !prefersReduced) {
        orb.style.transform = '';
      }
    }

    function startPulse() {
      if (prefersReduced) return;
      if (pulseTimer) clearInterval(pulseTimer);
      pulseTimer = setInterval(() => {
        if (!playing) return;
        const scale = 0.96 + Math.random() * 0.08;
        orb.style.transform = 'scale(' + scale.toFixed(2) + ')';
      }, 420);
    }

    function stopPulse() {
      if (pulseTimer) {
        clearInterval(pulseTimer);
        pulseTimer = null;
      }
      if (!prefersReduced) {
        orb.style.transform = '';
      }
    }

    async function playSound() {
      try {
        await audio.play();
        playing = true;
        updateVisual();
        startPulse();
      } catch (err) {
        console.warn('Audio play failed:', err);
      }
    }

    function stopSound() {
      if (!playing) return;
      audio.pause();
      audio.currentTime = 0;
      playing = false;
      stopPulse();
      updateVisual();
    }

    function toggleSound() {
      if (playing) {
        stopSound();
      } else {
        playSound();
      }
    }

    orb.addEventListener('click', toggleSound);

    // 페이지 이탈 시 정지
    window.addEventListener('pagehide', () => {
      stopSound();
    });

    // 초기 상태: 정지
    updateVisual();
  }

  /* -------------------------------------------
   * 7-1. Waves 배경 (코스믹 파동)
   * ---------------------------------------- */
  function initWaves() {
    const canvas = document.getElementById('waves');
    if (!canvas) return;

    const ctx = canvas.getContext('2d');
    if (!ctx) return;

    const prefersReduced = window.matchMedia &&
      window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function resize() {
      const dpr = window.devicePixelRatio || 1;
      canvas.width  = window.innerWidth * dpr;
      canvas.height = window.innerHeight * dpr;
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    resize();
    window.addEventListener('resize', resize);

    let t = 0;
    function draw() {
      if (prefersReduced) return; // 움직임 최소화 설정 사용 시 정지 배경

      const dpr = window.devicePixelRatio || 1;
      const w = canvas.width  / dpr;
      const h = canvas.height / dpr;

      ctx.clearRect(0, 0, w, h);

      const gradients = [
        { color: 'rgba(215,184,106,0.22)', amp: 28, freq: 0.0015, speed: 0.015 },
        { color: 'rgba(121,167,255,0.20)', amp: 46, freq: 0.0011, speed: -0.010 },
        { color: 'rgba(237,227,201,0.16)', amp: 18, freq: 0.0020, speed: 0.008 }
      ];

      gradients.forEach((g, idx) => {
        ctx.beginPath();
        for (let x = 0; x <= w; x += 8) {
          const y = h * 0.25 + idx * 80 +
            Math.sin(x * g.freq + t * g.speed + idx) * g.amp;
          if (x === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.strokeStyle = g.color;
        ctx.lineWidth = 1.4;
        ctx.shadowColor = 'rgba(0,0,0,0.55)';
        ctx.shadowBlur = 10;
        ctx.stroke();
      });

      ctx.shadowBlur = 0;
      t += 1;
      requestAnimationFrame(draw);
    }

    if (!prefersReduced) {
      requestAnimationFrame(draw);
    }
  }

  /* -------------------------------------------
   * 8. 초기화
   * ---------------------------------------- */
  document.addEventListener('DOMContentLoaded', () => {
    try { initNav(); }        catch (e) { console.error(e); }
    try { initLanguage(); }   catch (e) { console.error(e); }
    try { initWorks(); }      catch (e) { console.error(e); }
    try { initReports(); }    catch (e) { console.error(e); }
    try { initBioModal(); }   catch (e) { console.error(e); }
    try { initSound(); }      catch (e) { console.error(e); }
    try { initWaves(); }      catch (e) { console.error(e); }
  });

})();
</script>
