<!doctype html>
<html lang="ko" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <title>ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE Â· Admin Î©.29 â€” Works & DCAR Auto Manager</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />

  <style>
    :root{
      --bg:#0b1020;
      --panel:#111a37;
      --ink:#eaf0ff;
      --sub:#9faee6;
      --accent:#f4c96b;
      --accent-soft:rgba(244,201,107,.15);
      --danger:#ff6b81;
      --ok:#3fd6a5;
      --border:#273260;
      --input-bg:#0d1330;
    }
    *{box-sizing:border-box;}
    html,body{
      margin:0;
      padding:0;
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Noto Sans KR",system-ui,sans-serif;
      background:radial-gradient(circle at top,#18224a 0,#050814 55%,#020309 100%);
      color:var(--ink);
    }
    body{
      min-height:100vh;
      padding:12px 10px 32px;
    }
    .shell{
      max-width:960px;
      margin:0 auto;
    }
    header{
      text-align:center;
      padding:4px 0 8px;
    }
    header h1{
      margin:0;
      font-size:20px;
      letter-spacing:.06em;
    }
    header h2{
      margin:4px 0 0;
      font-size:12px;
      color:var(--sub);
      font-weight:400;
    }
    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      justify-content:center;
      margin:14px 0 10px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 12px;
      border-radius:999px;
      border:1px solid rgba(244,201,107,.35);
      background:linear-gradient(135deg,rgba(244,201,107,.12),rgba(15,22,55,.9));
      font-size:11px;
      color:var(--accent);
      cursor:default;
    }
    .pill span.emoji{font-size:14px;}

    .tab-row{
      display:inline-flex;
      border-radius:999px;
      padding:3px;
      background:rgba(3,6,20,.9);
      border:1px solid rgba(255,255,255,.05);
      margin:0 auto 14px;
    }
    .tab{
      padding:5px 14px;
      border-radius:999px;
      font-size:12px;
      cursor:pointer;
      border:none;
      background:transparent;
      color:var(--sub);
    }
    .tab.active{
      background:var(--accent-soft);
      color:var(--accent);
    }

    .panel{
      border-radius:18px;
      background:radial-gradient(circle at top left,#1b244d 0, #070b1b 55%, #050714 100%);
      border:1px solid var(--border);
      padding:18px 16px 18px;
      margin-bottom:16px;
      box-shadow:0 22px 45px rgba(0,0,0,.55);
    }
    .panel h3{
      margin:0 0 10px;
      font-size:15px;
      letter-spacing:.08em;
      color:var(--accent);
    }
    .panel small{
      display:block;
      margin-top:2px;
      color:var(--sub);
      font-size:11px;
      line-height:1.4;
    }

    .field{
      margin:10px 0;
    }
    .field label{
      display:block;
      font-size:11px;
      color:var(--sub);
      margin-bottom:3px;
    }
    .field input,
    .field select,
    .field textarea{
      width:100%;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.08);
      background:var(--input-bg);
      color:var(--ink);
      font-size:13px;
      outline:none;
    }
    .field input:focus,
    .field select:focus,
    .field textarea:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(244,201,107,.3);
    }
    .field textarea{min-height:70px;resize:vertical;}

    .btn-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    .btn{
      padding:7px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(10,16,40,.95);
      color:var(--ink);
      font-size:12px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .btn-primary{
      background:linear-gradient(135deg,#f4c96b,#f19b4c);
      color:#05040a;
      border-color:rgba(0,0,0,.3);
      font-weight:600;
    }
    .btn-danger{
      background:rgba(255,76,110,.12);
      border-color:rgba(255,76,110,.7);
      color:#ff9fb1;
    }
    .btn[disabled]{
      opacity:.45;
      cursor:wait;
    }

    .hint{
      display:flex;
      align-items:flex-start;
      gap:8px;
      margin-top:10px;
      padding:8px 9px;
      border-radius:12px;
      background:rgba(11,18,40,.95);
      border:1px dashed rgba(255,255,255,.14);
      font-size:11px;
      color:var(--sub);
    }
    .hint-emoji{font-size:14px;line-height:1;}
    .status{
      margin-top:10px;
      font-size:11px;
      min-height:14px;
      white-space:pre-line;
    }
    .status.ok{color:var(--ok);}
    .status.err{color:var(--danger);}

    .divider-label{
      margin:18px 0 4px;
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.18em;
      color:rgba(159,174,230,.85);
    }

    @media (min-width:720px){
      body{padding:18px 18px 40px;}
      header h1{font-size:22px;}
      .panel{padding:20px 20px 20px;}
      .field-inline{
        display:flex;
        gap:10px;
      }
      .field-inline .field{flex:1;}
    }
  </style>
</head>
<body>
<div class="shell">
  <header>
    <h1>ë“±ì‘ ç‡ˆé…Œ DUNGZAK CESTLAVIE Â· Admin Î©.29</h1>
    <h2>Works(100) ìë™ ê´€ë¦¬ Â· DCAR ë³´ê³ ì„œ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ Â· GitHub Pages ì—°ë™</h2>
    <div class="pill-row">
      <div class="pill"><span class="emoji">âš™ï¸</span><span>AUTO GITHUB MANAGER</span></div>
      <div class="pill"><span class="emoji">ğŸ–¼ï¸</span><span>WORKS JSON êµ¬ì¡° ê³ ì •</span></div>
      <div class="pill"><span class="emoji">ğŸ“‘</span><span>DCAR REPORTS Â· UNTOUCHED</span></div>
    </div>
    <div class="tab-row" aria-label="Admin Tabs">
      <button class="tab active" type="button" id="tabWorks">Works</button>
      <button class="tab" type="button" id="tabDCAR">DCAR (ê³ ì •)</button>
    </div>
  </header>

  <!-- I. GitHub ì—°ê²° ì„¤ì • -->
  <section class="panel" id="githubPanel">
    <h3>I. GITHUB ì—°ê²° ì„¤ì •</h3>
    <small>
      ì•„ë˜ ê°’ì€ ë¸Œë¼ìš°ì € <strong>localStorage</strong>ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤. ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
      í•œ ë²ˆ ì €ì¥í•˜ë©´ ì´í›„ì—ëŠ” ë‹¤ì‹œ ì…ë ¥í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
    </small>

    <div class="field">
      <label for="githubOwner">GitHub Owner</label>
      <input id="githubOwner" autocomplete="off" placeholder="ì˜ˆ: dungzakcestlavie" />
    </div>

    <div class="field">
      <label for="githubRepo">Repository</label>
      <input id="githubRepo" autocomplete="off" placeholder="ì˜ˆ: dungzakcestlavie.github.io" />
    </div>

    <div class="field">
      <label for="githubBranch">Branch</label>
      <input id="githubBranch" autocomplete="off" value="main" />
    </div>

    <div class="field">
      <label for="githubToken">Personal Access Token (github_pat_â€¦)</label>
      <input id="githubToken" autocomplete="off" placeholder="github_pat_ ë¡œ ì‹œì‘í•˜ëŠ” í† í°ì„ ì…ë ¥í•˜ì„¸ìš”" />
    </div>

    <div class="btn-row">
      <button class="btn btn-primary" type="button" id="saveSettingsBtn">ì„¤ì • ì €ì¥</button>
      <button class="btn" type="button" id="loadSettingsBtn">ë¶ˆëŸ¬ì˜¤ê¸°</button>
      <button class="btn btn-danger" type="button" id="resetSettingsBtn">ì´ˆê¸°í™”</button>
    </div>

    <div class="hint">
      <span class="hint-emoji">â„¹ï¸</span>
      <span>
        GitHub í† í°ì—ëŠ” <strong>repo &gt; contents: read/write</strong> ê¶Œí•œë§Œ ìˆìœ¼ë©´ ë©ë‹ˆë‹¤.<br>
        ì„¤ì •ì„ ì €ì¥í•œ ë’¤ ì•„ë˜ì—ì„œ ì‘í’ˆ ì—…ë¡œë“œë¥¼ ì§„í–‰í•´ ì£¼ì„¸ìš”.
      </span>
    </div>

    <div id="settingsStatus" class="status"></div>
  </section>

  <!-- II. ì‘í’ˆ ì—…ë¡œë“œ Â· ë©”íƒ€ë°ì´í„° ìë™ ê´€ë¦¬ -->
  <section class="panel" id="worksPanel">
    <h3>II. ì‘í’ˆ ì—…ë¡œë“œ Â· ë©”íƒ€ë°ì´í„° ìë™ ê´€ë¦¬</h3>
    <small>
      í•œ ë²ˆì— 1ì ì”© ì—…ë¡œë“œí•©ë‹ˆë‹¤. ì´ë¯¸ì§€ëŠ” <code>/images/zoom/DZ-XXX.jpg</code>ë¡œ ì €ì¥ë˜ê³ ,
      <code>data/works.json</code>ì— ìë™ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤.
    </small>

    <div class="divider-label">1 Â· ì‘í’ˆ ì´ë¯¸ì§€ íŒŒì¼</div>
    <div class="field">
      <label for="workFile">ì‘í’ˆ ì´ë¯¸ì§€ (ê¶Œì¥ 3000px ì´ìƒ JPG)</label>
      <input id="workFile" type="file" accept="image/jpeg,image/jpg,image/png" />
    </div>

    <div class="divider-label">2 Â· ê¸°ë³¸ ë©”íƒ€ë°ì´í„°</div>
    <div class="field">
      <label for="workSection">ì„¹ì…˜ ì´ë¦„ (ì˜ˆ: I ìš°ë¦¬ë¥¼ ìœ„í•´ ê¸°ë„í•´ ì£¼ì„¸ìš” Â· Pray for Us)</label>
      <input id="workSection" autocomplete="off" />
    </div>

    <div class="field-inline">
      <div class="field">
        <label for="workTitleKr">ì œëª© (KR)</label>
        <input id="workTitleKr" autocomplete="off" />
      </div>
      <div class="field">
        <label for="workTitleEn">Title (EN)</label>
        <input id="workTitleEn" autocomplete="off" />
      </div>
    </div>

    <div class="field-inline">
      <div class="field">
        <label for="workYear">ì—°ë„ (Year)</label>
        <input id="workYear" autocomplete="off" placeholder="ì˜ˆ: 2025" />
      </div>
      <div class="field">
        <label for="workSize">ì‚¬ì´ì¦ˆ (Size)</label>
        <input id="workSize" autocomplete="off" placeholder="ì˜ˆ: 162.2Ã—130.3cm" />
      </div>
    </div>

    <div class="field">
      <label for="workMaterial">ì¬ë£Œ / Material</label>
      <input id="workMaterial" autocomplete="off" placeholder="ì˜ˆ: acrylic on canvas" />
    </div>

    <div class="field">
      <label for="workNote">ì¶”ê°€ ë©”ëª¨ (ì„ íƒ)</label>
      <textarea id="workNote" placeholder="ì „ì‹œ ì •ë³´, ì‹œë¦¬ì¦ˆëª…, ë¹„ê³  ë“±"></textarea>
    </div>

    <div class="btn-row">
      <button class="btn btn-primary" type="button" id="uploadWorkBtn">ì‘í’ˆ ì—…ë¡œë“œ</button>
    </div>

    <div class="hint">
      <span class="hint-emoji">ğŸ“¡</span>
      <span>
        ì—…ë¡œë“œ ì‹œ Adminì´ ìë™ìœ¼ë¡œ ë‹¤ìŒ IDë¥¼ ê³„ì‚°í•˜ì—¬ <code>DZ-XXX</code> íŒŒì¼ëª…ì„ ë§Œë“¤ê³ ,
        <code>data/works.json</code> ëì— í•­ëª©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.<br>
        DCAR ë³´ê³ ì„œ íŒŒì¼(<code>reports/</code>)ì€ ì ˆëŒ€ ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
      </span>
    </div>

    <div id="uploadStatus" class="status"></div>
  </section>

  <!-- DCAR íƒ­ ë‚´ìš© (ì§€ê¸ˆì€ ì•ˆë‚´ë§Œ) -->
  <section class="panel" id="dcarPanel" style="display:none;">
    <h3>DCAR REPORTS Â· UNTOUCHED</h3>
    <small>
      ì´ ì˜ì—­ì—ì„œëŠ” DCAR ë¯¸í•™ ë³´ê³ ì„œ íŒŒì¼ì„ <strong>ì¡°íšŒë§Œ</strong> í•©ë‹ˆë‹¤.
      Admin Î©.29ì—ì„œëŠ” ë³´ê³ ì„œ ì›ë¬¸ì„ ë³€ê²½í•˜ì§€ ì•Šê³ , íŒŒì¼ êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•©ë‹ˆë‹¤.
    </small>
    <p style="margin-top:10px;font-size:12px;color:var(--sub);line-height:1.6;">
      DCAR-01 ~ DCAR-10 ì „ì²´ í…ìŠ¤íŠ¸ëŠ” GitHub ì €ì¥ì†Œì˜ <code>/reports</code> ë°
      <code>/data/reports.json</code>ì— ë³´ì¡´ë©ë‹ˆë‹¤. í–¥í›„ ë²„ì „ì—ì„œ ì¡°íšŒÂ·ë‹¤ìš´ë¡œë“œ ì „ìš©
      ë·°ì–´ê°€ ì¶”ê°€ë  ìˆ˜ ìˆì§€ë§Œ, ìë™ ìˆ˜ì • ê¸°ëŠ¥ì€ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    </p>
  </section>
</div>

<script>
  // ---- ê³µí†µ ----
  const qs = (sel) => document.querySelector(sel);

  // ---- íƒ­ ì „í™˜ ----
  const tabWorks = qs('#tabWorks');
  const tabDCAR  = qs('#tabDCAR');
  const worksPanel = qs('#worksPanel');
  const dcarPanel  = qs('#dcarPanel');

  tabWorks.addEventListener('click', () => {
    tabWorks.classList.add('active');
    tabDCAR.classList.remove('active');
    worksPanel.style.display = '';
    dcarPanel.style.display = 'none';
  });
  tabDCAR.addEventListener('click', () => {
    tabDCAR.classList.add('active');
    tabWorks.classList.remove('active');
    worksPanel.style.display = 'none';
    dcarPanel.style.display = '';
  });

  // ---- GitHub ì„¤ì • ----
  const STORAGE_KEY = 'dz_admin_github_settings_v3';

  const ownerInput  = qs('#githubOwner');
  const repoInput   = qs('#githubRepo');
  const branchInput = qs('#githubBranch');
  const tokenInput  = qs('#githubToken');
  const settingsStatus = qs('#settingsStatus');

  function loadSettings(showMessage = false){
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw){
        if(showMessage){
          settingsStatus.textContent = 'ì €ì¥ëœ ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤.';
          settingsStatus.className = 'status';
        }
        return;
      }
      const s = JSON.parse(raw);
      ownerInput.value  = s.owner || '';
      repoInput.value   = s.repo || '';
      branchInput.value = s.branch || 'main';
      tokenInput.value  = s.token || '';
      if(showMessage){
        settingsStatus.textContent = 'ì €ì¥ëœ ì„¤ì •ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.';
        settingsStatus.className = 'status ok';
      }
    }catch(e){
      console.error(e);
      if(showMessage){
        settingsStatus.textContent = 'ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        settingsStatus.className = 'status err';
      }
    }
  }

  function saveSettings(){
    const owner  = ownerInput.value.trim();
    const repo   = repoInput.value.trim();
    const branch = branchInput.value.trim() || 'main';
    const token  = tokenInput.value.trim();

    if(!owner || !repo || !branch || !token){
      settingsStatus.textContent = 'ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.';
      settingsStatus.className = 'status err';
      return;
    }
    const data = {owner, repo, branch, token};
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
    settingsStatus.textContent = 'GitHub ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.';
    settingsStatus.className = 'status ok';
  }

  function resetSettings(){
    localStorage.removeItem(STORAGE_KEY);
    ownerInput.value = '';
    repoInput.value = '';
    branchInput.value = 'main';
    tokenInput.value = '';
    settingsStatus.textContent = 'ì„¤ì •ì„ ì´ˆê¸°í™”í–ˆìŠµë‹ˆë‹¤.';
    settingsStatus.className = 'status';
  }

  qs('#saveSettingsBtn').addEventListener('click', saveSettings);
  qs('#loadSettingsBtn').addEventListener('click', () => loadSettings(true));
  qs('#resetSettingsBtn').addEventListener('click', resetSettings);

  // ì´ˆê¸° ìë™ ë¡œë“œ (ë©”ì‹œì§€ëŠ” í‘œì‹œí•˜ì§€ ì•ŠìŒ)
  loadSettings(false);

  // ---- GitHub API ìœ í‹¸ ----
  function getCurrentSettings(){
    const raw = localStorage.getItem(STORAGE_KEY);
    if(!raw) return null;
    try{
      return JSON.parse(raw);
    }catch(e){
      console.error(e);
      return null;
    }
  }

  async function githubRequest(path, options = {}){
    const settings = getCurrentSettings();
    if(!settings) throw new Error('GitHub ì„¤ì •ì´ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.');

    const {owner, repo, branch, token} = settings;
    const base = `https://api.github.com/repos/${owner}/${repo}`;
    const url = `${base}${path}`;

    const headers = Object.assign({
      'Accept':'application/vnd.github+json',
      'Authorization':`Bearer ${token}`,
    }, options.headers || {});

    const res = await fetch(url, {
      method: options.method || 'GET',
      headers,
      body: options.body ? JSON.stringify(options.body) : undefined,
    });

    if(!res.ok){
      const text = await res.text();
      throw new Error(`GitHub API ì˜¤ë¥˜ (${res.status}): ${text}`);
    }
    return res.json();
  }

  // ---- ì‘í’ˆ ì—…ë¡œë“œ ----
  const uploadBtn    = qs('#uploadWorkBtn');
  const uploadStatus = qs('#uploadStatus');

  async function uploadWork(){
    const fileInput = qs('#workFile');
    const file = fileInput.files[0];

    const section  = qs('#workSection').value.trim();
    const titleKr  = qs('#workTitleKr').value.trim();
    const titleEn  = qs('#workTitleEn').value.trim();
    const year     = qs('#workYear').value.trim();
    const size     = qs('#workSize').value.trim();
    const material = qs('#workMaterial').value.trim();
    const note     = qs('#workNote').value.trim();

    uploadStatus.className = 'status';
    uploadStatus.textContent = '';

    if(!getCurrentSettings()){
      uploadStatus.textContent = 'ë¨¼ì € GitHub ì„¤ì •ì„ ì €ì¥í•´ ì£¼ì„¸ìš”.';
      uploadStatus.className = 'status err';
      return;
    }
    if(!file){
      uploadStatus.textContent = 'ì—…ë¡œë“œí•  ì‘í’ˆ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.';
      uploadStatus.className = 'status err';
      return;
    }
    if(!section || !titleKr || !year){
      uploadStatus.textContent = 'ì„¹ì…˜, ì œëª©(í•œê¸€), ì—°ë„ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.';
      uploadStatus.className = 'status err';
      return;
    }

    try{
      uploadBtn.disabled = true;
      uploadStatus.textContent = 'í˜„ì¬ ID í™•ì¸ ì¤‘â€¦';
      const settings = getCurrentSettings();
      const branch   = settings.branch || 'main';

      // 1) works.json ì½ê¸° (ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´)
      let works = [];
      let worksSha = null;
      try{
        const data = await githubRequest(`/contents/data/works.json?ref=${encodeURIComponent(branch)}`);
        worksSha = data.sha;
        const content = atob(data.content.replace(/\n/g,''));
        works = JSON.parse(content);
        if(!Array.isArray(works)){ works = []; }
      }catch(e){
        // 404ì¸ ê²½ìš° ìƒˆë¡œ ìƒì„±
        console.warn('works.jsonì„ ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.', e.message);
        works = [];
        worksSha = null;
      }

      // 2) ë‹¤ìŒ ID ê³„ì‚°
      let maxId = 0;
      for(const w of works){
        if(!w.id) continue;
        const n = parseInt(String(w.id).replace(/[^0-9]/g,''),10);
        if(!isNaN(n) && n>maxId) maxId = n;
      }
      const nextNum = maxId + 1;
      const idStr = String(nextNum).padStart(3,'0');
      const workId = `DZ-${idStr}`;
      const filename = `${workId}.jpg`;

      uploadStatus.textContent = `ìƒˆ ID: ${workId} Â· ì´ë¯¸ì§€ ì—…ë¡œë“œ ì¤‘â€¦`;

      // 3) íŒŒì¼ Base64 ì¸ì½”ë”©
      const fileBase64 = await new Promise((resolve, reject)=>{
        const reader = new FileReader();
        reader.onload = () => {
          const result = reader.result;
          const base64 = String(result).split(',')[1];
          resolve(base64);
        };
        reader.onerror = err => reject(err);
        reader.readAsDataURL(file);
      });

      // 4) ì´ë¯¸ì§€ ì—…ë¡œë“œ
      const imgPath = `images/zoom/${filename}`;
      await githubRequest(`/contents/${encodeURIComponent(imgPath)}`, {
        method:'PUT',
        body:{
          message:`Add image ${filename}`,
          content:fileBase64,
          branch
        }
      });

      uploadStatus.textContent = `ì´ë¯¸ì§€ ì—…ë¡œë“œ ì™„ë£Œ Â· works.json ì—…ë°ì´íŠ¸ ì¤‘â€¦`;

      // 5) works.json ì—…ë°ì´íŠ¸
      const newWork = {
        id: workId,
        section,
        title_kr: titleKr,
        title_en: titleEn,
        year,
        size,
        material,
        note,
        image: `/${imgPath}`
      };
      works.push(newWork);

      const newWorksContent = btoa(unescape(encodeURIComponent(JSON.stringify(works, null, 2))));

      const worksBody = {
        message:`Add work ${workId}`,
        content:newWorksContent,
        branch
      };
      if(worksSha){
        worksBody.sha = worksSha;
      }

      await githubRequest(`/contents/data/works.json`, {
        method:'PUT',
        body:worksBody
      });

      uploadStatus.textContent =
        `ì—…ë¡œë“œ ì™„ë£Œ: ${workId}\nì´ë¯¸ì§€ì™€ ë©”íƒ€ë°ì´í„°ê°€ GitHubì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`;
      uploadStatus.className = 'status ok';

      // ì…ë ¥ê°’ ì´ˆê¸°í™” (ì„¹ì…˜ì€ ìœ ì§€)
      fileInput.value = '';
      qs('#workTitleKr').value = '';
      qs('#workTitleEn').value = '';
      qs('#workYear').value = '';
      qs('#workSize').value = '';
      qs('#workMaterial').value = '';
      qs('#workNote').value = '';

    }catch(err){
      console.error(err);
      uploadStatus.textContent = `ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\n${err.message}`;
      uploadStatus.className = 'status err';
    }finally{
      uploadBtn.disabled = false;
    }
  }

  uploadBtn.addEventListener('click', uploadWork);
</script>
</body>
</html>